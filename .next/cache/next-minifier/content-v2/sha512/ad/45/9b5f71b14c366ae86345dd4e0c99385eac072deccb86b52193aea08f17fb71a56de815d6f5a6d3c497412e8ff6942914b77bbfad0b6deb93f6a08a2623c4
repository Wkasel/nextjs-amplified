{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{\"+KNX\":function(e){e.exports=JSON.parse('{\"a\":\"@aws-sdk/client-cognito-identity\",\"b\":\"1.0.0-gamma.2\"}')},\"/RF1\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"mrSG\"),i=n(\"ko+D\");function o(e){if(\"object\"===typeof e){var t=Promise.resolve(e);return function(){return t}}return e}t.resolveAwsAuthConfig=function(e){var t,n=this,s=o(e.credentials||e.credentialDefaultProvider(e)),a=e.signingEscapePath,u=void 0===a||a,c=e.systemClockOffset,f=void 0===c?e.systemClockOffset||0:c,l=e.sha256;return t=e.signer?o(e.signer):function(){return o(e.region)().then((function(t){return r.__awaiter(n,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[n.sent()||{},t]]}}))}))})).then((function(t){var n=r.__read(t,2),o=n[0],a=n[1],c=o.signingRegion,f=void 0===c?e.signingRegion:c,h=o.signingService,d=void 0===h?e.signingName:h;return e.signingRegion=e.signingRegion||f||a,e.signingName=e.signingName||d,new i.SignatureV4({credentials:s,region:e.signingRegion,service:e.signingName,sha256:l,uriEscapePath:u})}))},r.__assign(r.__assign({},e),{systemClockOffset:f,signingEscapePath:u,credentials:s,signer:t})}},\"06fZ\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.defaultUserAgent=function(e,t){return\"aws-sdk-js-v3-\"+e+\"/\"+t+\" \"+(\"undefined\"!==typeof navigator&&\"string\"===typeof navigator.userAgent?navigator.userAgent:\"\")}},\"0Dgy\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"mrSG\");r.__exportStar(n(\"8A1I\"),t),r.__exportStar(n(\"nbHn\"),t)},\"0f27\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"0nHS\"),i=n(\"cndw\");t.defaultRetryDecider=function(e){return!!e&&(!!e.connectionError||(!!(function(e){return null===e||void 0===e?void 0:e.$metadata}(e)&&e.$metadata.httpStatusCode&&r.RETRYABLE_STATUS_CODES.has(e.$metadata.httpStatusCode))||(i.isStillProcessingError(e)||i.isThrottlingError(e)||i.isClockSkewError(e))))}},\"0nHS\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.DEFAULT_RETRY_DELAY_BASE=100,t.MAXIMUM_RETRY_DELAY=2e4,t.RETRYABLE_STATUS_CODES=new Set,[429,500,502,503,504,509].forEach((function(e){return t.RETRYABLE_STATUS_CODES.add(e)})),t.THROTTLING_RETRY_DELAY_BASE=500},\"2SVd\":function(e,t,n){\"use strict\";e.exports=function(e){return/^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(e)}},\"3sDZ\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"mrSG\"),i=n(\"V+gA\");t.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){var t,n,o=Promise.reject(new i.ProviderError(\"No providers in chain\")),s=function(e){o=o.catch((function(t){if(null===t||void 0===t?void 0:t.tryNextLink)return e();throw t}))};try{for(var a=r.__values(e),u=a.next();!u.done;u=a.next()){s(u.value)}}catch(c){t={error:c}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o}}},\"49sm\":function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return\"[object Array]\"==n.call(e)}},\"4fRq\":function(e,t){var n=\"undefined\"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||\"undefined\"!=typeof msCrypto&&\"function\"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},\"4usX\":function(e,t){Object.defineProperty(t,\"__esModule\",{value:!0});var n={};t.locateWindow=function(){return\"undefined\"!==typeof window?window:\"undefined\"!==typeof self?self:n}},\"5oMp\":function(e,t,n){\"use strict\";e.exports=function(e,t){return t?e.replace(/\\/+$/,\"\")+\"/\"+t.replace(/^\\/+/,\"\"):e}},\"6e9T\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"rePB\");function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error(\"[Immer] minified error nr: \"+e+(n.length?\" \"+n.join(\",\"):\"\")+\". Find the full error at: https://bit.ly/3cXEKWf\")}function o(e){return!!e&&!!e[K]}function s(e){return!!e&&(function(e){if(!e||\"object\"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||Array.isArray(e)||!!e[H]||!!e.constructor[H]||d(e)||p(e))}function a(e,t,n){void 0===n&&(n=!1),0===u(e)?(n?Object.keys:z)(e).forEach((function(r){n&&\"symbol\"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function u(e){var t=e[K];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:d(e)?2:p(e)?3:0}function c(e,t){return 2===u(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function f(e,t){return 2===u(e)?e.get(t):e[t]}function l(e,t,n){var r=u(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function h(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function d(e){return L&&e instanceof Map}function p(e){return B&&e instanceof Set}function g(e){return e.o||e.t}function y(e){if(Array.isArray(e))return e.slice();var t=G(e);delete t[K];for(var n=z(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function v(e,t){Object.isFrozen(e)||o(e)||!s(e)||(u(e)>1&&(e.set=e.add=e.clear=e.delete=m),Object.freeze(e),t&&a(e,(function(e,t){return v(t,!0)}),!0))}function m(){i(2)}function b(e){var t=Y[e];return t||i(19,e),t}function _(){return j}function w(e,t){t&&(b(\"Patches\"),e.u=[],e.s=[],e.v=t)}function S(e){E(e),e.p.forEach(I),e.p=null}function E(e){e===j&&(j=e.l)}function A(e){return j={p:[],l:j,h:e,m:!0,_:0}}function I(e){var t=e[K];0===t.i||1===t.i?t.j():t.O=!0}function O(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||b(\"ES5\").S(t,e,r),r?(n[K].P&&(S(t),i(4)),s(e)&&(e=T(t,e),t.l||P(t,e)),t.u&&b(\"Patches\").M(n[K],e,t.u,t.s)):e=T(t,n,[]),S(t),t.u&&t.v(t.u,t.s),e!==V?e:void 0}function T(e,t,n){if(null==(r=t)||\"object\"!=typeof r||Object.isFrozen(r))return t;var r,i=t[K];if(!i)return a(t,(function(r,o){return C(e,i,t,r,o,n)}),!0),t;if(i.A!==e)return t;if(!i.P)return P(e,i.t,!0),i.t;if(!i.I){i.I=!0,i.A._--;var o=4===i.i||5===i.i?i.o=y(i.k):i.o;a(o,(function(t,r){return C(e,i,o,t,r,n)})),P(e,o,!1),n&&e.u&&b(\"Patches\").R(i,n,e.u,e.s)}return i.o}function C(e,t,n,r,i,a){if(o(i)){var u=T(e,i,a&&t&&3!==t.i&&!c(t.D,r)?a.concat(r):void 0);if(l(n,r,u),!o(u))return;e.m=!1}if(s(i)&&!Object.isFrozen(i)){if(!e.h.N&&e._<1)return;T(e,i),t&&t.A.l||P(e,i)}}function P(e,t,n){void 0===n&&(n=!1),e.h.N&&e.m&&v(t,n)}function k(e,t){var n=e[K];return(n?g(n):e)[t]}function N(e){e.P||(e.P=!0,e.l&&N(e.l))}function U(e){e.o||(e.o=y(e.t))}function R(e,t,n){var r=d(t)?b(\"MapSet\").T(t,n):p(t)?b(\"MapSet\").F(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:_(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=W;n&&(i=[r],o=J);var s=Proxy.revocable(i,o),a=s.revoke,u=s.proxy;return r.k=u,r.j=a,u}(t,n):b(\"ES5\").J(t,n);return(n?n.A:_()).p.push(r),r}function D(e){return o(e)||i(22,e),function e(t){if(!s(t))return t;var n,r=t[K],i=u(t);if(r){if(!r.P&&(r.i<4||!b(\"ES5\").K(r)))return r.t;r.I=!0,n=x(t,i),r.I=!1}else n=x(t,i);return a(n,(function(t,i){r&&f(r.t,t)===i||l(n,t,e(i))})),3===i?new Set(n):n}(e)}function x(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return y(e)}var M,j,F=\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol(\"x\"),L=\"undefined\"!=typeof Map,B=\"undefined\"!=typeof Set,q=\"undefined\"!=typeof Proxy&&void 0!==Proxy.revocable&&\"undefined\"!=typeof Reflect,V=F?Symbol(\"immer-nothing\"):((M={})[\"immer-nothing\"]=!0,M),H=F?Symbol(\"immer-draftable\"):\"__$immer_draftable\",K=F?Symbol(\"immer-state\"):\"__$immer_state\",z=(\"undefined\"!=typeof Symbol&&Symbol.iterator,\"undefined\"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames),G=Object.getOwnPropertyDescriptors||function(e){var t={};return z(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Y={},W={get:function(e,t){if(t===K)return e;var n=g(e);if(!c(n,t))return function(e,t,n){if(n in t)for(var r=Object.getPrototypeOf(t);r;){var i,o=Object.getOwnPropertyDescriptor(r,n);if(o)return\"value\"in o?o.value:null===(i=o.get)||void 0===i?void 0:i.call(e.k);r=Object.getPrototypeOf(r)}}(e,n,t);var r=n[t];return e.I||!s(r)?r:r===k(e.t,t)?(U(e),e.o[t]=R(e.A.h,r,e)):r},has:function(e,t){return t in g(e)},ownKeys:function(e){return Reflect.ownKeys(g(e))},set:function(e,t,n){if(e.D[t]=!0,!e.P){if(h(n,k(g(e),t))&&void 0!==n)return!0;U(e),N(e)}return e.o[t]=n,!0},deleteProperty:function(e,t){return void 0!==k(e.t,t)||t in e.t?(e.D[t]=!1,U(e),N(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=g(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||\"length\"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){i(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){i(12)}},J={};a(W,(function(e,t){J[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),J.deleteProperty=function(e,t){return W.deleteProperty.call(this,e[0],t)},J.set=function(e,t,n){return W.set.call(this,e[0],t,n,e[0])};var Q=new(function(){function e(e){this.g=q,this.N=!1,\"boolean\"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),\"boolean\"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var t=e.prototype;return t.produce=function(e,t,n){if(\"function\"==typeof e&&\"function\"!=typeof t){var r=t;t=e;var o=this;return function(e){var n=this;void 0===e&&(e=r);for(var i=arguments.length,s=Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];return o.produce(e,(function(e){var r;return(r=t).call.apply(r,[n,e].concat(s))}))}}var a;if(\"function\"!=typeof t&&i(6),void 0!==n&&\"function\"!=typeof n&&i(7),s(e)){var u=A(this),c=R(this,e,void 0),f=!0;try{a=t(c),f=!1}finally{f?S(u):E(u)}return\"undefined\"!=typeof Promise&&a instanceof Promise?a.then((function(e){return w(u,n),O(e,u)}),(function(e){throw S(u),e})):(w(u,n),O(a,u))}if(!e||\"object\"!=typeof e){if((a=t(e))===V)return;return void 0===a&&(a=e),this.N&&v(a,!0),a}i(21,e)},t.produceWithPatches=function(e,t){var n,r,i=this;return\"function\"==typeof e?function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return i.produceWithPatches(t,(function(t){return e.apply(void 0,[t].concat(r))}))}:[this.produce(e,t,(function(e,t){n=e,r=t})),n,r]},t.createDraft=function(e){s(e)||i(8),o(e)&&(e=D(e));var t=A(this),n=R(this,e,void 0);return n[K].C=!0,E(t),n},t.finishDraft=function(e,t){var n=(e&&e[K]).A;return w(n,t),O(void 0,n)},t.setAutoFreeze=function(e){this.N=e},t.setUseProxies=function(e){e&&!q&&i(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&\"replace\"===r.op){e=r.value;break}}var i=b(\"Patches\").$;return o(e)?i(e,t):this.produce(e,(function(e){return i(e,t.slice(n+1))}))},e}()),X=Q.produce,Z=(Q.produceWithPatches.bind(Q),Q.setAutoFreeze.bind(Q),Q.setUseProxies.bind(Q),Q.applyPatches.bind(Q),Q.createDraft.bind(Q),Q.finishDraft.bind(Q),X);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}t.default=function(e,t){switch(t.type){case\"set-current\":return Z(e,(function(e){e.currentTodo=t.payload}));case\"add\":return Z(e,(function(e){e.todos.push(t.payload)}));case\"update\":var n=e.todos.findIndex((function(e){return e.id===t.payload.id}));return-1===n?e:Z(e,(function(e){e.todos[n]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.payload)}));case\"delete\":var i=e.todos.findIndex((function(e){return e.id===t.payload.id}));return-1===i?e:Z(e,(function(e){e.todos.splice(i,1)}));default:throw new Error(\"Unsupported action \".concat(JSON.stringify(t)))}}},\"7Iz+\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"mrSG\");r.__exportStar(n(\"/RF1\"),t),r.__exportStar(n(\"kiFo\"),t)},\"7VPu\":function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(\"Ib8C\"),n(\"lPiR\"),n(\"WYAk\"),o.HmacSHA256)}()},\"7YE0\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.requestTimeout=function(e){return void 0===e&&(e=0),new Promise((function(t,n){e&&setTimeout((function(){var t=new Error(\"Request did not complete within \"+e+\" ms\");t.name=\"TimeoutError\",n(t)}),e)}))}},\"8A1I\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"mrSG\"),i=n(\"eLY0\"),o=n(\"7YE0\"),s=n(\"gpF+\"),a=function(){function e(e){void 0===e&&(e={}),this.httpOptions=e}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=null===t||void 0===t?void 0:t.abortSignal,a=this.httpOptions.requestTimeout;if(null===n||void 0===n?void 0:n.aborted){var u=new Error(\"Request aborted\");return u.name=\"AbortError\",Promise.reject(u)}var c=e.path;if(e.query){var f=s.buildQueryString(e.query);f&&(c+=\"?\"+f)}var l=e.port,h=e.protocol+\"//\"+e.hostname+(l?\":\"+l:\"\")+c,d={body:e.body,headers:new Headers(e.headers),method:e.method,mode:\"cors\"};\"undefined\"!==typeof AbortController&&(d.signal=n);var p=new Request(h,d),g=[fetch(p).then((function(e){var t,n,o=e.headers,s={};try{for(var a=r.__values(o.entries()),u=a.next();!u.done;u=a.next()){var c=u.value;s[c[0]]=c[1]}}catch(f){t={error:f}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new i.HttpResponse({headers:s,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new i.HttpResponse({headers:s,statusCode:e.status,body:t})}}))})),o.requestTimeout(a)];return n&&g.push(new Promise((function(e,t){n.onabort=function(){var e=new Error(\"Request aborted\");e.name=\"AbortError\",t(e)}}))),Promise.race(g)},e}();t.FetchHttpHandler=a},\"8OeJ\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const r=n(\"mrSG\");r.__exportStar(n(\"qGyK\"),t),r.__exportStar(n(\"YYqL\"),t),r.__exportStar(n(\"M9Q+\"),t)},\"8oxB\":function(e,t){var n,r,i=e.exports={};function o(){throw new Error(\"setTimeout has not been defined\")}function s(){throw new Error(\"clearTimeout has not been defined\")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n=\"function\"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r=\"function\"===typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var u,c=[],f=!1,l=-1;function h(){f&&u&&(f=!1,u.length?c=u.concat(c):l=-1,c.length&&d())}function d(){if(!f){var e=a(h);f=!0;for(var t=c.length;t;){for(u=c,c=[];++l<t;)u&&u[l].run();l=-1,t=c.length}u=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||f||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title=\"browser\",i.browser=!0,i.env={},i.argv=[],i.version=\"\",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error(\"process.binding is not supported\")},i.cwd=function(){return\"/\"},i.chdir=function(e){throw new Error(\"process.chdir is not supported\")},i.umask=function(){return 0}},\"8qbq\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.isa=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return\"object\"===typeof e&&(\"__type\"in e&&t.indexOf(e.__type)>-1||\"name\"in e&&t.indexOf(e.name)>-1)}},\"9rSQ\":function(e,t,n){\"use strict\";var r=n(\"xTJ+\");function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},\"9s+c\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.CLOCK_SKEW_ERROR_CODES={AuthFailure:!0,InvalidSignatureException:!0,RequestExpired:!0,RequestInTheFuture:!0,RequestTimeTooSkewed:!0,SignatureDoesNotMatch:!0},t.STILL_PROCESSING_ERROR_CODES={PriorRequestNotComplete:!0},t.THROTTLING_ERROR_CODES={BandwidthLimitExceeded:!0,ProvisionedThroughputExceededException:!0,RequestLimitExceeded:!0,RequestThrottled:!0,RequestThrottledException:!0,SlowDown:!0,ThrottledException:!0,Throttling:!0,ThrottlingException:!0,TooManyRequestsException:!0}},\"9uRL\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.isValidHostname=function(e){return/^[a-zA-Z0-9]{1}$|^[a-zA-Z0-9][a-zA-Z0-9\\-]*[a-zA-Z0-9]$/.test(e)}},ARfR:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return\"number\"===typeof t.statusCode&&\"object\"===typeof t.headers},e}();t.HttpResponse=r},C70v:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"SRIO\"),i=n(\"N7zt\");t.fromUtf8=function(e){return\"function\"===typeof TextEncoder?i.fromUtf8(e):r.fromUtf8(e)},t.toUtf8=function(e){return\"function\"===typeof TextDecoder?i.toUtf8(e):r.toUtf8(e)}},CG9Y:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.splitEvery=function(e,t,n){if(n<=0||!Number.isInteger(n))throw new Error(\"Invalid number of delimiters (\"+n+\") for splitEvery.\");var r=e.split(t);if(1===n)return r;for(var i=[],o=\"\",s=0;s<r.length;s++)\"\"===o?o=r[s]:o+=t+r[s],(s+1)%n===0&&(i.push(o),o=\"\");return\"\"!==o&&i.push(o),i}},CgaS:function(e,t,n){\"use strict\";var r=n(\"xTJ+\"),i=n(\"MLWZ\"),o=n(\"9rSQ\"),s=n(\"UnBK\"),a=n(\"SntB\");function u(e){this.defaults=e,this.interceptors={request:new o,response:new o}}u.prototype.request=function(e){\"string\"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method=e.method?e.method.toLowerCase():\"get\";var t=[s,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},u.prototype.getUri=function(e){return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\\?/,\"\")},r.forEach([\"delete\",\"get\",\"head\",\"options\"],(function(e){u.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}})),r.forEach([\"post\",\"put\",\"patch\"],(function(e){u.prototype[e]=function(t,n,i){return this.request(r.merge(i||{},{method:e,url:t,data:n}))}})),e.exports=u},CrD2:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getValueFromTextNode=function(e){for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n][\"#text\"]?e[n]=e[n][\"#text\"]:\"object\"===typeof e[n]&&null!==e[n]&&(e[n]=t.getValueFromTextNode(e[n]));return e}},DfZB:function(e,t,n){\"use strict\";e.exports=function(e){return function(t){return e.apply(null,t)}}},Dtc0:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"__N_SSP\",(function(){return Go}));var r=n(\"o0o1\"),i=n.n(r),o=n(\"rePB\");function s(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(c){return void n(c)}a.done?t(u):Promise.resolve(u).then(r,i)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(\"undefined\"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if(\"string\"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}var c=n(\"q1tI\"),f=n(\"6e9T\");let l=(e=21)=>{let t=\"\",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let r=63&n[e];t+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?\"_\":\"-\"}return t};var h=function(e,t){var n=\"function\"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},d=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e},p={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5},g=function(){function e(e,t){void 0===t&&(t=\"WARN\"),this.name=e,this.level=t}return e.prototype._padding=function(e){return e<10?\"0\"+e:\"\"+e},e.prototype._ts=function(){var e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(\":\")+\".\"+e.getMilliseconds()},e.prototype._log=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.level;e.LOG_LEVEL&&(i=e.LOG_LEVEL),\"undefined\"!==typeof window&&window.LOG_LEVEL&&(i=window.LOG_LEVEL);var o=p[i],s=p[t];if(s>=o){var a=console.log.bind(console);\"ERROR\"===t&&console.error&&(a=console.error.bind(console)),\"WARN\"===t&&console.warn&&(a=console.warn.bind(console));var u=\"[\"+t+\"] \"+this._ts()+\" \"+this.name;if(1===n.length&&\"string\"===typeof n[0])a(u+\" - \"+n[0]);else if(1===n.length)a(u,n[0]);else if(\"string\"===typeof n[0]){var c=n.slice(1);1===c.length&&(c=c[0]),a(u+\" - \"+n[0],c)}else a(u,n)}},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,d([\"INFO\"],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,d([\"INFO\"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,d([\"WARN\"],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,d([\"ERROR\"],e))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,d([\"DEBUG\"],e))},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,d([\"VERBOSE\"],e))},e.LOG_LEVEL=null,e}(),y={userAgent:\"aws-amplify/3.3.3 js\",product:\"\",navigator:null,isReactNative:!1};if(\"undefined\"!==typeof navigator&&navigator.product)switch(y.product=navigator.product||\"\",y.navigator=navigator||null,navigator.product){case\"ReactNative\":y.userAgent=\"aws-amplify/3.3.3 react-native\",y.isReactNative=!0;break;default:y.userAgent=\"aws-amplify/3.3.3 js\",y.isReactNative=!1}var v=function(){return y.userAgent},m={},b=function(){function e(){}return e.setItem=function(e,t){return m[e]=t,m[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(m,e)?m[e]:void 0},e.removeItem=function(e){return delete m[e]},e.clear=function(){return m={}},e}(),_=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem(\"aws.amplify.test-ls\",1),this.storageWindow.removeItem(\"aws.amplify.test-ls\")}catch(e){this.storageWindow=b}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),w=n(\"HzrR\"),S=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},A=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},I=function(e,t){var n=\"function\"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},O=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(I(arguments[t]));return e},T=new g(\"Util\"),C=function(e){function t(t){var n=e.call(this,t)||this;return n.nonRetryable=!0,n}return S(t,e),t}(Error),P=function(e){return e&&e.nonRetryable};var k=function(e,t,n){return void 0===n&&(n=3e5),function e(t,n,r,i){return void 0===i&&(i=1),E(this,void 0,void 0,(function(){var o,s;return A(this,(function(a){switch(a.label){case 0:if(\"function\"!==typeof t)throw Error(\"functionToRetry must be a function\");T.debug(t.name+\" attempt #\"+i+\" with this vars: \"+JSON.stringify(n)),a.label=1;case 1:return a.trys.push([1,3,,8]),[4,t.apply(void 0,O(n))];case 2:return[2,a.sent()];case 3:if(o=a.sent(),T.debug(\"error on \"+t.name,o),P(o))throw T.debug(t.name+\" non retryable error\",o),o;return s=r(i,n,o),T.debug(t.name+\" retrying in \"+s+\" ms\"),!1===s?[3,6]:[4,new Promise((function(e){return setTimeout(e,s)}))];case 4:return a.sent(),[4,e(t,n,r,i+1)];case 5:return[2,a.sent()];case 6:throw o;case 7:return[3,8];case 8:return[2]}}))}))}(e,t,function(e){return function(t){var n=100*Math.pow(2,t)+100*Math.random();return!(n>e)&&n}}(n))},N=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},U=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},R=new g(\"CognitoCredentials\"),D=new Promise((function(e,t){return Object(w.b)().isBrowser?(window.gapi&&window.gapi.auth2?window.gapi.auth2:null)?(R.debug(\"google api already loaded\"),e()):void setTimeout((function(){return e()}),2e3):(R.debug(\"not in the browser, directly resolved\"),e())})),x=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){return N(this,void 0,void 0,(function(){return U(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(R.debug(\"need to wait for the Google SDK loaded\"),[4,D]);case 1:e.sent(),this.initialized=!0,R.debug(\"finish waiting\"),e.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}}))}))},e.prototype._refreshGoogleTokenImpl=function(){var e=null;return Object(w.b)().isBrowser&&(e=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),e?new Promise((function(t,n){e.getAuthInstance().then((function(e){e||(R.debug(\"google Auth undefined\"),n(new C(\"google Auth undefined\")));var r=e.currentUser.get();r.isSignedIn()?(R.debug(\"refreshing the google access token\"),r.reloadAuthResponse().then((function(e){var n=e.id_token,r=e.expires_at;t({token:n,expires_at:r})})).catch((function(e){e&&\"network_error\"===e.error?n(\"Network error reloading google auth response\"):n(new C(\"Failed to reload google auth response\"))}))):n(new C(\"User is not signed in with Google\"))})).catch((function(e){R.debug(\"Failed to refresh google token\",e),n(new C(\"Failed to refresh google token\"))}))})):(R.debug(\"no gapi auth2 available\"),Promise.reject(\"no gapi auth2 available\"))},e}(),M=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},j=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},F=new g(\"CognitoCredentials\"),L=new Promise((function(e,t){return Object(w.b)().isBrowser?window.FB?(F.debug(\"FB SDK already loaded\"),e()):void setTimeout((function(){return e()}),2e3):(F.debug(\"not in the browser, directly resolved\"),e())})),B=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){return M(this,void 0,void 0,(function(){return j(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(F.debug(\"need to wait for the Facebook SDK loaded\"),[4,L]);case 1:e.sent(),this.initialized=!0,F.debug(\"finish waiting\"),e.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}}))}))},e.prototype._refreshFacebookTokenImpl=function(){var e=null;if(Object(w.b)().isBrowser&&(e=window.FB),!e){return F.debug(\"no fb sdk available\"),Promise.reject(new C(\"no fb sdk available\"))}return new Promise((function(t,n){e.getLoginStatus((function(e){if(e&&e.authResponse){var r=e.authResponse,i=r.accessToken,o=1e3*r.expiresIn+(new Date).getTime();if(!i){s=\"the jwtToken is undefined\";F.debug(s),n(new C(s))}t({token:i,expires_at:o})}else{var s=\"no response from facebook when refreshing the jwt token\";F.debug(s),n(new C(s))}}),{scope:\"public_profile,email\"})}))},e}(),q=new x,V=new B,H=new g(\"Amplify\"),K=function(){function e(){}return e.register=function(t){H.debug(\"component registered in amplify\",t),this._components.push(t),\"function\"===typeof t.getModuleName?e[t.getModuleName()]=t:H.debug(\"no getModuleName method for component\",t),t.configure(this._config)},e.configure=function(e){var t=this;return e?(this._config=Object.assign(this._config,e),H.debug(\"amplify config\",this._config),this._components.map((function(e){e.configure(t._config)})),this._config):this._config},e.addPluggable=function(e){e&&e.getCategory&&\"function\"===typeof e.getCategory&&this._components.map((function(t){t.addPluggable&&\"function\"===typeof t.addPluggable&&t.addPluggable(e)}))},e._components=[],e._config={},e.Auth=null,e.Analytics=null,e.API=null,e.Storage=null,e.I18n=null,e.Cache=null,e.PubSub=null,e.Interactions=null,e.Pushnotification=null,e.UI=null,e.XR=null,e.Predictions=null,e.DataStore=null,e.Logger=g,e.ServiceWorker=null,e}(),z=n(\"mrSG\");function G(e){return Promise.all(Object.keys(e).reduce((function(t,n){var r=e[n];return\"string\"===typeof r?t.push([n,r]):t.push(r().then((function(e){return[n,e]}))),t}),[])).then((function(e){return e.reduce((function(e,t){var n=Object(z.__read)(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})}))}var Y=n(\"zZqu\"),W=n(\"7QQ4\"),J=n(\"8OeJ\"),Q=n(\"movi\"),X=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(z.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(J.getSerdePlugin)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return Object(W.c)(e,t)},t.prototype.deserialize=function(e,t){return Object(W.a)(e,t)},t}(Q.Command);function Z(e){var t=this;return function(){return Object(z.__awaiter)(t,void 0,void 0,(function(){var t,n,r,i,o,s,a,u,c,f,l,h,d;return Object(z.__generator)(this,(function(p){switch(p.label){case 0:return f=(c=e.client).send,l=X.bind,h={CustomRoleArn:e.customRoleArn,IdentityId:e.identityId},e.logins?[4,G(e.logins)]:[3,2];case 1:return d=p.sent(),[3,3];case 2:d=void 0,p.label=3;case 3:return[4,f.apply(c,[new(l.apply(X,[void 0,(h.Logins=d,h)]))])];case 4:return t=p.sent().Credentials,n=void 0===t?function(){throw new Y.ProviderError(\"Response from Amazon Cognito contained no credentials\")}():t,r=n.AccessKeyId,i=void 0===r?function(){throw new Y.ProviderError(\"Response from Amazon Cognito contained no access key ID\")}():r,o=n.Expiration,s=n.SecretKey,a=void 0===s?function(){throw new Y.ProviderError(\"Response from Amazon Cognito contained no secret key\")}():s,u=n.SessionToken,[2,{accessKeyId:i,secretAccessKey:a,sessionToken:u,expiration:o}]}}))}))}}var $=function(){function e(e){void 0===e&&(e=\"aws:cognito-identity-ids\"),this.dbName=e}return e.prototype.getItem=function(e){return this.withObjectStore(\"readonly\",(function(t){var n=t.get(e);return new Promise((function(e){n.onerror=function(){return e(null)},n.onsuccess=function(){return e(n.result?n.result.value:null)}}))})).catch((function(){return null}))},e.prototype.removeItem=function(e){return this.withObjectStore(\"readwrite\",(function(t){var n=t.delete(e);return new Promise((function(e,t){n.onerror=function(){return t(n.error)},n.onsuccess=function(){return e()}}))}))},e.prototype.setItem=function(e,t){return this.withObjectStore(\"readwrite\",(function(n){var r=n.put({id:e,value:t});return new Promise((function(e,t){r.onerror=function(){return t(r.error)},r.onsuccess=function(){return e()}}))}))},e.prototype.getDb=function(){var e=self.indexedDB.open(this.dbName,1);return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)},e.onblocked=function(){n(new Error(\"Unable to access DB\"))},e.onupgradeneeded=function(t){var r=e.result;r.onerror=function(){n(new Error(\"Failed to create object store\"))},r.createObjectStore(\"IdentityIds\",{keyPath:\"id\"})}}))},e.prototype.withObjectStore=function(e,t){return this.getDb().then((function(n){var r=n.transaction(\"IdentityIds\",e);return r.oncomplete=function(){return n.close()},new Promise((function(e,n){r.onerror=function(){return n(r.error)},e(t(r.objectStore(\"IdentityIds\")))})).catch((function(e){throw n.close(),e}))}))},e}(),ee=new(function(){function e(e){void 0===e&&(e={}),this.store=e}return e.prototype.getItem=function(e){return e in this.store?this.store[e]:null},e.prototype.removeItem=function(e){delete this.store[e]},e.prototype.setItem=function(e,t){this.store[e]=t},e}());var te=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(z.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(J.getSerdePlugin)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return Object(W.d)(e,t)},t.prototype.deserialize=function(e,t){return Object(W.b)(e,t)},t}(Q.Command);function ne(e){var t=this,n=e.accountId,r=e.cache,i=void 0===r?\"object\"===typeof self&&self.indexedDB?new $:\"object\"===typeof window&&window.localStorage?window.localStorage:ee:r,o=e.client,s=e.customRoleArn,a=e.identityPoolId,u=e.logins,c=e.userIdentifier,f=void 0===c?u&&0!==Object.keys(u).length?void 0:\"ANONYMOUS\":c,l=f?\"aws:cognito-identity-credentials:\"+a+\":\"+f:void 0,h=function(){return Object(z.__awaiter)(t,void 0,void 0,(function(){var e,t,r,c,f,d,p,g,y;return Object(z.__generator)(this,(function(v){switch(v.label){case 0:return(t=l)?[4,i.getItem(l)]:[3,2];case 1:t=v.sent(),v.label=2;case 2:return(e=t)?[3,7]:(d=(f=o).send,p=te.bind,g={AccountId:n,IdentityPoolId:a},u?[4,G(u)]:[3,4]);case 3:return y=v.sent(),[3,5];case 4:y=void 0,v.label=5;case 5:return[4,d.apply(f,[new(p.apply(te,[void 0,(g.Logins=y,g)]))])];case 6:r=v.sent().IdentityId,c=void 0===r?function(){throw new Y.ProviderError(\"Response from Amazon Cognito contained no identity ID\")}():r,e=c,l&&Promise.resolve(i.setItem(l,e)).catch((function(){})),v.label=7;case 7:return[2,(h=Z({client:o,customRoleArn:s,logins:u,identityId:e}))()]}}))}))};return function(){return h().catch((function(e){return Object(z.__awaiter)(t,void 0,void 0,(function(){return Object(z.__generator)(this,(function(t){throw l&&Promise.resolve(i.removeItem(l)).catch((function(){})),e}))}))}))}}var re=n(\"+KNX\"),ie=n(\"viNG\"),oe=n(\"0Dgy\"),se=n(\"s2vz\"),ae=n(\"usVy\"),ue=n(\"Z6Ly\"),ce=n(\"isqH\"),fe=n(\"06fZ\"),le=n(\"C70v\"),he=\"cognito-identity.{region}.amazonaws.com\",de=new Set([\"ap-south-1\",\"eu-north-1\",\"eu-west-3\",\"eu-west-2\",\"eu-west-1\",\"ap-northeast-2\",\"ap-northeast-1\",\"me-south-1\",\"ca-central-1\",\"sa-east-1\",\"ap-east-1\",\"ap-southeast-1\",\"ap-southeast-2\",\"eu-central-1\",\"us-east-1\",\"us-east-2\",\"us-west-1\",\"us-west-2\"]),pe=new Set([\"cn-north-1\",\"cn-northwest-1\"]),ge=new Set([\"us-iso-east-1\"]),ye=new Set([\"us-isob-east-1\"]),ve=new Set([\"us-gov-west-1\",\"us-gov-east-1\"]),me={apiVersion:\"2014-06-30\",disableHostPrefix:!1,regionInfoProvider:function(e,t){var n=void 0;switch(e){case\"ap-northeast-1\":n={hostname:\"cognito-identity.ap-northeast-1.amazonaws.com\"};break;case\"ap-northeast-2\":n={hostname:\"cognito-identity.ap-northeast-2.amazonaws.com\"};break;case\"ap-south-1\":n={hostname:\"cognito-identity.ap-south-1.amazonaws.com\"};break;case\"ap-southeast-1\":n={hostname:\"cognito-identity.ap-southeast-1.amazonaws.com\"};break;case\"ap-southeast-2\":n={hostname:\"cognito-identity.ap-southeast-2.amazonaws.com\"};break;case\"ca-central-1\":n={hostname:\"cognito-identity.ca-central-1.amazonaws.com\"};break;case\"cn-north-1\":n={hostname:\"cognito-identity.cn-north-1.amazonaws.com.cn\"};break;case\"eu-central-1\":n={hostname:\"cognito-identity.eu-central-1.amazonaws.com\"};break;case\"eu-west-1\":n={hostname:\"cognito-identity.eu-west-1.amazonaws.com\"};break;case\"eu-west-2\":n={hostname:\"cognito-identity.eu-west-2.amazonaws.com\"};break;case\"us-east-1\":n={hostname:\"cognito-identity.us-east-1.amazonaws.com\"};break;case\"us-east-2\":n={hostname:\"cognito-identity.us-east-2.amazonaws.com\"};break;case\"us-west-2\":n={hostname:\"cognito-identity.us-west-2.amazonaws.com\"};break;default:de.has(e)&&(n={hostname:he.replace(\"{region}\",e)}),pe.has(e)&&(n={hostname:\"cognito-identity.{region}.amazonaws.com.cn\".replace(\"{region}\",e)}),ge.has(e)&&(n={hostname:\"cognito-identity.{region}.c2s.ic.gov\".replace(\"{region}\",e)}),ye.has(e)&&(n={hostname:\"cognito-identity.{region}.sc2s.sgov.gov\".replace(\"{region}\",e)}),ve.has(e)&&(n={hostname:\"cognito-identity.{region}.amazonaws.com\".replace(\"{region}\",e)}),void 0===n&&(n={hostname:he.replace(\"{region}\",e)})}return Promise.resolve(n)},signingName:\"cognito-identity\"},be=Object(z.__assign)(Object(z.__assign)({},me),{runtime:\"browser\",base64Decoder:ue.fromBase64,base64Encoder:ue.toBase64,bodyLengthChecker:ce.calculateBodyLength,credentialDefaultProvider:function(){},defaultUserAgent:Object(fe.defaultUserAgent)(re.a,re.b),regionDefaultProvider:Object(se.invalidFunction)(\"Region is missing\"),requestHandler:new oe.FetchHttpHandler,sha256:ie.Sha256,streamCollector:oe.streamCollector,urlParser:ae.parseUrl,utf8Decoder:le.fromUtf8,utf8Encoder:le.toUtf8}),_e=n(\"qunn\"),we=n(\"ko+S\"),Se=n(\"rb/8\"),Ee=n(\"rbd8\"),Ae=n(\"7Iz+\"),Ie=n(\"d8aE\"),Oe=function(e){function t(t){var n=this,r=Object(z.__assign)(Object(z.__assign)({},be),t),i=Object(_e.resolveRegionConfig)(r),o=Object(_e.resolveEndpointsConfig)(i),s=Object(Ae.resolveAwsAuthConfig)(o),a=Object(Ee.resolveRetryConfig)(s),u=Object(Ie.resolveUserAgentConfig)(a),c=Object(Se.resolveHostHeaderConfig)(u);return(n=e.call(this,c)||this).config=c,n.middlewareStack.use(Object(Ee.getRetryPlugin)(n.config)),n.middlewareStack.use(Object(Ie.getUserAgentPlugin)(n.config)),n.middlewareStack.use(Object(we.getContentLengthPlugin)(n.config)),n.middlewareStack.use(Object(Se.getHostHeaderPlugin)(n.config)),n}return Object(z.__extends)(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(Q.Client),Te=function(){return(Te=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Ce=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Pe=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},ke=new g(\"Credentials\"),Ne=new(function(){function e(e){this._gettingCredPromise=null,this._refreshHandlers={},this.configure(e),this._refreshHandlers.google=q.refreshGoogleToken,this._refreshHandlers.facebook=V.refreshFacebookToken}return e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(e){if(!e)return this._config||{};this._config=Object.assign({},this._config,e);var t=this._config.refreshHandlers;return t&&(this._refreshHandlers=Te(Te({},this._refreshHandlers),t)),this._storage=this._config.storage,this._storage||(this._storage=(new _).getStorage()),this._storageSync=Promise.resolve(),\"function\"===typeof this._storage.sync&&(this._storageSync=this._storage.sync()),this._config},e.prototype.get=function(){return ke.debug(\"getting credentials\"),this._pickupCredentials()},e.prototype._pickupCredentials=function(){return ke.debug(\"picking up credentials\"),this._gettingCredPromise&&this._gettingCredPromise.isPending()?ke.debug(\"getting old cred promise\"):(ke.debug(\"getting new cred promise\"),this._gettingCredPromise=Object(w.c)(this._keepAlive())),this._gettingCredPromise},e.prototype._keepAlive=function(){ke.debug(\"checking if credentials exists and not expired\");var e=this._credentials;return e&&!this._isExpired(e)?(ke.debug(\"credentials not changed and not expired, directly return\"),Promise.resolve(e)):(ke.debug(\"need to get a new credential or refresh the existing one\"),K.Auth&&\"function\"===typeof K.Auth.currentUserCredentials?K.Auth.currentUserCredentials():Promise.reject(\"No Auth module registered in Amplify\"))},e.prototype.refreshFederatedToken=function(e){ke.debug(\"Getting federated credentials\");var t=e.provider,n=e.user,r=e.token,i=e.identity_id,o=e.expires_at;o=1970===new Date(o).getFullYear()?1e3*o:o;return ke.debug(\"checking if federated jwt token expired\"),o>(new Date).getTime()?(ke.debug(\"token not expired\"),this._setCredentialsFromFederation({provider:t,token:r,user:n,identity_id:i,expires_at:o})):this._refreshHandlers[t]&&\"function\"===typeof this._refreshHandlers[t]?(ke.debug(\"getting refreshed jwt token from federation provider\"),this._providerRefreshWithRetry({refreshHandler:this._refreshHandlers[t],provider:t,user:n})):(ke.debug(\"no refresh handler for provider:\",t),this.clear(),Promise.reject(\"no refresh handler for provider\"))},e.prototype._providerRefreshWithRetry=function(e){var t=this,n=e.refreshHandler,r=e.provider,i=e.user;return k(n,[],1e4).then((function(e){return ke.debug(\"refresh federated token sucessfully\",e),t._setCredentialsFromFederation({provider:r,token:e.token,user:i,identity_id:e.identity_id,expires_at:e.expires_at})})).catch((function(e){return\"string\"===typeof e&&0===e.toLowerCase().lastIndexOf(\"network error\",e.length)||t.clear(),ke.debug(\"refresh federated token failed\",e),Promise.reject(\"refreshing federation token failed: \"+e)}))},e.prototype._isExpired=function(e){if(!e)return ke.debug(\"no credentials for expiration check\"),!0;ke.debug(\"are these credentials expired?\",e);var t=Date.now();return!(e.expiration.getTime()>t+6e5&&t<this._nextCredentialsRefresh)},e.prototype._setCredentialsForGuest=function(){return Ce(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,a=this;return Pe(this,(function(u){switch(u.label){case 0:if(ke.debug(\"setting credentials for guest\"),e=this._config,t=e.identityPoolId,n=e.region,e.mandatorySignIn)return[2,Promise.reject(\"cannot get guest credentials when mandatory signin enabled\")];if(!t)return ke.debug(\"No Cognito Identity pool provided for unauthenticated access\"),[2,Promise.reject(\"No Cognito Identity pool provided for unauthenticated access\")];if(!n)return ke.debug(\"region is not configured for getting the credentials\"),[2,Promise.reject(\"region is not configured for getting the credentials\")];r=void 0,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this._storageSync];case 2:return u.sent(),r=this._storage.getItem(\"CognitoIdentityId-\"+t),this._identityId=r,[3,4];case 3:return i=u.sent(),ke.debug(\"Failed to get the cached identityId\",i),[3,4];case 4:return o=new Oe({region:n,customUserAgent:v()}),s=void 0,s=r?Z({identityId:r,client:o})():function(){return Ce(a,void 0,void 0,(function(){var e;return Pe(this,(function(n){switch(n.label){case 0:return[4,o.send(new te({IdentityPoolId:t}))];case 1:return e=n.sent().IdentityId,this._identityId=e,[2,Z({client:o,identityId:e})()]}}))}))}().catch((function(e){return Ce(a,void 0,void 0,(function(){return Pe(this,(function(t){throw e}))}))})),[2,this._loadCredentials(s,\"guest\",!1,null).then((function(e){return e})).catch((function(e){return Ce(a,void 0,void 0,(function(){return Pe(this,(function(t){return[2,e]}))}))}))]}}))}))},e.prototype._setCredentialsFromFederation=function(e){var t=e.provider,n=e.token,r=e.identity_id,i={google:\"accounts.google.com\",facebook:\"graph.facebook.com\",amazon:\"www.amazon.com\",developer:\"cognito-identity.amazonaws.com\"}[t]||t;if(!i)return Promise.reject(\"You must specify a federated provider\");var o={};o[i]=n;var s=this._config,a=s.identityPoolId,u=s.region;if(!a)return ke.debug(\"No Cognito Federated Identity pool provided\"),Promise.reject(\"No Cognito Federated Identity pool provided\");if(!u)return ke.debug(\"region is not configured for getting the credentials\"),Promise.reject(\"region is not configured for getting the credentials\");var c=new Oe({region:u,customUserAgent:v()}),f=void 0;r?f=Z({identityId:r,logins:o,client:c})():f=ne({logins:o,identityPoolId:a,client:c})();return this._loadCredentials(f,\"federated\",!0,e)},e.prototype._setCredentialsFromSession=function(e){var t=this;ke.debug(\"set credentials from session\");var n=e.getIdToken().getJwtToken(),r=this._config,i=r.region,o=r.userPoolId,s=r.identityPoolId;if(!s)return ke.debug(\"No Cognito Federated Identity pool provided\"),Promise.reject(\"No Cognito Federated Identity pool provided\");if(!i)return ke.debug(\"region is not configured for getting the credentials\"),Promise.reject(\"region is not configured for getting the credentials\");var a={};a[\"cognito-idp.\"+i+\".amazonaws.com/\"+o]=n;var u=new Oe({region:i,customUserAgent:v()}),c=Ce(t,void 0,void 0,(function(){var e;return Pe(this,(function(t){switch(t.label){case 0:return[4,u.send(new te({IdentityPoolId:s,Logins:a}))];case 1:return e=t.sent().IdentityId,this._identityId=e,[2,Z({client:u,logins:a,identityId:e})()]}}))})).catch((function(e){return Ce(t,void 0,void 0,(function(){return Pe(this,(function(t){throw e}))}))}));return this._loadCredentials(c,\"userPool\",!0,null)},e.prototype._loadCredentials=function(e,t,n,r){var i=this,o=this,s=this._config.identityPoolId;return new Promise((function(a,u){e.then((function(e){return Ce(i,void 0,void 0,(function(){var i,u,c,f,l,h;return Pe(this,(function(d){switch(d.label){case 0:if(ke.debug(\"Load credentials successfully\",e),this._identityId&&!e.identityId&&(e.identityId=this._identityId),o._credentials=e,o._credentials.authenticated=n,o._credentials_source=t,o._nextCredentialsRefresh=(new Date).getTime()+3e6,\"federated\"===t){i=Object.assign({id:this._credentials.identityId},r.user),u=r.provider,c=r.token,f=r.expires_at,l=r.identity_id;try{this._storage.setItem(\"aws-amplify-federatedInfo\",JSON.stringify({provider:u,token:c,user:i,expires_at:f,identity_id:l}))}catch(p){ke.debug(\"Failed to put federated info into auth storage\",p)}}if(\"guest\"!==t)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this._storageSync];case 2:return d.sent(),this._storage.setItem(\"CognitoIdentityId-\"+s,e.identityId),[3,4];case 3:return h=d.sent(),ke.debug(\"Failed to cache identityId\",h),[3,4];case 4:return a(o._credentials),[2]}}))}))})).catch((function(t){if(t)return ke.debug(\"Failed to load credentials\",e),ke.debug(\"Error loading credentials\",t),void u(t)}))}))},e.prototype.set=function(e,t){return\"session\"===t?this._setCredentialsFromSession(e):\"federation\"===t?this._setCredentialsFromFederation(e):\"guest\"===t?this._setCredentialsForGuest():(ke.debug(\"no source specified for setting credentials\"),Promise.reject(\"invalid source\"))},e.prototype.clear=function(){return Ce(this,void 0,void 0,(function(){return Pe(this,(function(e){return this._credentials=null,this._credentials_source=null,ke.debug(\"removing aws-amplify-federatedInfo from storage\"),this._storage.removeItem(\"aws-amplify-federatedInfo\"),[2]}))}))},e.prototype.shear=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e}())(null),Ue=function(e,t){var n=\"function\"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},Re={clockOffset:0,getDateWithClockOffset:function(){return Re.clockOffset?new Date((new Date).getTime()+Re.clockOffset):new Date},getClockOffset:function(){return Re.clockOffset},getHeaderStringFromDate:function(e){return void 0===e&&(e=Re.getDateWithClockOffset()),e.toISOString().replace(/[:\\-]|\\.\\d{3}/g,\"\")},getDateFromHeaderString:function(e){var t=Ue(e.match(/^(\\d{4})(\\d{2})(\\d{2})T(\\d{2})(\\d{2})(\\d{2}).+/),7),n=t[1],r=t[2],i=t[3],o=t[4],s=t[5],a=t[6];return new Date(Date.UTC(Number(n),Number(r)-1,Number(i),Number(o),Number(s),Number(a)))},isClockSkewed:function(e){return Math.abs(e.getTime()-Re.getDateWithClockOffset().getTime())>=3e5},isClockSkewError:function(e){if(!e.response||!e.response.headers)return!1;var t=e.response.headers;return Boolean(\"BadRequestException\"===t[\"x-amzn-errortype\"]&&(t.date||t.Date))},setClockOffset:function(e){Re.clockOffset=e}},De=n(\"xxdO\"),xe=n(\"fauL\"),Me=n(\"QmWs\"),je=function(){return(je=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Fe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Le=new g(\"Signer\"),Be=function(e,t){var n=new De.Sha256(e);return n.update(t),n.digestSync()},qe=function(e){var t=e||\"\",n=new De.Sha256;return n.update(t),Object(xe.toHex)(n.digestSync())},Ve=function(e){return Object.keys(e).map((function(e){return e.toLowerCase()})).sort().join(\";\")},He=function(e){var t,n,r=Object(Me.parse)(e.url);return[e.method||\"/\",encodeURIComponent(r.pathname).replace(/%2F/gi,\"/\"),(n=r.query,n&&0!==n.length?n.split(\"&\").map((function(e){var t=e.split(\"=\");if(1===t.length)return e;var n=t[1].replace(/[!'()*]/g,(function(e){return\"%\"+e.charCodeAt(0).toString(16).toUpperCase()}));return t[0]+\"=\"+n})).sort((function(e,t){var n=e.split(\"=\")[0],r=t.split(\"=\")[0];return n===r?e<t?-1:1:n<r?-1:1})).join(\"&\"):\"\"),(t=e.headers,t&&0!==Object.keys(t).length?Object.keys(t).map((function(e){return{key:e.toLowerCase(),value:t[e]?t[e].trim().replace(/\\s+/g,\" \"):\"\"}})).sort((function(e,t){return e.key<t.key?-1:1})).map((function(e){return e.key+\":\"+e.value})).join(\"\\n\")+\"\\n\":\"\"),Ve(e.headers),qe(e.data)].join(\"\\n\")},Ke=function(e){var t=(Object(Me.parse)(e.url).host.match(/([^\\.]+)\\.(?:([^\\.]*)\\.)?amazonaws\\.com$/)||[]).slice(1,3);return\"es\"===t[1]&&(t=t.reverse()),{service:e.service||t[0],region:e.region||t[1]}},ze=function(e,t,n){return[e,t,n,\"aws4_request\"].join(\"/\")},Ge=function(e,t,n,r){return[e,n,r,qe(t)].join(\"\\n\")},Ye=function(e,t,n){Le.debug(n);var r=Be(\"AWS4\"+e,t),i=Be(r,n.region),o=Be(i,n.service);return Be(o,\"aws4_request\")},We=function(e,t){return Object(xe.toHex)(Be(e,t))},Je=function(){function e(){}return e.sign=function(e,t,n){void 0===n&&(n=null),e.headers=e.headers||{};var r=Re.getDateWithClockOffset().toISOString().replace(/[:\\-]|\\.\\d{3}/g,\"\"),i=r.substr(0,8),o=Object(Me.parse)(e.url);e.headers.host=o.host,e.headers[\"x-amz-date\"]=r,t.session_token&&(e.headers[\"X-Amz-Security-Token\"]=t.session_token);var s=He(e);Le.debug(s);var a=n||Ke(e),u=ze(i,a.region,a.service),c=Ge(\"AWS4-HMAC-SHA256\",s,r,u),f=Ye(t.secret_key,i,a),l=We(f,c),h=function(e,t,n,r,i){return[e+\" Credential=\"+t+\"/\"+n,\"SignedHeaders=\"+r,\"Signature=\"+i].join(\", \")}(\"AWS4-HMAC-SHA256\",t.access_key,u,Ve(e.headers),l);return e.headers.Authorization=h,e},e.signUrl=function(e,t,n,r){var i=\"object\"===typeof e?e.url:e,o=\"object\"===typeof e?e.method:\"GET\",s=\"object\"===typeof e?e.body:void 0,a=Re.getDateWithClockOffset().toISOString().replace(/[:\\-]|\\.\\d{3}/g,\"\"),u=a.substr(0,8),c=Object(Me.parse)(i,!0,!0),f=(c.search,Fe(c,[\"search\"])),l={host:f.host},h=n||Ke({url:Object(Me.format)(f)}),d=h.region,p=h.service,g=ze(u,d,p),y=t.session_token&&\"iotdevicegateway\"!==p,v=je(je(je({\"X-Amz-Algorithm\":\"AWS4-HMAC-SHA256\",\"X-Amz-Credential\":[t.access_key,g].join(\"/\"),\"X-Amz-Date\":a.substr(0,16)},y?{\"X-Amz-Security-Token\":\"\"+t.session_token}:{}),r?{\"X-Amz-Expires\":\"\"+r}:{}),{\"X-Amz-SignedHeaders\":Object.keys(l).join(\",\")}),m=He({method:o,url:Object(Me.format)(je(je({},f),{query:je(je({},f.query),v)})),headers:l,data:s}),b=Ge(\"AWS4-HMAC-SHA256\",m,a,g),_=Ye(t.secret_key,u,{region:d,service:p}),w=We(_,b),S=je({\"X-Amz-Signature\":w},t.session_token&&{\"X-Amz-Security-Token\":t.session_token});return Object(Me.format)({protocol:f.protocol,slashes:!0,hostname:f.hostname,port:f.port,pathname:f.pathname,query:je(je(je({},f.query),v),S)})},e}(),Qe=n(\"vDqi\"),Xe=n.n(Qe),Ze=function(){return(Ze=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},$e=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},et=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},tt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},nt=new g(\"RestClient\"),rt=function(){function e(e){this._region=\"us-east-1\",this._service=\"execute-api\",this._custom_header=void 0,this._cancelTokenMap=null,this._options=e,nt.debug(\"API Options\",this._options),null==this._cancelTokenMap&&(this._cancelTokenMap=new WeakMap)}return e.prototype.ajax=function(e,t,n){return $e(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,f,l,h,d=this;return et(this,(function(p){switch(p.label){case 0:return nt.debug(t+\" \"+e),r=this._parseUrl(e),i={method:t,url:e,host:r.host,path:r.path,headers:{},data:null,responseType:\"json\",timeout:0,cancelToken:null},o={},y.isReactNative&&(s=y.userAgent||\"aws-amplify/0.1.x\",o={\"User-Agent\":s}),a=Object.assign({},n),u=a.response,a.body&&(o[\"Content-Type\"]=\"application/json; charset=UTF-8\",i.data=JSON.stringify(a.body)),a.responseType&&(i.responseType=a.responseType),a.withCredentials&&(i.withCredentials=a.withCredentials),a.timeout&&(i.timeout=a.timeout),a.cancellableToken&&(i.cancelToken=a.cancellableToken.token),i.signerServiceInfo=a.signerServiceInfo,this._custom_header?[4,this._custom_header()]:[3,2];case 1:return f=p.sent(),[3,3];case 2:f=void 0,p.label=3;case 3:return c=f,i.headers=Ze(Ze(Ze({},o),c),a.headers),l=Object(Me.parse)(e,!0,!0),l.search,h=tt(l,[\"search\"]),i.url=Object(Me.format)(Ze(Ze({},h),{query:Ze(Ze({},h.query),a.queryStringParameters||{})})),\"undefined\"!==typeof i.headers.Authorization?(i.headers=Object.keys(i.headers).reduce((function(e,t){return i.headers[t]&&(e[t]=i.headers[t]),e}),{}),[2,this._request(i,u)]):[2,Ne.get().then((function(r){return d._signed(Ze({},i),r,u).catch((function(r){if(Re.isClockSkewError(r)){var o=r.response.headers,s=o&&(o.date||o.Date),a=new Date(s),u=Re.getDateFromHeaderString(i.headers[\"x-amz-date\"]);if(Re.isClockSkewed(u,a))return Re.setClockOffset(a.getTime()-u.getTime()),d.ajax(e,t,n)}throw r}))}),(function(e){return nt.debug(\"No credentials available, the request will be unsigned\"),d._request(i,u)}))]}}))}))},e.prototype.get=function(e,t){return this.ajax(e,\"GET\",t)},e.prototype.put=function(e,t){return this.ajax(e,\"PUT\",t)},e.prototype.patch=function(e,t){return this.ajax(e,\"PATCH\",t)},e.prototype.post=function(e,t){return this.ajax(e,\"POST\",t)},e.prototype.del=function(e,t){return this.ajax(e,\"DELETE\",t)},e.prototype.head=function(e,t){return this.ajax(e,\"HEAD\",t)},e.prototype.cancel=function(e,t){var n=this._cancelTokenMap.get(e);return n&&n.cancel(t),!0},e.prototype.isCancel=function(e){return Xe.a.isCancel(e)},e.prototype.getCancellableToken=function(){return Xe.a.CancelToken.source()},e.prototype.updateRequestToBeCancellable=function(e,t){this._cancelTokenMap.set(e,t)},e.prototype.endpoint=function(e){var t=this,n=this._options.endpoints,r=\"\";return Array.isArray(n)?(n.forEach((function(n){n.name===e&&(r=n.endpoint,\"string\"===typeof n.region?t._region=n.region:\"string\"===typeof t._options.region&&(t._region=t._options.region),\"string\"===typeof n.service?t._service=n.service||\"execute-api\":t._service=\"execute-api\",\"function\"===typeof n.custom_header?t._custom_header=n.custom_header:t._custom_header=void 0)})),r):r},e.prototype._signed=function(e,t,n){var r=e.signerServiceInfo,i=tt(e,[\"signerServiceInfo\"]),o=this._region||this._options.region,s=this._service||this._options.service,a={secret_key:t.secretAccessKey,access_key:t.accessKeyId,session_token:t.sessionToken},u={region:o,service:s},c=Object.assign(u,r),f=Je.sign(i,a,c);return f.data&&(f.body=f.data),nt.debug(\"Signed Request: \",f),delete f.headers.host,Xe()(f).then((function(e){return n?e:e.data})).catch((function(e){throw nt.debug(e),e}))},e.prototype._request=function(e,t){return void 0===t&&(t=!1),Xe()(e).then((function(e){return t?e:e.data})).catch((function(e){throw nt.debug(e),e}))},e.prototype._parseUrl=function(e){var t=e.split(\"/\");return{host:t[2],path:\"/\"+t.slice(3).join(\"/\")}},e}(),it={userAgent:y.userAgent},ot=K,st=function(){return(st=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},at=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},ut=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},ct=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ft=new g(\"RestAPI\"),lt=function(){function e(e){this._api=null,this._options=e,ot.register(this),ft.debug(\"API Options\",this._options)}return e.prototype.getModuleName=function(){return\"RestAPI\"},e.prototype.configure=function(e){var t=e||{},n=t.API,r=void 0===n?{}:n,i=ct(t,[\"API\"]),o=st(st({},i),r);if(ft.debug(\"configure Rest API\",{opt:o}),o.aws_project_region){if(o.aws_cloud_logic_custom){var s=o.aws_cloud_logic_custom;o.endpoints=\"string\"===typeof s?JSON.parse(s):s}o=Object.assign({},o,{region:o.aws_project_region,header:{}})}return Array.isArray(o.endpoints)||(o.endpoints=[]),o.endpoints.forEach((function(e){\"undefined\"!==typeof e.custom_header&&\"function\"!==typeof e.custom_header&&(ft.warn(\"Rest API \"+e.name+\", custom_header should be a function\"),e.custom_header=void 0)})),this._options=Object.assign({},this._options,o),this.createInstance(),this._options},e.prototype.createInstance=function(){return ft.debug(\"create Rest API instance\"),this._api=new rt(this._options),!0},e.prototype.get=function(e,t,n){var r=this._api.endpoint(e);if(0===r.length)return Promise.reject(\"API \"+e+\" does not exist\");var i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var s=this._api.get(r+t,o);return this._api.updateRequestToBeCancellable(s,i),s},e.prototype.post=function(e,t,n){var r=this._api.endpoint(e);if(0===r.length)return Promise.reject(\"API \"+e+\" does not exist\");var i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var s=this._api.post(r+t,o);return this._api.updateRequestToBeCancellable(s,i),s},e.prototype.put=function(e,t,n){var r=this._api.endpoint(e);if(0===r.length)return Promise.reject(\"API \"+e+\" does not exist\");var i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var s=this._api.put(r+t,o);return this._api.updateRequestToBeCancellable(s,i),s},e.prototype.patch=function(e,t,n){var r=this._api.endpoint(e);if(0===r.length)return Promise.reject(\"API \"+e+\" does not exist\");var i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var s=this._api.patch(r+t,o);return this._api.updateRequestToBeCancellable(s,i),s},e.prototype.del=function(e,t,n){var r=this._api.endpoint(e);if(0===r.length)return Promise.reject(\"API \"+e+\" does not exist\");var i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var s=this._api.del(r+t,o);return this._api.updateRequestToBeCancellable(s,i),s},e.prototype.head=function(e,t,n){var r=this._api.endpoint(e);if(0===r.length)return Promise.reject(\"API \"+e+\" does not exist\");var i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var s=this._api.head(r+t,o);return this._api.updateRequestToBeCancellable(s,i),s},e.prototype.isCancel=function(e){return this._api.isCancel(e)},e.prototype.cancel=function(e,t){return this._api.cancel(e,t)},e.prototype.endpoint=function(e){return at(this,void 0,void 0,(function(){return ut(this,(function(t){return[2,this._api.endpoint(e)]}))}))},e}();new lt(null);function ht(e,t){for(var n,r=/\\r\\n|[\\n\\r]/g,i=1,o=t+1;(n=r.exec(e.body))&&n.index<t;)i+=1,o=t+1-(n.index+n[0].length);return{line:i,column:o}}function dt(e,t){var n=e.locationOffset.column-1,r=pt(n)+e.body,i=t.line-1,o=e.locationOffset.line-1,s=t.line+o,a=1===t.line?n:0,u=t.column+a,c=r.split(/\\r\\n|[\\n\\r]/g);return\"\".concat(e.name,\" (\").concat(s,\":\").concat(u,\")\\n\")+function(e){var t=e.filter((function(e){e[0];return void 0!==e[1]})),n=0,r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var u=s.value[0];n=Math.max(n,u.length)}}catch(c){i=!0,o=c}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return t.map((function(e){var t,r=e[0],i=e[1];return pt(n-(t=r).length)+t+i})).join(\"\\n\")}([[\"\".concat(s-1,\": \"),c[i-1]],[\"\".concat(s,\": \"),c[i]],[\"\",pt(u-1)+\"^\"],[\"\".concat(s+1,\": \"),c[i+1]]])}function pt(e){return Array(e+1).join(\" \")}function gt(e,t,n,r,i,o,s){var a=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,u=n;if(!u&&a){var c=a[0];u=c&&c.loc&&c.loc.source}var f,l=r;!l&&a&&(l=a.reduce((function(e,t){return t.loc&&e.push(t.loc.start),e}),[])),l&&0===l.length&&(l=void 0),r&&n?f=r.map((function(e){return ht(n,e)})):a&&(f=a.reduce((function(e,t){return t.loc&&e.push(ht(t.loc.source,t.loc.start)),e}),[]));var h=s||o&&o.extensions;Object.defineProperties(this,{message:{value:e,enumerable:!0,writable:!0},locations:{value:f||void 0,enumerable:Boolean(f)},path:{value:i||void 0,enumerable:Boolean(i)},nodes:{value:a||void 0},source:{value:u||void 0},positions:{value:l||void 0},originalError:{value:o},extensions:{value:h||void 0,enumerable:Boolean(h)}}),o&&o.stack?Object.defineProperty(this,\"stack\",{value:o.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,gt):Object.defineProperty(this,\"stack\",{value:Error().stack,writable:!0,configurable:!0})}gt.prototype=Object.create(Error.prototype,{constructor:{value:gt},name:{value:\"GraphQLError\"},toString:{value:function(){return function(e){var t=[];if(e.nodes){var n=!0,r=!1,i=void 0;try{for(var o,s=e.nodes[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value;a.loc&&t.push(dt(a.loc.source,ht(a.loc.source,a.loc.start)))}}catch(g){r=!0,i=g}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}}else if(e.source&&e.locations){var u=e.source,c=!0,f=!1,l=void 0;try{for(var h,d=e.locations[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var p=h.value;t.push(dt(u,p))}}catch(g){f=!0,l=g}finally{try{c||null==d.return||d.return()}finally{if(f)throw l}}}return 0===t.length?e.message:[e.message].concat(t).join(\"\\n\\n\")+\"\\n\"}(this)}}});var yt={Name:[],Document:[\"definitions\"],OperationDefinition:[\"name\",\"variableDefinitions\",\"directives\",\"selectionSet\"],VariableDefinition:[\"variable\",\"type\",\"defaultValue\",\"directives\"],Variable:[\"name\"],SelectionSet:[\"selections\"],Field:[\"alias\",\"name\",\"arguments\",\"directives\",\"selectionSet\"],Argument:[\"name\",\"value\"],FragmentSpread:[\"name\",\"directives\"],InlineFragment:[\"typeCondition\",\"directives\",\"selectionSet\"],FragmentDefinition:[\"name\",\"variableDefinitions\",\"typeCondition\",\"directives\",\"selectionSet\"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:[\"values\"],ObjectValue:[\"fields\"],ObjectField:[\"name\",\"value\"],Directive:[\"name\",\"arguments\"],NamedType:[\"name\"],ListType:[\"type\"],NonNullType:[\"type\"],SchemaDefinition:[\"directives\",\"operationTypes\"],OperationTypeDefinition:[\"type\"],ScalarTypeDefinition:[\"description\",\"name\",\"directives\"],ObjectTypeDefinition:[\"description\",\"name\",\"interfaces\",\"directives\",\"fields\"],FieldDefinition:[\"description\",\"name\",\"arguments\",\"type\",\"directives\"],InputValueDefinition:[\"description\",\"name\",\"type\",\"defaultValue\",\"directives\"],InterfaceTypeDefinition:[\"description\",\"name\",\"directives\",\"fields\"],UnionTypeDefinition:[\"description\",\"name\",\"directives\",\"types\"],EnumTypeDefinition:[\"description\",\"name\",\"directives\",\"values\"],EnumValueDefinition:[\"description\",\"name\",\"directives\"],InputObjectTypeDefinition:[\"description\",\"name\",\"directives\",\"fields\"],DirectiveDefinition:[\"description\",\"name\",\"arguments\",\"locations\"],SchemaExtension:[\"directives\",\"operationTypes\"],ScalarTypeExtension:[\"name\",\"directives\"],ObjectTypeExtension:[\"name\",\"interfaces\",\"directives\",\"fields\"],InterfaceTypeExtension:[\"name\",\"directives\",\"fields\"],UnionTypeExtension:[\"name\",\"directives\",\"types\"],EnumTypeExtension:[\"name\",\"directives\",\"values\"],InputObjectTypeExtension:[\"name\",\"directives\",\"fields\"]},vt={};function mt(e){return Boolean(e&&\"string\"===typeof e.kind)}function bt(e,t,n){var r=e[t];if(r){if(!n&&\"function\"===typeof r)return r;var i=n?r.leave:r.enter;if(\"function\"===typeof i)return i}else{var o=n?e.leave:e.enter;if(o){if(\"function\"===typeof o)return o;var s=o[t];if(\"function\"===typeof s)return s}}}function _t(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yt,r=void 0,i=Array.isArray(e),o=[e],s=-1,a=[],u=void 0,c=void 0,f=void 0,l=[],h=[],d=e;do{var p=++s===o.length,g=p&&0!==a.length;if(p){if(c=0===h.length?void 0:l[l.length-1],u=f,f=h.pop(),g){if(i)u=u.slice();else{var y={};for(var v in u)u.hasOwnProperty(v)&&(y[v]=u[v]);u=y}for(var m=0,b=0;b<a.length;b++){var _=a[b][0],w=a[b][1];i&&(_-=m),i&&null===w?(u.splice(_,1),m++):u[_]=w}}s=r.index,o=r.keys,a=r.edits,i=r.inArray,r=r.prev}else{if(c=f?i?s:o[s]:void 0,null===(u=f?f[c]:d)||void 0===u)continue;f&&l.push(c)}var S=void 0;if(!Array.isArray(u)){if(!mt(u))throw new Error(\"Invalid AST Node: \"+JSON.stringify(u));var E=bt(t,u.kind,p);if(E){if((S=E.call(t,u,c,f,l,h))===vt)break;if(!1===S){if(!p){l.pop();continue}}else if(void 0!==S&&(a.push([c,S]),!p)){if(!mt(S)){l.pop();continue}u=S}}}void 0===S&&g&&a.push([c,u]),p?l.pop():(r={inArray:i,index:s,keys:o,edits:a,prev:r},o=(i=Array.isArray(u))?u:n[u.kind]||[],s=-1,a=[],f&&h.push(f),f=u)}while(void 0!==r);return 0!==a.length&&(d=a[a.length-1][1]),d}(e,{leave:wt})}var wt={Name:function(e){return e.value},Variable:function(e){return\"$\"+e.name},Document:function(e){return Et(e.definitions,\"\\n\\n\")+\"\\n\"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=It(\"(\",Et(e.variableDefinitions,\", \"),\")\"),i=Et(e.directives,\" \"),o=e.selectionSet;return n||i||r||\"query\"!==t?Et([t,Et([n,r]),i,o],\" \"):o},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,i=e.directives;return t+\": \"+n+It(\" = \",r)+It(\" \",Et(i,\" \"))},SelectionSet:function(e){return At(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,i=e.directives,o=e.selectionSet;return Et([It(\"\",t,\": \")+n+It(\"(\",Et(r,\", \"),\")\"),Et(i,\" \"),o],\" \")},Argument:function(e){return e.name+\": \"+e.value},FragmentSpread:function(e){return\"...\"+e.name+It(\" \",Et(e.directives,\" \"))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return Et([\"...\",It(\"on \",t),Et(n,\" \"),r],\" \")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,i=e.directives,o=e.selectionSet;return(\"fragment \".concat(t).concat(It(\"(\",Et(r,\", \"),\")\"),\" \")+\"on \".concat(n,\" \").concat(It(\"\",Et(i,\" \"),\" \"))+o)},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e,t){var n=e.replace(/\"\"\"/g,'\\\\\"\"\"');return\" \"!==e[0]&&\"\\t\"!==e[0]||-1!==e.indexOf(\"\\n\")?'\"\"\"\\n'.concat(t?n:Ot(n),'\\n\"\"\"'):'\"\"\"'.concat(n.replace(/\"$/,'\"\\n'),'\"\"\"')}(n,\"description\"===t):JSON.stringify(n)},BooleanValue:function(e){return e.value?\"true\":\"false\"},NullValue:function(){return\"null\"},EnumValue:function(e){return e.value},ListValue:function(e){return\"[\"+Et(e.values,\", \")+\"]\"},ObjectValue:function(e){return\"{\"+Et(e.fields,\", \")+\"}\"},ObjectField:function(e){return e.name+\": \"+e.value},Directive:function(e){return\"@\"+e.name+It(\"(\",Et(e.arguments,\", \"),\")\")},NamedType:function(e){return e.name},ListType:function(e){return\"[\"+e.type+\"]\"},NonNullType:function(e){return e.type+\"!\"},SchemaDefinition:function(e){var t=e.directives,n=e.operationTypes;return Et([\"schema\",Et(t,\" \"),At(n)],\" \")},OperationTypeDefinition:function(e){return e.operation+\": \"+e.type},ScalarTypeDefinition:St((function(e){return Et([\"scalar\",e.name,Et(e.directives,\" \")],\" \")})),ObjectTypeDefinition:St((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return Et([\"type\",t,It(\"implements \",Et(n,\" & \")),Et(r,\" \"),At(i)],\" \")})),FieldDefinition:St((function(e){var t=e.name,n=e.arguments,r=e.type,i=e.directives;return t+(n.every((function(e){return-1===e.indexOf(\"\\n\")}))?It(\"(\",Et(n,\", \"),\")\"):It(\"(\\n\",Ot(Et(n,\"\\n\")),\"\\n)\"))+\": \"+r+It(\" \",Et(i,\" \"))})),InputValueDefinition:St((function(e){var t=e.name,n=e.type,r=e.defaultValue,i=e.directives;return Et([t+\": \"+n,It(\"= \",r),Et(i,\" \")],\" \")})),InterfaceTypeDefinition:St((function(e){var t=e.name,n=e.directives,r=e.fields;return Et([\"interface\",t,Et(n,\" \"),At(r)],\" \")})),UnionTypeDefinition:St((function(e){var t=e.name,n=e.directives,r=e.types;return Et([\"union\",t,Et(n,\" \"),r&&0!==r.length?\"= \"+Et(r,\" | \"):\"\"],\" \")})),EnumTypeDefinition:St((function(e){var t=e.name,n=e.directives,r=e.values;return Et([\"enum\",t,Et(n,\" \"),At(r)],\" \")})),EnumValueDefinition:St((function(e){return Et([e.name,Et(e.directives,\" \")],\" \")})),InputObjectTypeDefinition:St((function(e){var t=e.name,n=e.directives,r=e.fields;return Et([\"input\",t,Et(n,\" \"),At(r)],\" \")})),DirectiveDefinition:St((function(e){var t=e.name,n=e.arguments,r=e.locations;return\"directive @\"+t+(n.every((function(e){return-1===e.indexOf(\"\\n\")}))?It(\"(\",Et(n,\", \"),\")\"):It(\"(\\n\",Ot(Et(n,\"\\n\")),\"\\n)\"))+\" on \"+Et(r,\" | \")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return Et([\"extend schema\",Et(t,\" \"),At(n)],\" \")},ScalarTypeExtension:function(e){return Et([\"extend scalar\",e.name,Et(e.directives,\" \")],\" \")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return Et([\"extend type\",t,It(\"implements \",Et(n,\" & \")),Et(r,\" \"),At(i)],\" \")},InterfaceTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return Et([\"extend interface\",t,Et(n,\" \"),At(r)],\" \")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return Et([\"extend union\",t,Et(n,\" \"),r&&0!==r.length?\"= \"+Et(r,\" | \"):\"\"],\" \")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return Et([\"extend enum\",t,Et(n,\" \"),At(r)],\" \")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return Et([\"extend input\",t,Et(n,\" \"),At(r)],\" \")}};function St(e){return function(t){return Et([t.description,e(t)],\"\\n\")}}function Et(e,t){return e?e.filter((function(e){return e})).join(t||\"\"):\"\"}function At(e){return e&&0!==e.length?\"{\\n\"+Ot(Et(e,\"\\n\"))+\"\\n}\":\"\"}function It(e,t,n){return t?e+t+(n||\"\"):\"\"}function Ot(e){return e&&\"  \"+e.replace(/\\n/g,\"\\n  \")}function Tt(e){return(Tt=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Ct(e){return e&&\"object\"===Tt(e)?\"function\"===typeof e.inspect?e.inspect():Array.isArray(e)?\"[\"+e.map(Ct).join(\", \")+\"]\":\"{\"+Object.keys(e).map((function(t){return\"\".concat(t,\": \").concat(Ct(e[t]))})).join(\", \")+\"}\":\"string\"===typeof e?'\"'+e+'\"':\"function\"===typeof e?\"[function \".concat(e.name,\"]\"):String(e)}function Pt(e,t){if(!e)throw new Error(t)}function kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nt,Ut=function(e,t,n){kt(this,\"body\",void 0),kt(this,\"name\",void 0),kt(this,\"locationOffset\",void 0),this.body=e,this.name=t||\"GraphQL request\",this.locationOffset=n||{line:1,column:1},this.locationOffset.line>0||Pt(0,\"line in locationOffset is 1-indexed and must be positive\"),this.locationOffset.column>0||Pt(0,\"column in locationOffset is 1-indexed and must be positive\")};function Rt(e,t,n){return new gt(\"Syntax Error: \".concat(n),void 0,e,[t])}function Dt(e){for(var t=e.split(/\\r\\n|[\\n\\r]/g),n=null,r=1;r<t.length;r++){var i=t[r],o=xt(i);if(o<i.length&&(null===n||o<n)&&0===(n=o))break}if(n)for(var s=1;s<t.length;s++)t[s]=t[s].slice(n);for(;t.length>0&&Mt(t[0]);)t.shift();for(;t.length>0&&Mt(t[t.length-1]);)t.pop();return t.join(\"\\n\")}function xt(e){for(var t=0;t<e.length&&(\" \"===e[t]||\"\\t\"===e[t]);)t++;return t}function Mt(e){return xt(e)===e.length}function jt(e,t){var n=new Kt(Bt.SOF,0,0,0,0,null);return{source:e,options:t,lastToken:n,token:n,line:1,lineStart:0,advance:Ft,lookahead:Lt}}function Ft(){return this.lastToken=this.token,this.token=this.lookahead()}function Lt(){var e=this.token;if(e.kind!==Bt.EOF)do{e=e.next||(e.next=Gt(this,e))}while(e.kind===Bt.COMMENT);return e}Nt=Ut,\"function\"===typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Nt.prototype,Symbol.toStringTag,{get:function(){return this.constructor.name}});var Bt=Object.freeze({SOF:\"<SOF>\",EOF:\"<EOF>\",BANG:\"!\",DOLLAR:\"$\",AMP:\"&\",PAREN_L:\"(\",PAREN_R:\")\",SPREAD:\"...\",COLON:\":\",EQUALS:\"=\",AT:\"@\",BRACKET_L:\"[\",BRACKET_R:\"]\",BRACE_L:\"{\",PIPE:\"|\",BRACE_R:\"}\",NAME:\"Name\",INT:\"Int\",FLOAT:\"Float\",STRING:\"String\",BLOCK_STRING:\"BlockString\",COMMENT:\"Comment\"});function qt(e){var t=e.value;return t?\"\".concat(e.kind,' \"').concat(t,'\"'):e.kind}var Vt=String.prototype.charCodeAt,Ht=String.prototype.slice;function Kt(e,t,n,r,i,o,s){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=s,this.prev=o,this.next=null}function zt(e){return isNaN(e)?Bt.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'\"\\\\u'.concat((\"00\"+e.toString(16).toUpperCase()).slice(-4),'\"')}function Gt(e,t){var n=e.source,r=n.body,i=r.length,o=function(e,t,n){var r=e.length,i=t;for(;i<r;){var o=Vt.call(e,i);if(9===o||32===o||44===o||65279===o)++i;else if(10===o)++i,++n.line,n.lineStart=i;else{if(13!==o)break;10===Vt.call(e,i+1)?i+=2:++i,++n.line,n.lineStart=i}}return i}(r,t.end,e),s=e.line,a=1+o-e.lineStart;if(o>=i)return new Kt(Bt.EOF,i,i,s,a,t);var u=Vt.call(r,o);switch(u){case 33:return new Kt(Bt.BANG,o,o+1,s,a,t);case 35:return function(e,t,n,r,i){var o,s=e.body,a=t;do{o=Vt.call(s,++a)}while(null!==o&&(o>31||9===o));return new Kt(Bt.COMMENT,t,a,n,r,i,Ht.call(s,t+1,a))}(n,o,s,a,t);case 36:return new Kt(Bt.DOLLAR,o,o+1,s,a,t);case 38:return new Kt(Bt.AMP,o,o+1,s,a,t);case 40:return new Kt(Bt.PAREN_L,o,o+1,s,a,t);case 41:return new Kt(Bt.PAREN_R,o,o+1,s,a,t);case 46:if(46===Vt.call(r,o+1)&&46===Vt.call(r,o+2))return new Kt(Bt.SPREAD,o,o+3,s,a,t);break;case 58:return new Kt(Bt.COLON,o,o+1,s,a,t);case 61:return new Kt(Bt.EQUALS,o,o+1,s,a,t);case 64:return new Kt(Bt.AT,o,o+1,s,a,t);case 91:return new Kt(Bt.BRACKET_L,o,o+1,s,a,t);case 93:return new Kt(Bt.BRACKET_R,o,o+1,s,a,t);case 123:return new Kt(Bt.BRACE_L,o,o+1,s,a,t);case 124:return new Kt(Bt.PIPE,o,o+1,s,a,t);case 125:return new Kt(Bt.BRACE_R,o,o+1,s,a,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return function(e,t,n,r,i){var o=e.body,s=o.length,a=t+1,u=0;for(;a!==s&&null!==(u=Vt.call(o,a))&&(95===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122);)++a;return new Kt(Bt.NAME,t,a,n,r,i,Ht.call(o,t,a))}(n,o,s,a,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return function(e,t,n,r,i,o){var s=e.body,a=n,u=t,c=!1;45===a&&(a=Vt.call(s,++u));if(48===a){if((a=Vt.call(s,++u))>=48&&a<=57)throw Rt(e,u,\"Invalid number, unexpected digit after 0: \".concat(zt(a),\".\"))}else u=Yt(e,u,a),a=Vt.call(s,u);46===a&&(c=!0,a=Vt.call(s,++u),u=Yt(e,u,a),a=Vt.call(s,u));69!==a&&101!==a||(c=!0,43!==(a=Vt.call(s,++u))&&45!==a||(a=Vt.call(s,++u)),u=Yt(e,u,a));return new Kt(c?Bt.FLOAT:Bt.INT,t,u,r,i,o,Ht.call(s,t,u))}(n,o,u,s,a,t);case 34:return 34===Vt.call(r,o+1)&&34===Vt.call(r,o+2)?function(e,t,n,r,i){var o=e.body,s=t+3,a=s,u=0,c=\"\";for(;s<o.length&&null!==(u=Vt.call(o,s));){if(34===u&&34===Vt.call(o,s+1)&&34===Vt.call(o,s+2))return c+=Ht.call(o,a,s),new Kt(Bt.BLOCK_STRING,t,s+3,n,r,i,Dt(c));if(u<32&&9!==u&&10!==u&&13!==u)throw Rt(e,s,\"Invalid character within String: \".concat(zt(u),\".\"));92===u&&34===Vt.call(o,s+1)&&34===Vt.call(o,s+2)&&34===Vt.call(o,s+3)?(c+=Ht.call(o,a,s)+'\"\"\"',a=s+=4):++s}throw Rt(e,s,\"Unterminated string.\")}(n,o,s,a,t):function(e,t,n,r,i){var o=e.body,s=t+1,a=s,u=0,c=\"\";for(;s<o.length&&null!==(u=Vt.call(o,s))&&10!==u&&13!==u;){if(34===u)return c+=Ht.call(o,a,s),new Kt(Bt.STRING,t,s+1,n,r,i,c);if(u<32&&9!==u)throw Rt(e,s,\"Invalid character within String: \".concat(zt(u),\".\"));if(++s,92===u){switch(c+=Ht.call(o,a,s-1),u=Vt.call(o,s)){case 34:c+='\"';break;case 47:c+=\"/\";break;case 92:c+=\"\\\\\";break;case 98:c+=\"\\b\";break;case 102:c+=\"\\f\";break;case 110:c+=\"\\n\";break;case 114:c+=\"\\r\";break;case 116:c+=\"\\t\";break;case 117:var f=(l=Vt.call(o,s+1),h=Vt.call(o,s+2),d=Vt.call(o,s+3),p=Vt.call(o,s+4),Wt(l)<<12|Wt(h)<<8|Wt(d)<<4|Wt(p));if(f<0)throw Rt(e,s,\"Invalid character escape sequence: \"+\"\\\\u\".concat(o.slice(s+1,s+5),\".\"));c+=String.fromCharCode(f),s+=4;break;default:throw Rt(e,s,\"Invalid character escape sequence: \\\\\".concat(String.fromCharCode(u),\".\"))}++s,a=s}}var l,h,d,p;throw Rt(e,s,\"Unterminated string.\")}(n,o,s,a,t)}throw Rt(n,o,function(e){if(e<32&&9!==e&&10!==e&&13!==e)return\"Cannot contain the invalid character \".concat(zt(e),\".\");if(39===e)return\"Unexpected single quote character ('), did you mean to use a double quote (\\\")?\";return\"Cannot parse the unexpected character \".concat(zt(e),\".\")}(u))}function Yt(e,t,n){var r=e.body,i=t,o=n;if(o>=48&&o<=57){do{o=Vt.call(r,++i)}while(o>=48&&o<=57);return i}throw Rt(e,i,\"Invalid number, expected digit but got: \".concat(zt(o),\".\"))}function Wt(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}Kt.prototype.toJSON=Kt.prototype.inspect=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}};var Jt=Object.freeze({NAME:\"Name\",DOCUMENT:\"Document\",OPERATION_DEFINITION:\"OperationDefinition\",VARIABLE_DEFINITION:\"VariableDefinition\",SELECTION_SET:\"SelectionSet\",FIELD:\"Field\",ARGUMENT:\"Argument\",FRAGMENT_SPREAD:\"FragmentSpread\",INLINE_FRAGMENT:\"InlineFragment\",FRAGMENT_DEFINITION:\"FragmentDefinition\",VARIABLE:\"Variable\",INT:\"IntValue\",FLOAT:\"FloatValue\",STRING:\"StringValue\",BOOLEAN:\"BooleanValue\",NULL:\"NullValue\",ENUM:\"EnumValue\",LIST:\"ListValue\",OBJECT:\"ObjectValue\",OBJECT_FIELD:\"ObjectField\",DIRECTIVE:\"Directive\",NAMED_TYPE:\"NamedType\",LIST_TYPE:\"ListType\",NON_NULL_TYPE:\"NonNullType\",SCHEMA_DEFINITION:\"SchemaDefinition\",OPERATION_TYPE_DEFINITION:\"OperationTypeDefinition\",SCALAR_TYPE_DEFINITION:\"ScalarTypeDefinition\",OBJECT_TYPE_DEFINITION:\"ObjectTypeDefinition\",FIELD_DEFINITION:\"FieldDefinition\",INPUT_VALUE_DEFINITION:\"InputValueDefinition\",INTERFACE_TYPE_DEFINITION:\"InterfaceTypeDefinition\",UNION_TYPE_DEFINITION:\"UnionTypeDefinition\",ENUM_TYPE_DEFINITION:\"EnumTypeDefinition\",ENUM_VALUE_DEFINITION:\"EnumValueDefinition\",INPUT_OBJECT_TYPE_DEFINITION:\"InputObjectTypeDefinition\",DIRECTIVE_DEFINITION:\"DirectiveDefinition\",SCHEMA_EXTENSION:\"SchemaExtension\",SCALAR_TYPE_EXTENSION:\"ScalarTypeExtension\",OBJECT_TYPE_EXTENSION:\"ObjectTypeExtension\",INTERFACE_TYPE_EXTENSION:\"InterfaceTypeExtension\",UNION_TYPE_EXTENSION:\"UnionTypeExtension\",ENUM_TYPE_EXTENSION:\"EnumTypeExtension\",INPUT_OBJECT_TYPE_EXTENSION:\"InputObjectTypeExtension\"}),Qt=Object.freeze({QUERY:\"QUERY\",MUTATION:\"MUTATION\",SUBSCRIPTION:\"SUBSCRIPTION\",FIELD:\"FIELD\",FRAGMENT_DEFINITION:\"FRAGMENT_DEFINITION\",FRAGMENT_SPREAD:\"FRAGMENT_SPREAD\",INLINE_FRAGMENT:\"INLINE_FRAGMENT\",VARIABLE_DEFINITION:\"VARIABLE_DEFINITION\",SCHEMA:\"SCHEMA\",SCALAR:\"SCALAR\",OBJECT:\"OBJECT\",FIELD_DEFINITION:\"FIELD_DEFINITION\",ARGUMENT_DEFINITION:\"ARGUMENT_DEFINITION\",INTERFACE:\"INTERFACE\",UNION:\"UNION\",ENUM:\"ENUM\",ENUM_VALUE:\"ENUM_VALUE\",INPUT_OBJECT:\"INPUT_OBJECT\",INPUT_FIELD_DEFINITION:\"INPUT_FIELD_DEFINITION\"});function Xt(e,t){var n=\"string\"===typeof e?new Ut(e):e;if(!(n instanceof Ut))throw new TypeError(\"Must provide Source. Received: \".concat(Ct(n)));return function(e){var t=e.token;return{kind:Jt.DOCUMENT,definitions:Kn(e,Bt.SOF,$t,Bt.EOF),loc:Mn(e,t)}}(jt(n,t||{}))}function Zt(e){var t=Bn(e,Bt.NAME);return{kind:Jt.NAME,value:t.value,loc:Mn(e,t)}}function $t(e){if(Fn(e,Bt.NAME))switch(e.token.value){case\"query\":case\"mutation\":case\"subscription\":case\"fragment\":return en(e);case\"schema\":case\"scalar\":case\"type\":case\"interface\":case\"union\":case\"enum\":case\"input\":case\"directive\":return Sn(e);case\"extend\":return function(e){var t=e.lookahead();if(t.kind===Bt.NAME)switch(t.value){case\"schema\":return function(e){var t=e.token;qn(e,\"extend\"),qn(e,\"schema\");var n=mn(e,!0),r=Fn(e,Bt.BRACE_L)?Kn(e,Bt.BRACE_L,In,Bt.BRACE_R):[];if(0===n.length&&0===r.length)throw Vn(e);return{kind:Jt.SCHEMA_EXTENSION,directives:n,operationTypes:r,loc:Mn(e,t)}}(e);case\"scalar\":return function(e){var t=e.token;qn(e,\"extend\"),qn(e,\"scalar\");var n=Zt(e),r=mn(e,!0);if(0===r.length)throw Vn(e);return{kind:Jt.SCALAR_TYPE_EXTENSION,name:n,directives:r,loc:Mn(e,t)}}(e);case\"type\":return function(e){var t=e.token;qn(e,\"extend\"),qn(e,\"type\");var n=Zt(e),r=On(e),i=mn(e,!0),o=Tn(e);if(0===r.length&&0===i.length&&0===o.length)throw Vn(e);return{kind:Jt.OBJECT_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:o,loc:Mn(e,t)}}(e);case\"interface\":return function(e){var t=e.token;qn(e,\"extend\"),qn(e,\"interface\");var n=Zt(e),r=mn(e,!0),i=Tn(e);if(0===r.length&&0===i.length)throw Vn(e);return{kind:Jt.INTERFACE_TYPE_EXTENSION,name:n,directives:r,fields:i,loc:Mn(e,t)}}(e);case\"union\":return function(e){var t=e.token;qn(e,\"extend\"),qn(e,\"union\");var n=Zt(e),r=mn(e,!0),i=Nn(e);if(0===r.length&&0===i.length)throw Vn(e);return{kind:Jt.UNION_TYPE_EXTENSION,name:n,directives:r,types:i,loc:Mn(e,t)}}(e);case\"enum\":return function(e){var t=e.token;qn(e,\"extend\"),qn(e,\"enum\");var n=Zt(e),r=mn(e,!0),i=Un(e);if(0===r.length&&0===i.length)throw Vn(e);return{kind:Jt.ENUM_TYPE_EXTENSION,name:n,directives:r,values:i,loc:Mn(e,t)}}(e);case\"input\":return function(e){var t=e.token;qn(e,\"extend\"),qn(e,\"input\");var n=Zt(e),r=mn(e,!0),i=Dn(e);if(0===r.length&&0===i.length)throw Vn(e);return{kind:Jt.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:r,fields:i,loc:Mn(e,t)}}(e)}throw Vn(e,t)}(e)}else{if(Fn(e,Bt.BRACE_L))return en(e);if(En(e))return Sn(e)}throw Vn(e)}function en(e){if(Fn(e,Bt.NAME))switch(e.token.value){case\"query\":case\"mutation\":case\"subscription\":return tn(e);case\"fragment\":return function(e){var t=e.token;if(qn(e,\"fragment\"),e.options.experimentalFragmentVariables)return{kind:Jt.FRAGMENT_DEFINITION,name:hn(e),variableDefinitions:rn(e),typeCondition:(qn(e,\"on\"),wn(e)),directives:mn(e,!1),selectionSet:an(e),loc:Mn(e,t)};return{kind:Jt.FRAGMENT_DEFINITION,name:hn(e),typeCondition:(qn(e,\"on\"),wn(e)),directives:mn(e,!1),selectionSet:an(e),loc:Mn(e,t)}}(e)}else if(Fn(e,Bt.BRACE_L))return tn(e);throw Vn(e)}function tn(e){var t=e.token;if(Fn(e,Bt.BRACE_L))return{kind:Jt.OPERATION_DEFINITION,operation:\"query\",name:void 0,variableDefinitions:[],directives:[],selectionSet:an(e),loc:Mn(e,t)};var n,r=nn(e);return Fn(e,Bt.NAME)&&(n=Zt(e)),{kind:Jt.OPERATION_DEFINITION,operation:r,name:n,variableDefinitions:rn(e),directives:mn(e,!1),selectionSet:an(e),loc:Mn(e,t)}}function nn(e){var t=Bn(e,Bt.NAME);switch(t.value){case\"query\":return\"query\";case\"mutation\":return\"mutation\";case\"subscription\":return\"subscription\"}throw Vn(e,t)}function rn(e){return Fn(e,Bt.PAREN_L)?Kn(e,Bt.PAREN_L,on,Bt.PAREN_R):[]}function on(e){var t=e.token;return e.options.experimentalVariableDefinitionDirectives?{kind:Jt.VARIABLE_DEFINITION,variable:sn(e),type:(Bn(e,Bt.COLON),_n(e)),defaultValue:Ln(e,Bt.EQUALS)?dn(e,!0):void 0,directives:mn(e,!0),loc:Mn(e,t)}:{kind:Jt.VARIABLE_DEFINITION,variable:sn(e),type:(Bn(e,Bt.COLON),_n(e)),defaultValue:Ln(e,Bt.EQUALS)?dn(e,!0):void 0,loc:Mn(e,t)}}function sn(e){var t=e.token;return Bn(e,Bt.DOLLAR),{kind:Jt.VARIABLE,name:Zt(e),loc:Mn(e,t)}}function an(e){var t=e.token;return{kind:Jt.SELECTION_SET,selections:Kn(e,Bt.BRACE_L,un,Bt.BRACE_R),loc:Mn(e,t)}}function un(e){return Fn(e,Bt.SPREAD)?function(e){var t,n=e.token;if(Bn(e,Bt.SPREAD),Fn(e,Bt.NAME)&&\"on\"!==e.token.value)return{kind:Jt.FRAGMENT_SPREAD,name:hn(e),directives:mn(e,!1),loc:Mn(e,n)};\"on\"===e.token.value&&(e.advance(),t=wn(e));return{kind:Jt.INLINE_FRAGMENT,typeCondition:t,directives:mn(e,!1),selectionSet:an(e),loc:Mn(e,n)}}(e):function(e){var t,n,r=e.token,i=Zt(e);Ln(e,Bt.COLON)?(t=i,n=Zt(e)):n=i;return{kind:Jt.FIELD,alias:t,name:n,arguments:cn(e,!1),directives:mn(e,!1),selectionSet:Fn(e,Bt.BRACE_L)?an(e):void 0,loc:Mn(e,r)}}(e)}function cn(e,t){var n=t?ln:fn;return Fn(e,Bt.PAREN_L)?Kn(e,Bt.PAREN_L,n,Bt.PAREN_R):[]}function fn(e){var t=e.token;return{kind:Jt.ARGUMENT,name:Zt(e),value:(Bn(e,Bt.COLON),dn(e,!1)),loc:Mn(e,t)}}function ln(e){var t=e.token;return{kind:Jt.ARGUMENT,name:Zt(e),value:(Bn(e,Bt.COLON),gn(e)),loc:Mn(e,t)}}function hn(e){if(\"on\"===e.token.value)throw Vn(e);return Zt(e)}function dn(e,t){var n=e.token;switch(n.kind){case Bt.BRACKET_L:return function(e,t){var n=e.token,r=t?gn:yn;return{kind:Jt.LIST,values:Hn(e,Bt.BRACKET_L,r,Bt.BRACKET_R),loc:Mn(e,n)}}(e,t);case Bt.BRACE_L:return function(e,t){var n=e.token;Bn(e,Bt.BRACE_L);var r=[];for(;!Ln(e,Bt.BRACE_R);)r.push(vn(e,t));return{kind:Jt.OBJECT,fields:r,loc:Mn(e,n)}}(e,t);case Bt.INT:return e.advance(),{kind:Jt.INT,value:n.value,loc:Mn(e,n)};case Bt.FLOAT:return e.advance(),{kind:Jt.FLOAT,value:n.value,loc:Mn(e,n)};case Bt.STRING:case Bt.BLOCK_STRING:return pn(e);case Bt.NAME:return\"true\"===n.value||\"false\"===n.value?(e.advance(),{kind:Jt.BOOLEAN,value:\"true\"===n.value,loc:Mn(e,n)}):\"null\"===n.value?(e.advance(),{kind:Jt.NULL,loc:Mn(e,n)}):(e.advance(),{kind:Jt.ENUM,value:n.value,loc:Mn(e,n)});case Bt.DOLLAR:if(!t)return sn(e)}throw Vn(e)}function pn(e){var t=e.token;return e.advance(),{kind:Jt.STRING,value:t.value,block:t.kind===Bt.BLOCK_STRING,loc:Mn(e,t)}}function gn(e){return dn(e,!0)}function yn(e){return dn(e,!1)}function vn(e,t){var n=e.token;return{kind:Jt.OBJECT_FIELD,name:Zt(e),value:(Bn(e,Bt.COLON),dn(e,t)),loc:Mn(e,n)}}function mn(e,t){for(var n=[];Fn(e,Bt.AT);)n.push(bn(e,t));return n}function bn(e,t){var n=e.token;return Bn(e,Bt.AT),{kind:Jt.DIRECTIVE,name:Zt(e),arguments:cn(e,t),loc:Mn(e,n)}}function _n(e){var t,n=e.token;return Ln(e,Bt.BRACKET_L)?(t=_n(e),Bn(e,Bt.BRACKET_R),t={kind:Jt.LIST_TYPE,type:t,loc:Mn(e,n)}):t=wn(e),Ln(e,Bt.BANG)?{kind:Jt.NON_NULL_TYPE,type:t,loc:Mn(e,n)}:t}function wn(e){var t=e.token;return{kind:Jt.NAMED_TYPE,name:Zt(e),loc:Mn(e,t)}}function Sn(e){var t=En(e)?e.lookahead():e.token;if(t.kind===Bt.NAME)switch(t.value){case\"schema\":return function(e){var t=e.token;qn(e,\"schema\");var n=mn(e,!0),r=Kn(e,Bt.BRACE_L,In,Bt.BRACE_R);return{kind:Jt.SCHEMA_DEFINITION,directives:n,operationTypes:r,loc:Mn(e,t)}}(e);case\"scalar\":return function(e){var t=e.token,n=An(e);qn(e,\"scalar\");var r=Zt(e),i=mn(e,!0);return{kind:Jt.SCALAR_TYPE_DEFINITION,description:n,name:r,directives:i,loc:Mn(e,t)}}(e);case\"type\":return function(e){var t=e.token,n=An(e);qn(e,\"type\");var r=Zt(e),i=On(e),o=mn(e,!0),s=Tn(e);return{kind:Jt.OBJECT_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:o,fields:s,loc:Mn(e,t)}}(e);case\"interface\":return function(e){var t=e.token,n=An(e);qn(e,\"interface\");var r=Zt(e),i=mn(e,!0),o=Tn(e);return{kind:Jt.INTERFACE_TYPE_DEFINITION,description:n,name:r,directives:i,fields:o,loc:Mn(e,t)}}(e);case\"union\":return function(e){var t=e.token,n=An(e);qn(e,\"union\");var r=Zt(e),i=mn(e,!0),o=Nn(e);return{kind:Jt.UNION_TYPE_DEFINITION,description:n,name:r,directives:i,types:o,loc:Mn(e,t)}}(e);case\"enum\":return function(e){var t=e.token,n=An(e);qn(e,\"enum\");var r=Zt(e),i=mn(e,!0),o=Un(e);return{kind:Jt.ENUM_TYPE_DEFINITION,description:n,name:r,directives:i,values:o,loc:Mn(e,t)}}(e);case\"input\":return function(e){var t=e.token,n=An(e);qn(e,\"input\");var r=Zt(e),i=mn(e,!0),o=Dn(e);return{kind:Jt.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:r,directives:i,fields:o,loc:Mn(e,t)}}(e);case\"directive\":return function(e){var t=e.token,n=An(e);qn(e,\"directive\"),Bn(e,Bt.AT);var r=Zt(e),i=Pn(e);qn(e,\"on\");var o=function(e){Ln(e,Bt.PIPE);var t=[];do{t.push(xn(e))}while(Ln(e,Bt.PIPE));return t}(e);return{kind:Jt.DIRECTIVE_DEFINITION,description:n,name:r,arguments:i,locations:o,loc:Mn(e,t)}}(e)}throw Vn(e,t)}function En(e){return Fn(e,Bt.STRING)||Fn(e,Bt.BLOCK_STRING)}function An(e){if(En(e))return pn(e)}function In(e){var t=e.token,n=nn(e);Bn(e,Bt.COLON);var r=wn(e);return{kind:Jt.OPERATION_TYPE_DEFINITION,operation:n,type:r,loc:Mn(e,t)}}function On(e){var t=[];if(\"implements\"===e.token.value){e.advance(),Ln(e,Bt.AMP);do{t.push(wn(e))}while(Ln(e,Bt.AMP)||e.options.allowLegacySDLImplementsInterfaces&&Fn(e,Bt.NAME))}return t}function Tn(e){return e.options.allowLegacySDLEmptyFields&&Fn(e,Bt.BRACE_L)&&e.lookahead().kind===Bt.BRACE_R?(e.advance(),e.advance(),[]):Fn(e,Bt.BRACE_L)?Kn(e,Bt.BRACE_L,Cn,Bt.BRACE_R):[]}function Cn(e){var t=e.token,n=An(e),r=Zt(e),i=Pn(e);Bn(e,Bt.COLON);var o=_n(e),s=mn(e,!0);return{kind:Jt.FIELD_DEFINITION,description:n,name:r,arguments:i,type:o,directives:s,loc:Mn(e,t)}}function Pn(e){return Fn(e,Bt.PAREN_L)?Kn(e,Bt.PAREN_L,kn,Bt.PAREN_R):[]}function kn(e){var t=e.token,n=An(e),r=Zt(e);Bn(e,Bt.COLON);var i,o=_n(e);Ln(e,Bt.EQUALS)&&(i=gn(e));var s=mn(e,!0);return{kind:Jt.INPUT_VALUE_DEFINITION,description:n,name:r,type:o,defaultValue:i,directives:s,loc:Mn(e,t)}}function Nn(e){var t=[];if(Ln(e,Bt.EQUALS)){Ln(e,Bt.PIPE);do{t.push(wn(e))}while(Ln(e,Bt.PIPE))}return t}function Un(e){return Fn(e,Bt.BRACE_L)?Kn(e,Bt.BRACE_L,Rn,Bt.BRACE_R):[]}function Rn(e){var t=e.token,n=An(e),r=Zt(e),i=mn(e,!0);return{kind:Jt.ENUM_VALUE_DEFINITION,description:n,name:r,directives:i,loc:Mn(e,t)}}function Dn(e){return Fn(e,Bt.BRACE_L)?Kn(e,Bt.BRACE_L,kn,Bt.BRACE_R):[]}function xn(e){var t=e.token,n=Zt(e);if(Qt.hasOwnProperty(n.value))return n;throw Vn(e,t)}function Mn(e,t){if(!e.options.noLocation)return new jn(t,e.lastToken,e.source)}function jn(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}function Fn(e,t){return e.token.kind===t}function Ln(e,t){var n=e.token.kind===t;return n&&e.advance(),n}function Bn(e,t){var n=e.token;if(n.kind===t)return e.advance(),n;throw Rt(e.source,n.start,\"Expected \".concat(t,\", found \").concat(qt(n)))}function qn(e,t){var n=e.token;if(n.kind===Bt.NAME&&n.value===t)return e.advance(),n;throw Rt(e.source,n.start,'Expected \"'.concat(t,'\", found ').concat(qt(n)))}function Vn(e,t){var n=t||e.token;return Rt(e.source,n.start,\"Unexpected \".concat(qt(n)))}function Hn(e,t,n,r){Bn(e,t);for(var i=[];!Ln(e,r);)i.push(n(e));return i}function Kn(e,t,n,r){Bn(e,t);for(var i=[n(e)];!Ln(e,r);)i.push(n(e));return i}jn.prototype.toJSON=jn.prototype.inspect=function(){return{start:this.start,end:this.end}};var zn=\"undefined\"!==typeof Symbol&&\"function\"===typeof Symbol.for,Gn=zn?Symbol.for(\"INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER\"):\"@@INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER\",Yn=zn?Symbol.for(\"INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER\"):\"@@INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER\",Wn=n(\"Nw+h\"),Jn=n.n(Wn).a,Qn=n(\"Qlnm\"),Xn=n(\"EcEN\"),Zn=function(){return(Zn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},$n=new g(\"AbstractPubSubProvider\"),er=function(){function e(e){void 0===e&&(e={}),this._config=e}return e.prototype.configure=function(e){return void 0===e&&(e={}),this._config=Zn(Zn({},e),this._config),$n.debug(\"configure \"+this.getProviderName(),this._config),this.options},e.prototype.getCategory=function(){return\"PubSub\"},Object.defineProperty(e.prototype,\"options\",{get:function(){return Zn({},this._config)},enumerable:!0,configurable:!0}),e}(),tr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nr=function(){return(nr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},rr=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},ir=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},or=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},sr=new g(\"MqttOverWSProvider\");var ar=function(){function e(){this.promises=new Map}return e.prototype.get=function(e,t){return rr(this,void 0,void 0,(function(){var n;return ir(this,(function(r){return(n=this.promises.get(e))?[2,n]:(n=t(e),this.promises.set(e,n),[2,n])}))}))},Object.defineProperty(e.prototype,\"allClients\",{get:function(){return Array.from(this.promises.keys())},enumerable:!0,configurable:!0}),e.prototype.remove=function(e){this.promises.delete(e)},e}(),ur=\"undefined\"!==typeof Symbol?Symbol(\"topic\"):\"@@topic\",cr=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,nr(nr({},t),{clientId:t.clientId||Object(Xn.v4)()}))||this;return n._clientsQueue=new ar,n._topicObservers=new Map,n._clientIdObservers=new Map,n}return tr(t,e),Object.defineProperty(t.prototype,\"clientId\",{get:function(){return this.options.clientId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"endpoint\",{get:function(){return this.options.aws_pubsub_endpoint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"clientsQueue\",{get:function(){return this._clientsQueue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"isSSLEnabled\",{get:function(){return!this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing},enumerable:!0,configurable:!0}),t.prototype.getTopicForValue=function(e){return\"object\"===typeof e&&e[ur]},t.prototype.getProviderName=function(){return\"MqttOverWSProvider\"},t.prototype.onDisconnect=function(e){var t=this,n=e.clientId,r=e.errorCode,i=or(e,[\"clientId\",\"errorCode\"]);if(0!==r){sr.warn(n,JSON.stringify(nr({errorCode:r},i),null,2));var o=[],s=this._clientIdObservers.get(n);if(!s)return;s.forEach((function(e){e.error(\"Disconnected, error code: \"+r),t._topicObservers.forEach((function(t,n){t.delete(e),0===t.size&&o.push(n)}))})),this._clientIdObservers.delete(n),o.forEach((function(e){t._topicObservers.delete(e)}))}},t.prototype.newClient=function(e){var t=e.url,n=e.clientId;return rr(this,void 0,void 0,(function(){var e,r=this;return ir(this,(function(i){switch(i.label){case 0:return sr.debug(\"Creating new MQTT client\",n),(e=new Qn.Client(t,n)).onMessageArrived=function(e){var t=e.destinationName,n=e.payloadString;r._onMessage(t,n)},e.onConnectionLost=function(e){var t=e.errorCode,i=or(e,[\"errorCode\"]);r.onDisconnect(nr({clientId:n,errorCode:t},i))},[4,new Promise((function(t,n){e.connect({useSSL:r.isSSLEnabled,mqttVersion:3,onSuccess:function(){return t(e)},onFailure:n})}))];case 1:return i.sent(),[2,e]}}))}))},t.prototype.connect=function(e,t){return void 0===t&&(t={}),rr(this,void 0,void 0,(function(){var n=this;return ir(this,(function(r){switch(r.label){case 0:return[4,this.clientsQueue.get(e,(function(e){return n.newClient(nr(nr({},t),{clientId:e}))}))];case 1:return[2,r.sent()]}}))}))},t.prototype.disconnect=function(e){return rr(this,void 0,void 0,(function(){var t;return ir(this,(function(n){switch(n.label){case 0:return[4,this.clientsQueue.get(e,(function(){return null}))];case 1:return(t=n.sent())&&t.isConnected()&&t.disconnect(),this.clientsQueue.remove(e),[2]}}))}))},t.prototype.publish=function(e,t){return rr(this,void 0,void 0,(function(){var n,r,i,o;return ir(this,(function(s){switch(s.label){case 0:return n=[].concat(e),r=JSON.stringify(t),[4,this.endpoint];case 1:return i=s.sent(),[4,this.connect(this.clientId,{url:i})];case 2:return o=s.sent(),sr.debug(\"Publishing to topic(s)\",n.join(\",\"),r),n.forEach((function(e){return o.send(e,r)})),[2]}}))}))},t.prototype._onMessage=function(e,t){try{var n=[];this._topicObservers.forEach((function(t,r){(function(e,t){for(var n=e.split(\"/\"),r=n.length,i=t.split(\"/\"),o=0;o<r;++o){var s=n[o],a=i[o];if(\"#\"===s)return i.length>=r;if(\"+\"!==s&&s!==a)return!1}return r===i.length})(r,e)&&n.push(t)}));var r=JSON.parse(t);\"object\"===typeof r&&(r[ur]=e),n.forEach((function(e){e.forEach((function(e){return e.next(r)}))}))}catch(i){sr.warn(\"Error handling message\",i,t)}},t.prototype.subscribe=function(e,t){var n=this;void 0===t&&(t={});var r=[].concat(e);return sr.debug(\"Subscribing to topic(s)\",r.join(\",\")),new Jn((function(e){var i;r.forEach((function(t){var r=n._topicObservers.get(t);r||(r=new Set,n._topicObservers.set(t,r)),r.add(e)}));var o=t.clientId,s=void 0===o?n.clientId:o,a=n._clientIdObservers.get(s);return a||(a=new Set),a.add(e),n._clientIdObservers.set(s,a),rr(n,void 0,void 0,(function(){var n,o,a,u;return ir(this,(function(c){switch(c.label){case 0:return void 0!==(n=t.url)?[3,2]:[4,this.endpoint];case 1:return a=c.sent(),[3,3];case 2:a=n,c.label=3;case 3:o=a,c.label=4;case 4:return c.trys.push([4,6,,7]),[4,this.connect(s,{url:o})];case 5:return i=c.sent(),r.forEach((function(e){i.subscribe(e)})),[3,7];case 6:return u=c.sent(),e.error(u),[3,7];case 7:return[2]}}))})),function(){return sr.debug(\"Unsubscribing from topic(s)\",r.join(\",\")),i&&(n._clientIdObservers.get(s).delete(e),0===n._clientIdObservers.get(s).size&&(n.disconnect(s),n._clientIdObservers.delete(s)),r.forEach((function(t){var r=n._topicObservers.get(t)||new Set;r.delete(e),0===r.size&&(n._topicObservers.delete(t),i.isConnected()&&i.unsubscribe(t))}))),null}}))},t}(er),fr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lr=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},hr=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},dr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},pr=function(e,t){var n=\"function\"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},gr=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(pr(arguments[t]));return e},yr=new g(\"AWSAppSyncProvider\"),vr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._topicClient=new Map,t._topicAlias=new Map,t}return fr(t,e),Object.defineProperty(t.prototype,\"endpoint\",{get:function(){throw new Error(\"Not supported\")},enumerable:!0,configurable:!0}),t.prototype.getProviderName=function(){return\"AWSAppSyncProvider\"},t.prototype.publish=function(e,t,n){return lr(this,void 0,void 0,(function(){return hr(this,(function(e){throw new Error(\"Operation not supported\")}))}))},t.prototype._cleanUp=function(e){var t=this;Array.from(this._topicClient.entries()).filter((function(t){return pr(t,2)[1].clientId===e})).map((function(e){return pr(e,1)[0]})).forEach((function(e){return t._cleanUpForTopic(e)}))},t.prototype._cleanUpForTopic=function(e){this._topicClient.delete(e),this._topicAlias.delete(e)},t.prototype.onDisconnect=function(e){var t=this,n=e.clientId,r=e.errorCode,i=dr(e,[\"clientId\",\"errorCode\"]);0!==r&&(Array.from(this._topicClient.entries()).filter((function(e){return pr(e,2)[1].clientId===n})).map((function(e){return pr(e,1)[0]})).forEach((function(e){t._topicObservers.has(e)&&(t._topicObservers.get(e).forEach((function(e){e.closed||e.error(i)})),t._topicObservers.delete(e))})),this._cleanUp(n))},t.prototype.disconnect=function(t){return lr(this,void 0,void 0,(function(){return hr(this,(function(n){switch(n.label){case 0:return[4,this.clientsQueue.get(t,(function(){return null}))];case 1:return n.sent(),[4,e.prototype.disconnect.call(this,t)];case 2:return n.sent(),this._cleanUp(t),[2]}}))}))},t.prototype.subscribe=function(e,t){var n=this;void 0===t&&(t={});var r=new Jn((function(r){var i=[].concat(e);return yr.debug(\"Subscribing to topic(s)\",i.join(\",\")),lr(n,void 0,void 0,(function(){var e,n,o,s,a,u=this;return hr(this,(function(c){switch(c.label){case 0:return i.forEach((function(e){u._topicObservers.has(e)||u._topicObservers.set(e,new Set),u._topicObservers.get(e).add(r)})),e=t.mqttConnections,n=void 0===e?[]:e,o=t.newSubscriptions,s=Object.entries(o).map((function(e){var t=pr(e,2),n=t[0];return[t[1].topic,n]})),this._topicAlias=new Map(gr(Array.from(this._topicAlias.entries()),s)),a=Object.entries(i.reduce((function(e,t){var r=n.find((function(e){return e.topics.indexOf(t)>-1}));if(r){var i=r.client,o=r.url;e[i]||(e[i]={url:o,topics:new Set}),e[i].topics.add(t)}return e}),{})),[4,Promise.all(a.map((function(e){var t=pr(e,2),n=t[0],i=t[1],o=i.url,s=i.topics;return lr(u,void 0,void 0,(function(){var e,t,i=this;return hr(this,(function(a){switch(a.label){case 0:e=null,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.connect(n,{clientId:n,url:o})];case 2:return e=a.sent(),[3,4];case 3:return t=a.sent(),r.error({message:\"Failed to connect\",error:t}),r.complete(),[2,void 0];case 4:return s.forEach((function(t){e.isConnected()&&(e.subscribe(t),i._topicClient.set(t,e))})),[2,e]}}))}))})))];case 1:return c.sent(),[2]}}))})),function(){yr.debug(\"Unsubscribing from topic(s)\",i.join(\",\")),i.forEach((function(e){var t=n._topicClient.get(e);t&&t.isConnected()&&(t.unsubscribe(e),n._topicClient.delete(e),Array.from(n._topicClient.values()).some((function(e){return e===t}))||n.disconnect(t.clientId)),n._topicObservers.delete(e)}))}}));return Jn.from(r).map((function(e){var t=n.getTopicForValue(e),r=n._topicAlias.get(t);return e.data=Object.entries(e.data).reduce((function(e,t){var n=pr(t,2),i=n[0],o=n[1];return e[r||i]=o,e}),{}),e}))},t}(cr),mr=n(\"HDXh\"),br=function(){return(br=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},_r=function(e,t){var n=\"function\"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},wr=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(_r(arguments[t]));return e},Sr=new g(\"Hub\"),Er=\"undefined\"!==typeof Symbol&&\"function\"===typeof Symbol.for?Symbol.for(\"amplify_default\"):\"@@amplify_default\";var Ar=new(function(){function e(e){this.listeners=[],this.patterns=[],this.protectedChannels=[\"core\",\"auth\",\"api\",\"analytics\",\"interactions\",\"pubsub\",\"storage\",\"xr\"],this.name=e}return e.prototype.remove=function(e,t){if(e instanceof RegExp){var n=this.patterns.find((function(t){return t.pattern.source===e.source}));if(!n)return void Sr.warn(\"No listeners for \"+e);this.patterns=wr(this.patterns.filter((function(e){return e!==n})))}else{var r=this.listeners[e];if(!r)return void Sr.warn(\"No listeners for \"+e);this.listeners[e]=wr(r.filter((function(e){return e.callback!==t})))}},e.prototype.dispatch=function(e,t,n,r){(void 0===n&&(n=\"\"),this.protectedChannels.indexOf(e)>-1)&&(r===Er||Sr.warn(\"WARNING: \"+e+\" is protected and dispatching on it can have unintended consequences\"));var i={channel:e,payload:br({},t),source:n,patternInfo:[]};try{this._toListeners(i)}catch(o){Sr.error(o)}},e.prototype.listen=function(e,t,n){var r,i=this;if(void 0===n&&(n=\"noname\"),function(e){return void 0!==e.onHubCapsule}(t))Sr.warn(\"WARNING onHubCapsule is Deprecated. Please pass in a callback.\"),r=t.onHubCapsule.bind(t);else{if(\"function\"!==typeof t)throw new Error(\"No callback supplied to Hub\");r=t}if(e instanceof RegExp)this.patterns.push({pattern:e,callback:r});else{var o=this.listeners[e];o||(o=[],this.listeners[e]=o),o.push({name:n,callback:r})}return function(){i.remove(e,r)}},e.prototype._toListeners=function(e){var t=e.channel,n=e.payload,r=this.listeners[t];if(r&&r.forEach((function(r){Sr.debug(\"Dispatching to \"+t+\" with \",n);try{r.callback(e)}catch(i){Sr.error(i)}})),this.patterns.length>0){if(!n.message)return void Sr.warn(\"Cannot perform pattern matching without a message key\");var i=n.message;this.patterns.forEach((function(t){var n=i.match(t.pattern);if(n){var r=_r(n).slice(1),o=br(br({},e),{patternInfo:r});try{t.callback(o)}catch(s){Sr.error(s)}}}))}},e}())(\"__default__\"),Ir={keyPrefix:\"aws-amplify-cache\",capacityInBytes:1048576,itemMaxSize:21e4,defaultTTL:2592e5,defaultPriority:5,warningThreshold:.8,storage:(new _).getStorage()};function Or(e){var t=0;t=e.length;for(var n=e.length;n>=0;n-=1){var r=e.charCodeAt(n);r>127&&r<=2047?t+=1:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&(n-=1)}return t}function Tr(){return(new Date).getTime()}function Cr(e){return Number.isInteger?Number.isInteger(e):function(e){return\"number\"===typeof e&&isFinite(e)&&Math.floor(e)===e}(e)}var Pr,kr,Nr={},Ur=(function(){function e(){}e.clear=function(){Nr={}},e.getItem=function(e){return Nr[e]||null},e.setItem=function(e,t){Nr[e]=t},e.removeItem=function(e){delete Nr[e]}}(),new g(\"StorageCache\")),Rr=function(){function e(e){this.config=Object.assign({},e),this.cacheCurSizeKey=this.config.keyPrefix+\"CurSize\",this.checkConfig()}return e.prototype.getModuleName=function(){return\"Cache\"},e.prototype.checkConfig=function(){Cr(this.config.capacityInBytes)||(Ur.error(\"Invalid parameter: capacityInBytes. It should be an Integer. Setting back to default.\"),this.config.capacityInBytes=Ir.capacityInBytes),Cr(this.config.itemMaxSize)||(Ur.error(\"Invalid parameter: itemMaxSize. It should be an Integer. Setting back to default.\"),this.config.itemMaxSize=Ir.itemMaxSize),Cr(this.config.defaultTTL)||(Ur.error(\"Invalid parameter: defaultTTL. It should be an Integer. Setting back to default.\"),this.config.defaultTTL=Ir.defaultTTL),Cr(this.config.defaultPriority)||(Ur.error(\"Invalid parameter: defaultPriority. It should be an Integer. Setting back to default.\"),this.config.defaultPriority=Ir.defaultPriority),this.config.itemMaxSize>this.config.capacityInBytes&&(Ur.error(\"Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default.\"),this.config.itemMaxSize=Ir.itemMaxSize),(this.config.defaultPriority>5||this.config.defaultPriority<1)&&(Ur.error(\"Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default.\"),this.config.defaultPriority=Ir.defaultPriority),(Number(this.config.warningThreshold)>1||Number(this.config.warningThreshold)<0)&&(Ur.error(\"Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default.\"),this.config.warningThreshold=Ir.warningThreshold);this.config.capacityInBytes>5242880&&(Ur.error(\"Cache Capacity should be less than 5MB. Setting back to default. Setting back to default.\"),this.config.capacityInBytes=Ir.capacityInBytes)},e.prototype.fillCacheItem=function(e,t,n){var r={key:e,data:t,timestamp:Tr(),visitedTime:Tr(),priority:n.priority,expires:n.expires,type:typeof t,byteSize:0};return r.byteSize=Or(JSON.stringify(r)),r.byteSize=Or(JSON.stringify(r)),r},e.prototype.configure=function(e){return e?(e.keyPrefix&&Ur.warn(\"Don't try to configure keyPrefix!\"),this.config=Object.assign({},this.config,e,e.Cache),this.checkConfig(),this.config):this.config},e}(),Dr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xr=new g(\"Cache\"),Mr=new(function(e){function t(t){var n=this,r=t?Object.assign({},Ir,t):Ir;return(n=e.call(this,r)||this).config.storage=r.storage,n.getItem=n.getItem.bind(n),n.setItem=n.setItem.bind(n),n.removeItem=n.removeItem.bind(n),n}return Dr(t,e),t.prototype._decreaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t-e).toString())},t.prototype._increaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t+e).toString())},t.prototype._refreshItem=function(e,t){return e.visitedTime=Tr(),this.config.storage.setItem(t,JSON.stringify(e)),e},t.prototype._isExpired=function(e){var t=this.config.storage.getItem(e),n=JSON.parse(t);return Tr()>=n.expires},t.prototype._removeItem=function(e,t){var n=t||JSON.parse(this.config.storage.getItem(e)).byteSize;this._decreaseCurSizeInBytes(n),this.config.storage.removeItem(e)},t.prototype._setItem=function(e,t){this._increaseCurSizeInBytes(t.byteSize);try{this.config.storage.setItem(e,JSON.stringify(t))}catch(n){this._decreaseCurSizeInBytes(t.byteSize),xr.error(\"Failed to set item \"+n)}},t.prototype._sizeToPop=function(e){var t=this.getCacheCurSize()+e-this.config.capacityInBytes,n=(1-this.config.warningThreshold)*this.config.capacityInBytes;return t>n?t:n},t.prototype._isCacheFull=function(e){return e+this.getCacheCurSize()>this.config.capacityInBytes},t.prototype._findValidKeys=function(){for(var e=[],t=[],n=0;n<this.config.storage.length;n+=1)t.push(this.config.storage.key(n));for(n=0;n<t.length;n+=1){var r=t[n];0===r.indexOf(this.config.keyPrefix)&&r!==this.cacheCurSizeKey&&(this._isExpired(r)?this._removeItem(r):e.push(r))}return e},t.prototype._popOutItems=function(e,t){for(var n=[],r=t,i=0;i<e.length;i+=1){var o=this.config.storage.getItem(e[i]);if(null!=o){var s=JSON.parse(o);n.push(s)}}n.sort((function(e,t){return e.priority>t.priority?-1:e.priority<t.priority?1:e.visitedTime<t.visitedTime?-1:1}));for(i=0;i<n.length;i+=1)if(this._removeItem(n[i].key,n[i].byteSize),(r-=n[i].byteSize)<=0)return},t.prototype.setItem=function(e,t,n){xr.log(\"Set item: key is \"+e+\", value is \"+t+\" with options: \"+n);var r=this.config.keyPrefix+e;if(r!==this.config.keyPrefix&&r!==this.cacheCurSizeKey)if(\"undefined\"!==typeof t){var i={priority:n&&void 0!==n.priority?n.priority:this.config.defaultPriority,expires:n&&void 0!==n.expires?n.expires:this.config.defaultTTL+Tr()};if(i.priority<1||i.priority>5)xr.warn(\"Invalid parameter: priority due to out or range. It should be within 1 and 5.\");else{var o=this.fillCacheItem(r,t,i);if(o.byteSize>this.config.itemMaxSize)xr.warn(\"Item with key: \"+e+\" you are trying to put into is too big!\");else try{var s=this.config.storage.getItem(r);if(s&&this._removeItem(r,JSON.parse(s).byteSize),this._isCacheFull(o.byteSize)){var a=this._findValidKeys();if(this._isCacheFull(o.byteSize)){var u=this._sizeToPop(o.byteSize);this._popOutItems(a,u)}}this._setItem(r,o)}catch(c){xr.warn(\"setItem failed! \"+c)}}}else xr.warn(\"The value of item should not be undefined!\");else xr.warn(\"Invalid key: should not be empty or 'CurSize'\")},t.prototype.getItem=function(e,t){xr.log(\"Get item: key is \"+e+\" with options \"+t);var n=null,r=this.config.keyPrefix+e;if(r===this.config.keyPrefix||r===this.cacheCurSizeKey)return xr.warn(\"Invalid key: should not be empty or 'CurSize'\"),null;try{if(null!=(n=this.config.storage.getItem(r))){if(!this._isExpired(r)){var i=JSON.parse(n);return(i=this._refreshItem(i,r)).data}this._removeItem(r,JSON.parse(n).byteSize),n=null}if(t&&void 0!==t.callback){var o=t.callback();return null!==o&&this.setItem(e,o,t),o}return null}catch(s){return xr.warn(\"getItem failed! \"+s),null}},t.prototype.removeItem=function(e){xr.log(\"Remove item: key is \"+e);var t=this.config.keyPrefix+e;if(t!==this.config.keyPrefix&&t!==this.cacheCurSizeKey)try{var n=this.config.storage.getItem(t);n&&this._removeItem(t,JSON.parse(n).byteSize)}catch(r){xr.warn(\"removeItem failed! \"+r)}},t.prototype.clear=function(){xr.log(\"Clear Cache\");for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&e.push(n)}try{for(t=0;t<e.length;t+=1)this.config.storage.removeItem(e[t])}catch(r){xr.warn(\"clear failed! \"+r)}},t.prototype.getAllKeys=function(){for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&n!==this.cacheCurSizeKey&&e.push(n.substring(this.config.keyPrefix.length))}return e},t.prototype.getCacheCurSize=function(){var e=this.config.storage.getItem(this.cacheCurSizeKey);return e||(this.config.storage.setItem(this.cacheCurSizeKey,\"0\"),e=\"0\"),Number(e)},t.prototype.createInstance=function(e){return e.keyPrefix&&e.keyPrefix!==Ir.keyPrefix||(xr.error(\"invalid keyPrefix, setting keyPrefix with timeStamp\"),e.keyPrefix=Tr.toString()),new t(e)},t}(Rr)),jr=Mr;function Fr(e){return e&&!![\"provider\",\"customState\"].find((function(t){return e.hasOwnProperty(t)}))}function Lr(e){return void 0!==e.redirectSignIn}K.register(Mr),function(e){e.Cognito=\"COGNITO\",e.Google=\"Google\",e.Facebook=\"Facebook\",e.Amazon=\"LoginWithAmazon\"}(Pr||(Pr={})),function(e){e.NoConfig=\"noConfig\",e.MissingAuthConfig=\"missingAuthConfig\",e.EmptyUsername=\"emptyUsername\",e.InvalidUsername=\"invalidUsername\",e.EmptyPassword=\"emptyPassword\",e.EmptyCode=\"emptyCode\",e.SignUpError=\"signUpError\",e.NoMFA=\"noMFA\",e.InvalidMFA=\"invalidMFA\",e.EmptyChallengeResponse=\"emptyChallengeResponse\",e.NoUserSession=\"noUserSession\",e.Default=\"default\"}(kr||(kr={}));var Br,qr=new g(\"Parser\"),Vr=function(e){var t,n={};if(e.aws_mobile_analytics_app_id){var r={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}};n.Analytics=r}return(e.aws_cognito_identity_pool_id||e.aws_user_pools_id)&&(n.Auth={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,identityPoolRegion:e.aws_cognito_region,mandatorySignIn:\"enable\"===e.aws_mandatory_sign_in}),t=e.aws_user_files_s3_bucket?{AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:e.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:e?e.Storage||e:{},n.Analytics=Object.assign({},n.Analytics,e.Analytics),n.Auth=Object.assign({},n.Auth,e.Auth),n.Storage=Object.assign({},t),qr.debug(\"parse config\",e,\"to amplifyconfig\",n),n},Hr=function(){function e(){}return e.parseMobilehubConfig=Vr,e}(),Kr=function(){function e(e){var t=e||{},n=t.ValidationData,r=t.Username,i=t.Password,o=t.AuthParameters,s=t.ClientMetadata;this.validationData=n||{},this.authParameters=o||{},this.clientMetadata=s||{},this.username=r,this.password=i}var t=e.prototype;return t.getUsername=function(){return this.username},t.getPassword=function(){return this.password},t.getValidationData=function(){return this.validationData},t.getAuthParameters=function(){return this.authParameters},t.getClientMetadata=function(){return this.clientMetadata},e}(),zr=n(\"Ib8C\"),Gr=n.n(zr),Yr=(n(\"F+F2\"),n(\"lPiR\")),Wr=n.n(Yr),Jr=n(\"7VPu\"),Qr=n.n(Jr),Xr=Zr;function Zr(e,t){null!=e&&this.fromString(e,t)}function $r(){return new Zr(null)}var ei=\"undefined\"!==typeof navigator;ei&&\"Microsoft Internet Explorer\"==navigator.appName?(Zr.prototype.am=function(e,t,n,r,i,o){for(var s=32767&t,a=t>>15;--o>=0;){var u=32767&this[e],c=this[e++]>>15,f=a*u+c*s;i=((u=s*u+((32767&f)<<15)+n[r]+(1073741823&i))>>>30)+(f>>>15)+a*c+(i>>>30),n[r++]=1073741823&u}return i},Br=30):ei&&\"Netscape\"!=navigator.appName?(Zr.prototype.am=function(e,t,n,r,i,o){for(;--o>=0;){var s=t*this[e++]+n[r]+i;i=Math.floor(s/67108864),n[r++]=67108863&s}return i},Br=26):(Zr.prototype.am=function(e,t,n,r,i,o){for(var s=16383&t,a=t>>14;--o>=0;){var u=16383&this[e],c=this[e++]>>14,f=a*u+c*s;i=((u=s*u+((16383&f)<<14)+n[r]+i)>>28)+(f>>14)+a*c,n[r++]=268435455&u}return i},Br=28),Zr.prototype.DB=Br,Zr.prototype.DM=(1<<Br)-1,Zr.prototype.DV=1<<Br;Zr.prototype.FV=Math.pow(2,52),Zr.prototype.F1=52-Br,Zr.prototype.F2=2*Br-52;var ti,ni,ri=\"0123456789abcdefghijklmnopqrstuvwxyz\",ii=new Array;for(ti=\"0\".charCodeAt(0),ni=0;ni<=9;++ni)ii[ti++]=ni;for(ti=\"a\".charCodeAt(0),ni=10;ni<36;++ni)ii[ti++]=ni;for(ti=\"A\".charCodeAt(0),ni=10;ni<36;++ni)ii[ti++]=ni;function oi(e){return ri.charAt(e)}function si(e,t){var n=ii[e.charCodeAt(t)];return null==n?-1:n}function ai(e){var t=$r();return t.fromInt(e),t}function ui(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function ci(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}ci.prototype.convert=function(e){var t=$r();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(Zr.ZERO)>0&&this.m.subTo(t,t),t},ci.prototype.revert=function(e){var t=$r();return e.copyTo(t),this.reduce(t),t},ci.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},ci.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},ci.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},Zr.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},Zr.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},Zr.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)throw new Error(\"Only radix 2, 4, 8, 16, 32 are supported\");n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,o=0;--r>=0;){var s=si(e,r);s<0?\"-\"==e.charAt(r)&&(i=!0):(i=!1,0==o?this[this.t++]=s:o+n>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,(o+=n)>=this.DB&&(o-=this.DB))}this.clamp(),i&&Zr.ZERO.subTo(this,this)},Zr.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},Zr.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},Zr.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},Zr.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,s=Math.floor(e/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+s+1]=this[n]>>i|a,a=(this[n]&o)<<r;for(n=s-1;n>=0;--n)t[n]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},Zr.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var s=n+1;s<this.t;++s)t[s-n-1]|=(this[s]&o)<<i,t[s-n]=this[s]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}},Zr.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},Zr.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&Zr.ZERO.subTo(t,t)},Zr.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},Zr.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=$r());var o=$r(),s=this.s,a=e.s,u=this.DB-ui(r[r.t-1]);u>0?(r.lShiftTo(u,o),i.lShiftTo(u,n)):(r.copyTo(o),i.copyTo(n));var c=o.t,f=o[c-1];if(0!=f){var l=f*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),h=this.FV/l,d=(1<<this.F1)/l,p=1<<this.F2,g=n.t,y=g-c,v=null==t?$r():t;for(o.dlShiftTo(y,v),n.compareTo(v)>=0&&(n[n.t++]=1,n.subTo(v,n)),Zr.ONE.dlShiftTo(c,v),v.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--y>=0;){var m=n[--g]==f?this.DM:Math.floor(n[g]*h+(n[g-1]+p)*d);if((n[g]+=o.am(0,m,n,y,0,c))<m)for(o.dlShiftTo(y,v),n.subTo(v,n);n[g]<--m;)n.subTo(v,n)}null!=t&&(n.drShiftTo(c,t),s!=a&&Zr.ZERO.subTo(t,t)),n.t=c,n.clamp(),u>0&&n.rShiftTo(u,n),s<0&&Zr.ZERO.subTo(n,n)}}},Zr.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},Zr.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},Zr.prototype.toString=function(e){if(this.s<0)return\"-\"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)throw new Error(\"Only radix 2, 4, 8, 16, 32 are supported\");t=2}var n,r=(1<<t)-1,i=!1,o=\"\",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(i=!0,o=oi(n));s>=0;)a<t?(n=(this[s]&(1<<a)-1)<<t-a,n|=this[--s]>>(a+=this.DB-t)):(n=this[s]>>(a-=t)&r,a<=0&&(a+=this.DB,--s)),n>0&&(i=!0),i&&(o+=oi(n));return i?o:\"0\"},Zr.prototype.negate=function(){var e=$r();return Zr.ZERO.subTo(this,e),e},Zr.prototype.abs=function(){return this.s<0?this.negate():this},Zr.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},Zr.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+ui(this[this.t-1]^this.s&this.DM)},Zr.prototype.mod=function(e){var t=$r();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(Zr.ZERO)>0&&e.subTo(t,t),t},Zr.prototype.equals=function(e){return 0==this.compareTo(e)},Zr.prototype.add=function(e){var t=$r();return this.addTo(e,t),t},Zr.prototype.subtract=function(e){var t=$r();return this.subTo(e,t),t},Zr.prototype.multiply=function(e){var t=$r();return this.multiplyTo(e,t),t},Zr.prototype.divide=function(e){var t=$r();return this.divRemTo(e,t,null),t},Zr.prototype.modPow=function(e,t,n){var r,i=e.bitLength(),o=ai(1),s=new ci(t);if(i<=0)return o;r=i<18?1:i<48?3:i<144?4:i<768?5:6;var a=new Array,u=3,c=r-1,f=(1<<r)-1;if(a[1]=s.convert(this),r>1){var l=$r();for(s.sqrTo(a[1],l);u<=f;)a[u]=$r(),s.mulTo(l,a[u-2],a[u]),u+=2}var h,d,p=e.t-1,g=!0,y=$r();for(i=ui(e[p])-1;p>=0;){for(i>=c?h=e[p]>>i-c&f:(h=(e[p]&(1<<i+1)-1)<<c-i,p>0&&(h|=e[p-1]>>this.DB+i-c)),u=r;0==(1&h);)h>>=1,--u;if((i-=u)<0&&(i+=this.DB,--p),g)a[h].copyTo(o),g=!1;else{for(;u>1;)s.sqrTo(o,y),s.sqrTo(y,o),u-=2;u>0?s.sqrTo(o,y):(d=o,o=y,y=d),s.mulTo(y,a[h],o)}for(;p>=0&&0==(e[p]&1<<i);)s.sqrTo(o,y),d=o,o=y,y=d,--i<0&&(i=this.DB-1,--p)}var v=s.revert(o);return n(null,v),v},Zr.ZERO=ai(0),Zr.ONE=ai(1);var fi=function(e){return mr.Buffer.from(Gr.a.lib.WordArray.random(e).toString(),\"hex\")},li=\"FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF\",hi=function(){function e(e){this.N=new Xr(li,16),this.g=new Xr(\"2\",16),this.k=new Xr(this.hexHash(\"00\"+this.N.toString(16)+\"0\"+this.g.toString(16)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue((function(){})),this.infoBits=mr.Buffer.from(\"Caldera Derived Key\",\"utf8\"),this.poolName=e}var t=e.prototype;return t.getSmallAValue=function(){return this.smallAValue},t.getLargeAValue=function(e){var t=this;this.largeAValue?e(null,this.largeAValue):this.calculateA(this.smallAValue,(function(n,r){n&&e(n,null),t.largeAValue=r,e(null,t.largeAValue)}))},t.generateRandomSmallA=function(){var e=fi(128).toString(\"hex\");return new Xr(e,16).mod(this.N)},t.generateRandomString=function(){return fi(40).toString(\"base64\")},t.getRandomPassword=function(){return this.randomPassword},t.getSaltDevices=function(){return this.SaltToHashDevices},t.getVerifierDevices=function(){return this.verifierDevices},t.generateHashDevice=function(e,t,n){var r=this;this.randomPassword=this.generateRandomString();var i=\"\"+e+t+\":\"+this.randomPassword,o=this.hash(i),s=fi(16).toString(\"hex\");this.SaltToHashDevices=this.padHex(new Xr(s,16)),this.g.modPow(new Xr(this.hexHash(this.SaltToHashDevices+o),16),this.N,(function(e,t){e&&n(e,null),r.verifierDevices=r.padHex(t),n(null,null)}))},t.calculateA=function(e,t){var n=this;this.g.modPow(e,this.N,(function(e,r){e&&t(e,null),r.mod(n.N).equals(Xr.ZERO)&&t(new Error(\"Illegal paramater. A mod N cannot be 0.\"),null),t(null,r)}))},t.calculateU=function(e,t){return this.UHexHash=this.hexHash(this.padHex(e)+this.padHex(t)),new Xr(this.UHexHash,16)},t.hash=function(e){var t=e instanceof mr.Buffer?Gr.a.lib.WordArray.create(e):e,n=Wr()(t).toString();return new Array(64-n.length).join(\"0\")+n},t.hexHash=function(e){return this.hash(mr.Buffer.from(e,\"hex\"))},t.computehkdf=function(e,t){var n=Gr.a.lib.WordArray.create(mr.Buffer.concat([this.infoBits,mr.Buffer.from(String.fromCharCode(1),\"utf8\")])),r=e instanceof mr.Buffer?Gr.a.lib.WordArray.create(e):e,i=t instanceof mr.Buffer?Gr.a.lib.WordArray.create(t):t,o=Qr()(r,i),s=Qr()(n,o);return mr.Buffer.from(s.toString(),\"hex\").slice(0,16)},t.getPasswordAuthenticationKey=function(e,t,n,r,i){var o=this;if(n.mod(this.N).equals(Xr.ZERO))throw new Error(\"B cannot be zero.\");if(this.UValue=this.calculateU(this.largeAValue,n),this.UValue.equals(Xr.ZERO))throw new Error(\"U cannot be zero.\");var s=\"\"+this.poolName+e+\":\"+t,a=this.hash(s),u=new Xr(this.hexHash(this.padHex(r)+a),16);this.calculateS(u,n,(function(e,t){e&&i(e,null);var n=o.computehkdf(mr.Buffer.from(o.padHex(t),\"hex\"),mr.Buffer.from(o.padHex(o.UValue.toString(16)),\"hex\"));i(null,n)}))},t.calculateS=function(e,t,n){var r=this;this.g.modPow(e,this.N,(function(i,o){i&&n(i,null),t.subtract(r.k.multiply(o)).modPow(r.smallAValue.add(r.UValue.multiply(e)),r.N,(function(e,t){e&&n(e,null),n(null,t.mod(r.N))}))}))},t.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return\"userAttributes.\"},t.padHex=function(e){var t=e.toString(16);return t.length%2===1?t=\"0\"+t:-1!==\"89ABCDEFabcdef\".indexOf(t[0])&&(t=\"00\"+t),t},e}(),di=function(){function e(e){this.jwtToken=e||\"\",this.payload=this.decodePayload()}var t=e.prototype;return t.getJwtToken=function(){return this.jwtToken},t.getExpiration=function(){return this.payload.exp},t.getIssuedAt=function(){return this.payload.iat},t.decodePayload=function(){var e=this.jwtToken.split(\".\")[1];try{return JSON.parse(mr.Buffer.from(e,\"base64\").toString(\"utf8\"))}catch(t){return{}}},e}();var pi=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).AccessToken;return e.call(this,n||\"\")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(di);var gi=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).IdToken;return e.call(this,n||\"\")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(di),yi=function(){function e(e){var t=(void 0===e?{}:e).RefreshToken;this.token=t||\"\"}return e.prototype.getToken=function(){return this.token},e}(),vi=n(\"ETIr\"),mi=n.n(vi),bi=function(){function e(e){var t=void 0===e?{}:e,n=t.IdToken,r=t.RefreshToken,i=t.AccessToken,o=t.ClockDrift;if(null==i||null==n)throw new Error(\"Id token and Access Token must be present.\");this.idToken=n,this.refreshToken=r,this.accessToken=i,this.clockDrift=void 0===o?this.calculateClockDrift():o}var t=e.prototype;return t.getIdToken=function(){return this.idToken},t.getRefreshToken=function(){return this.refreshToken},t.getAccessToken=function(){return this.accessToken},t.getClockDrift=function(){return this.clockDrift},t.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},t.isValid=function(){var e=Math.floor(new Date/1e3)-this.clockDrift;return e<this.accessToken.getExpiration()&&e<this.idToken.getExpiration()},e}(),_i=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],wi=[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],Si=function(){function e(){}return e.prototype.getNowString=function(){var e=new Date,t=wi[e.getUTCDay()],n=_i[e.getUTCMonth()],r=e.getUTCDate(),i=e.getUTCHours();i<10&&(i=\"0\"+i);var o=e.getUTCMinutes();o<10&&(o=\"0\"+o);var s=e.getUTCSeconds();return s<10&&(s=\"0\"+s),t+\" \"+n+\" \"+r+\" \"+i+\":\"+o+\":\"+s+\" UTC \"+e.getUTCFullYear()},e}(),Ei=function(){function e(e){var t=void 0===e?{}:e,n=t.Name,r=t.Value;this.Name=n||\"\",this.Value=r||\"\"}var t=e.prototype;return t.getValue=function(){return this.Value},t.setValue=function(e){return this.Value=e,this},t.getName=function(){return this.Name},t.setName=function(e){return this.Name=e,this},t.toString=function(){return JSON.stringify(this)},t.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}(),Ai={},Ii=function(){function e(){}return e.setItem=function(e,t){return Ai[e]=t,Ai[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(Ai,e)?Ai[e]:void 0},e.removeItem=function(e){return delete Ai[e]},e.clear=function(){return Ai={}},e}(),Oi=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem(\"aws.cognito.test-ls\",1),this.storageWindow.removeItem(\"aws.cognito.test-ls\")}catch(e){this.storageWindow=Ii}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),Ti=\"undefined\"!==typeof navigator?navigator.userAgent:\"nodejs\",Ci=function(){function e(e){if(null==e||null==e.Username||null==e.Pool)throw new Error(\"Username and pool information are required.\");this.username=e.Username||\"\",this.pool=e.Pool,this.Session=null,this.client=e.Pool.client,this.signInUserSession=null,this.authenticationFlowType=\"USER_SRP_AUTH\",this.storage=e.Storage||(new Oi).getStorage(),this.keyPrefix=\"CognitoIdentityServiceProvider.\"+this.pool.getClientId(),this.userDataKey=this.keyPrefix+\".\"+this.username+\".userData\"}var t=e.prototype;return t.setSignInUserSession=function(e){this.clearCachedUserData(),this.signInUserSession=e,this.cacheTokens()},t.getSignInUserSession=function(){return this.signInUserSession},t.getUsername=function(){return this.username},t.getAuthenticationFlowType=function(){return this.authenticationFlowType},t.setAuthenticationFlowType=function(e){this.authenticationFlowType=e},t.initiateAuth=function(e,t){var n=this,r=e.getAuthParameters();r.USERNAME=this.username;var i=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),o={AuthFlow:\"CUSTOM_AUTH\",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:i};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request(\"InitiateAuth\",o,(function(e,r){if(e)return t.onFailure(e);var i=r.ChallengeName,o=r.ChallengeParameters;return\"CUSTOM_CHALLENGE\"===i?(n.Session=r.Session,t.customChallenge(o)):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),t.onSuccess(n.signInUserSession))}))},t.authenticateUser=function(e,t){return\"USER_PASSWORD_AUTH\"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(e,t):\"USER_SRP_AUTH\"===this.authenticationFlowType||\"CUSTOM_AUTH\"===this.authenticationFlowType?this.authenticateUserDefaultAuth(e,t):t.onFailure(new Error(\"Authentication flow type is invalid.\"))},t.authenticateUserDefaultAuth=function(e,t){var n,r,i=this,o=new hi(this.pool.getUserPoolId().split(\"_\")[1]),s=new Si,a={};null!=this.deviceKey&&(a.DEVICE_KEY=this.deviceKey),a.USERNAME=this.username,o.getLargeAValue((function(u,c){u&&t.onFailure(u),a.SRP_A=c.toString(16),\"CUSTOM_AUTH\"===i.authenticationFlowType&&(a.CHALLENGE_NAME=\"SRP_A\");var f=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),l={AuthFlow:i.authenticationFlowType,ClientId:i.pool.getClientId(),AuthParameters:a,ClientMetadata:f};i.getUserContextData(i.username)&&(l.UserContextData=i.getUserContextData(i.username)),i.client.request(\"InitiateAuth\",l,(function(a,u){if(a)return t.onFailure(a);var c=u.ChallengeParameters;i.username=c.USER_ID_FOR_SRP,n=new Xr(c.SRP_B,16),r=new Xr(c.SALT,16),i.getCachedDeviceKeyAndPassword(),o.getPasswordAuthenticationKey(i.username,e.getPassword(),n,r,(function(e,n){e&&t.onFailure(e);var r=s.getNowString(),a=Gr.a.lib.WordArray.create(mr.Buffer.concat([mr.Buffer.from(i.pool.getUserPoolId().split(\"_\")[1],\"utf8\"),mr.Buffer.from(i.username,\"utf8\"),mr.Buffer.from(c.SECRET_BLOCK,\"base64\"),mr.Buffer.from(r,\"utf8\")])),l=Gr.a.lib.WordArray.create(n),h=mi.a.stringify(Qr()(a,l)),d={};d.USERNAME=i.username,d.PASSWORD_CLAIM_SECRET_BLOCK=c.SECRET_BLOCK,d.TIMESTAMP=r,d.PASSWORD_CLAIM_SIGNATURE=h,null!=i.deviceKey&&(d.DEVICE_KEY=i.deviceKey);var p={ChallengeName:\"PASSWORD_VERIFIER\",ClientId:i.pool.getClientId(),ChallengeResponses:d,Session:u.Session,ClientMetadata:f};i.getUserContextData()&&(p.UserContextData=i.getUserContextData()),function e(t,n){return i.client.request(\"RespondToAuthChallenge\",t,(function(r,o){return r&&\"ResourceNotFoundException\"===r.code&&-1!==r.message.toLowerCase().indexOf(\"device\")?(d.DEVICE_KEY=null,i.deviceKey=null,i.randomPassword=null,i.deviceGroupKey=null,i.clearCachedDeviceKeyAndPassword(),e(t,n)):n(r,o)}))}(p,(function(e,n){return e?t.onFailure(e):i.authenticateUserInternal(n,o,t)}))}))}))}))},t.authenticateUserPlainUsernamePassword=function(e,t){var n=this,r={};if(r.USERNAME=this.username,r.PASSWORD=e.getPassword(),r.PASSWORD){var i=new hi(this.pool.getUserPoolId().split(\"_\")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(r.DEVICE_KEY=this.deviceKey);var o=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),s={AuthFlow:\"USER_PASSWORD_AUTH\",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:o};this.getUserContextData(this.username)&&(s.UserContextData=this.getUserContextData(this.username)),this.client.request(\"InitiateAuth\",s,(function(e,r){return e?t.onFailure(e):n.authenticateUserInternal(r,i,t)}))}else t.onFailure(new Error(\"PASSWORD parameter is required\"))},t.authenticateUserInternal=function(e,t,n){var r=this,i=e.ChallengeName,o=e.ChallengeParameters;if(\"SMS_MFA\"===i)return this.Session=e.Session,n.mfaRequired(i,o);if(\"SELECT_MFA_TYPE\"===i)return this.Session=e.Session,n.selectMFAType(i,o);if(\"MFA_SETUP\"===i)return this.Session=e.Session,n.mfaSetup(i,o);if(\"SOFTWARE_TOKEN_MFA\"===i)return this.Session=e.Session,n.totpRequired(i,o);if(\"CUSTOM_CHALLENGE\"===i)return this.Session=e.Session,n.customChallenge(o);if(\"NEW_PASSWORD_REQUIRED\"===i){this.Session=e.Session;var s=null,a=null,u=[],c=t.getNewPasswordRequiredChallengeUserAttributePrefix();if(o&&(s=JSON.parse(e.ChallengeParameters.userAttributes),a=JSON.parse(e.ChallengeParameters.requiredAttributes)),a)for(var f=0;f<a.length;f++)u[f]=a[f].substr(c.length);return n.newPasswordRequired(s,u)}if(\"DEVICE_SRP_AUTH\"!==i){this.signInUserSession=this.getCognitoUserSession(e.AuthenticationResult),this.challengeName=i,this.cacheTokens();var l=e.AuthenticationResult.NewDeviceMetadata;if(null==l)return n.onSuccess(this.signInUserSession);t.generateHashDevice(e.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,e.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(i){if(i)return n.onFailure(i);var o={Salt:mr.Buffer.from(t.getSaltDevices(),\"hex\").toString(\"base64\"),PasswordVerifier:mr.Buffer.from(t.getVerifierDevices(),\"hex\").toString(\"base64\")};r.verifierDevices=o.PasswordVerifier,r.deviceGroupKey=l.DeviceGroupKey,r.randomPassword=t.getRandomPassword(),r.client.request(\"ConfirmDevice\",{DeviceKey:l.DeviceKey,AccessToken:r.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:o,DeviceName:Ti},(function(t,i){return t?n.onFailure(t):(r.deviceKey=e.AuthenticationResult.NewDeviceMetadata.DeviceKey,r.cacheDeviceKeyAndPassword(),!0===i.UserConfirmationNecessary?n.onSuccess(r.signInUserSession,i.UserConfirmationNecessary):n.onSuccess(r.signInUserSession))}))}))}else this.getDeviceResponse(n)},t.completeNewPasswordChallenge=function(e,t,n,r){var i=this;if(!e)return n.onFailure(new Error(\"New password is required.\"));var o=new hi(this.pool.getUserPoolId().split(\"_\")[1]),s=o.getNewPasswordRequiredChallengeUserAttributePrefix(),a={};t&&Object.keys(t).forEach((function(e){a[s+e]=t[e]})),a.NEW_PASSWORD=e,a.USERNAME=this.username;var u={ChallengeName:\"NEW_PASSWORD_REQUIRED\",ClientId:this.pool.getClientId(),ChallengeResponses:a,Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request(\"RespondToAuthChallenge\",u,(function(e,t){return e?n.onFailure(e):i.authenticateUserInternal(t,o,n)}))},t.getDeviceResponse=function(e,t){var n=this,r=new hi(this.deviceGroupKey),i=new Si,o={};o.USERNAME=this.username,o.DEVICE_KEY=this.deviceKey,r.getLargeAValue((function(s,a){s&&e.onFailure(s),o.SRP_A=a.toString(16);var u={ChallengeName:\"DEVICE_SRP_AUTH\",ClientId:n.pool.getClientId(),ChallengeResponses:o,ClientMetadata:t};n.getUserContextData()&&(u.UserContextData=n.getUserContextData()),n.client.request(\"RespondToAuthChallenge\",u,(function(t,o){if(t)return e.onFailure(t);var s=o.ChallengeParameters,a=new Xr(s.SRP_B,16),u=new Xr(s.SALT,16);r.getPasswordAuthenticationKey(n.deviceKey,n.randomPassword,a,u,(function(t,r){if(t)return e.onFailure(t);var a=i.getNowString(),u=Gr.a.lib.WordArray.create(mr.Buffer.concat([mr.Buffer.from(n.deviceGroupKey,\"utf8\"),mr.Buffer.from(n.deviceKey,\"utf8\"),mr.Buffer.from(s.SECRET_BLOCK,\"base64\"),mr.Buffer.from(a,\"utf8\")])),c=Gr.a.lib.WordArray.create(r),f=mi.a.stringify(Qr()(u,c)),l={};l.USERNAME=n.username,l.PASSWORD_CLAIM_SECRET_BLOCK=s.SECRET_BLOCK,l.TIMESTAMP=a,l.PASSWORD_CLAIM_SIGNATURE=f,l.DEVICE_KEY=n.deviceKey;var h={ChallengeName:\"DEVICE_PASSWORD_VERIFIER\",ClientId:n.pool.getClientId(),ChallengeResponses:l,Session:o.Session};n.getUserContextData()&&(h.UserContextData=n.getUserContextData()),n.client.request(\"RespondToAuthChallenge\",h,(function(t,r){return t?e.onFailure(t):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),e.onSuccess(n.signInUserSession))}))}))}))}))},t.confirmRegistration=function(e,t,n,r){var i={ClientId:this.pool.getClientId(),ConfirmationCode:e,Username:this.username,ForceAliasCreation:t,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request(\"ConfirmSignUp\",i,(function(e){return e?n(e,null):n(null,\"SUCCESS\")}))},t.sendCustomChallengeAnswer=function(e,t,n){var r=this,i={};i.USERNAME=this.username,i.ANSWER=e;var o=new hi(this.pool.getUserPoolId().split(\"_\")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(i.DEVICE_KEY=this.deviceKey);var s={ChallengeName:\"CUSTOM_CHALLENGE\",ChallengeResponses:i,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:n};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request(\"RespondToAuthChallenge\",s,(function(e,n){return e?t.onFailure(e):r.authenticateUserInternal(n,o,t)}))},t.sendMFACode=function(e,t,n,r){var i=this,o={};o.USERNAME=this.username,o.SMS_MFA_CODE=e;var s=n||\"SMS_MFA\";\"SOFTWARE_TOKEN_MFA\"===s&&(o.SOFTWARE_TOKEN_MFA_CODE=e),null!=this.deviceKey&&(o.DEVICE_KEY=this.deviceKey);var a={ChallengeName:s,ChallengeResponses:o,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request(\"RespondToAuthChallenge\",a,(function(e,n){if(e)return t.onFailure(e);if(\"DEVICE_SRP_AUTH\"!==n.ChallengeName){if(i.signInUserSession=i.getCognitoUserSession(n.AuthenticationResult),i.cacheTokens(),null==n.AuthenticationResult.NewDeviceMetadata)return t.onSuccess(i.signInUserSession);var r=new hi(i.pool.getUserPoolId().split(\"_\")[1]);r.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(e){if(e)return t.onFailure(e);var o={Salt:mr.Buffer.from(r.getSaltDevices(),\"hex\").toString(\"base64\"),PasswordVerifier:mr.Buffer.from(r.getVerifierDevices(),\"hex\").toString(\"base64\")};i.verifierDevices=o.PasswordVerifier,i.deviceGroupKey=n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,i.randomPassword=r.getRandomPassword(),i.client.request(\"ConfirmDevice\",{DeviceKey:n.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:i.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:o,DeviceName:Ti},(function(e,r){return e?t.onFailure(e):(i.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,i.cacheDeviceKeyAndPassword(),!0===r.UserConfirmationNecessary?t.onSuccess(i.signInUserSession,r.UserConfirmationNecessary):t.onSuccess(i.signInUserSession))}))}))}else i.getDeviceResponse(t)}))},t.changePassword=function(e,t,n,r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error(\"User is not authenticated\"),null);this.client.request(\"ChangePassword\",{PreviousPassword:e,ProposedPassword:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:r},(function(e){return e?n(e,null):n(null,\"SUCCESS\")}))},t.enableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error(\"User is not authenticated\"),null);var t=[];t.push({DeliveryMedium:\"SMS\",AttributeName:\"phone_number\"}),this.client.request(\"SetUserSettings\",{MFAOptions:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,\"SUCCESS\")}))},t.setUserMfaPreference=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error(\"User is not authenticated\"),null);this.client.request(\"SetUserMFAPreference\",{SMSMfaSettings:e,SoftwareTokenMfaSettings:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n(e,null):n(null,\"SUCCESS\")}))},t.disableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error(\"User is not authenticated\"),null);this.client.request(\"SetUserSettings\",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,\"SUCCESS\")}))},t.deleteUser=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error(\"User is not authenticated\"),null);this.client.request(\"DeleteUser\",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:t},(function(t){return t?e(t,null):(n.clearCachedUser(),e(null,\"SUCCESS\"))}))},t.updateAttributes=function(e,t,n){var r=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error(\"User is not authenticated\"),null);this.client.request(\"UpdateUserAttributes\",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:e,ClientMetadata:n},(function(e){return e?t(e,null):r.getUserData((function(){return t(null,\"SUCCESS\")}),{bypassCache:!0})}))},t.getUserAttributes=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error(\"User is not authenticated\"),null);this.client.request(\"GetUser\",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){if(t)return e(t,null);for(var r=[],i=0;i<n.UserAttributes.length;i++){var o={Name:n.UserAttributes[i].Name,Value:n.UserAttributes[i].Value},s=new Ei(o);r.push(s)}return e(null,r)}))},t.getMFAOptions=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error(\"User is not authenticated\"),null);this.client.request(\"GetUser\",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e(t,null):e(null,n.MFAOptions)}))},t.createGetUserRequest=function(){return this.client.promisifyRequest(\"GetUser\",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},t.refreshSessionIfPossible=function(){var e=this;return new Promise((function(t){var n=e.signInUserSession.getRefreshToken();n&&n.getToken()?e.refreshSession(n,t):t()}))},t.getUserData=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return this.clearCachedUserData(),e(new Error(\"User is not authenticated\"),null);var r=this.getUserDataFromCache();if(r)if(this.isFetchUserDataAndTokenRequired(t))this.fetchUserData().then((function(e){return n.refreshSessionIfPossible().then((function(){return e}))})).then((function(t){return e(null,t)})).catch(e);else try{return void e(null,JSON.parse(r))}catch(i){return this.clearCachedUserData(),void e(i,null)}else this.fetchUserData().then((function(t){e(null,t)})).catch(e)},t.getUserDataFromCache=function(){return this.storage.getItem(this.userDataKey)},t.isFetchUserDataAndTokenRequired=function(e){var t=(e||{}).bypassCache;return void 0!==t&&t},t.fetchUserData=function(){var e=this;return this.createGetUserRequest().then((function(t){return e.cacheUserData(t),t}))},t.deleteAttributes=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error(\"User is not authenticated\"),null);this.client.request(\"DeleteUserAttributes\",{UserAttributeNames:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?t(e,null):t(null,\"SUCCESS\")}))},t.resendConfirmationCode=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.client.request(\"ResendConfirmationCode\",n,(function(t,n){return t?e(t,null):e(null,n)}))},t.getSession=function(e){if(null==this.username)return e(new Error(\"Username is null. Cannot retrieve a new session\"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return e(null,this.signInUserSession);var t=\"CognitoIdentityServiceProvider.\"+this.pool.getClientId()+\".\"+this.username,n=t+\".idToken\",r=t+\".accessToken\",i=t+\".refreshToken\",o=t+\".clockDrift\";if(this.storage.getItem(n)){var s=new gi({IdToken:this.storage.getItem(n)}),a=new pi({AccessToken:this.storage.getItem(r)}),u=new yi({RefreshToken:this.storage.getItem(i)}),c=parseInt(this.storage.getItem(o),0)||0,f=new bi({IdToken:s,AccessToken:a,RefreshToken:u,ClockDrift:c});if(f.isValid())return this.signInUserSession=f,e(null,this.signInUserSession);if(!u.getToken())return e(new Error(\"Cannot retrieve a new session. Please authenticate.\"),null);this.refreshSession(u,e)}else e(new Error(\"Local storage is missing an ID Token, Please authenticate\"),null)},t.refreshSession=function(e,t,n){var r=this,i={};i.REFRESH_TOKEN=e.getToken();var o=\"CognitoIdentityServiceProvider.\"+this.pool.getClientId(),s=o+\".LastAuthUser\";if(this.storage.getItem(s)){this.username=this.storage.getItem(s);var a=o+\".\"+this.username+\".deviceKey\";this.deviceKey=this.storage.getItem(a),i.DEVICE_KEY=this.deviceKey}var u={ClientId:this.pool.getClientId(),AuthFlow:\"REFRESH_TOKEN_AUTH\",AuthParameters:i,ClientMetadata:n};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request(\"InitiateAuth\",u,(function(n,i){if(n)return\"NotAuthorizedException\"===n.code&&r.clearCachedUser(),t(n,null);if(i){var o=i.AuthenticationResult;return Object.prototype.hasOwnProperty.call(o,\"RefreshToken\")||(o.RefreshToken=e.getToken()),r.signInUserSession=r.getCognitoUserSession(o),r.cacheTokens(),t(null,r.signInUserSession)}}))},t.cacheTokens=function(){var e=\"CognitoIdentityServiceProvider.\"+this.pool.getClientId(),t=e+\".\"+this.username+\".idToken\",n=e+\".\"+this.username+\".accessToken\",r=e+\".\"+this.username+\".refreshToken\",i=e+\".\"+this.username+\".clockDrift\",o=e+\".LastAuthUser\";this.storage.setItem(t,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(n,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(r,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(i,\"\"+this.signInUserSession.getClockDrift()),this.storage.setItem(o,this.username)},t.cacheUserData=function(e){this.storage.setItem(this.userDataKey,JSON.stringify(e))},t.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},t.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},t.cacheDeviceKeyAndPassword=function(){var e=\"CognitoIdentityServiceProvider.\"+this.pool.getClientId()+\".\"+this.username,t=e+\".deviceKey\",n=e+\".randomPasswordKey\",r=e+\".deviceGroupKey\";this.storage.setItem(t,this.deviceKey),this.storage.setItem(n,this.randomPassword),this.storage.setItem(r,this.deviceGroupKey)},t.getCachedDeviceKeyAndPassword=function(){var e=\"CognitoIdentityServiceProvider.\"+this.pool.getClientId()+\".\"+this.username,t=e+\".deviceKey\",n=e+\".randomPasswordKey\",r=e+\".deviceGroupKey\";this.storage.getItem(t)&&(this.deviceKey=this.storage.getItem(t),this.randomPassword=this.storage.getItem(n),this.deviceGroupKey=this.storage.getItem(r))},t.clearCachedDeviceKeyAndPassword=function(){var e=\"CognitoIdentityServiceProvider.\"+this.pool.getClientId()+\".\"+this.username,t=e+\".deviceKey\",n=e+\".randomPasswordKey\",r=e+\".deviceGroupKey\";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r)},t.clearCachedTokens=function(){var e=\"CognitoIdentityServiceProvider.\"+this.pool.getClientId(),t=e+\".\"+this.username+\".idToken\",n=e+\".\"+this.username+\".accessToken\",r=e+\".\"+this.username+\".refreshToken\",i=e+\".LastAuthUser\",o=e+\".\"+this.username+\".clockDrift\";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r),this.storage.removeItem(i),this.storage.removeItem(o)},t.getCognitoUserSession=function(e){var t=new gi(e),n=new pi(e),r=new yi(e);return new bi({IdToken:t,AccessToken:n,RefreshToken:r})},t.forgotPassword=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.getUserContextData()&&(n.UserContextData=this.getUserContextData()),this.client.request(\"ForgotPassword\",n,(function(t,n){return t?e.onFailure(t):\"function\"===typeof e.inputVerificationCode?e.inputVerificationCode(n):e.onSuccess(n)}))},t.confirmPassword=function(e,t,n,r){var i={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:e,Password:t,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request(\"ConfirmForgotPassword\",i,(function(e){return e?n.onFailure(e):n.onSuccess()}))},t.getAttributeVerificationCode=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error(\"User is not authenticated\"));this.client.request(\"GetUserAttributeVerificationCode\",{AttributeName:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:n},(function(e,n){return e?t.onFailure(e):\"function\"===typeof t.inputVerificationCode?t.inputVerificationCode(n):t.onSuccess()}))},t.verifyAttribute=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error(\"User is not authenticated\"));this.client.request(\"VerifyUserAttribute\",{AttributeName:e,Code:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n.onFailure(e):n.onSuccess(\"SUCCESS\")}))},t.getDevice=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error(\"User is not authenticated\"));this.client.request(\"GetDevice\",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},(function(t,n){return t?e.onFailure(t):e.onSuccess(n)}))},t.forgetSpecificDevice=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error(\"User is not authenticated\"));this.client.request(\"ForgetDevice\",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:e},(function(e){return e?t.onFailure(e):t.onSuccess(\"SUCCESS\")}))},t.forgetDevice=function(e){var t=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:e.onFailure,onSuccess:function(n){return t.deviceKey=null,t.deviceGroupKey=null,t.randomPassword=null,t.clearCachedDeviceKeyAndPassword(),e.onSuccess(n)}})},t.setDeviceStatusRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error(\"User is not authenticated\"));this.client.request(\"UpdateDeviceStatus\",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:\"remembered\"},(function(t){return t?e.onFailure(t):e.onSuccess(\"SUCCESS\")}))},t.setDeviceStatusNotRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error(\"User is not authenticated\"));this.client.request(\"UpdateDeviceStatus\",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:\"not_remembered\"},(function(t){return t?e.onFailure(t):e.onSuccess(\"SUCCESS\")}))},t.listDevices=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error(\"User is not authenticated\"));var r={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:e};t&&(r.PaginationToken=t),this.client.request(\"ListDevices\",r,(function(e,t){return e?n.onFailure(e):n.onSuccess(t)}))},t.globalSignOut=function(e){var t=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error(\"User is not authenticated\"));this.client.request(\"GlobalSignOut\",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(n){return n?e.onFailure(n):(t.clearCachedUser(),e.onSuccess(\"SUCCESS\"))}))},t.signOut=function(){this.signInUserSession=null,this.clearCachedUser()},t.sendMFASelectionAnswer=function(e,t){var n=this,r={};r.USERNAME=this.username,r.ANSWER=e;var i={ChallengeName:\"SELECT_MFA_TYPE\",ChallengeResponses:r,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request(\"RespondToAuthChallenge\",i,(function(r,i){return r?t.onFailure(r):(n.Session=i.Session,\"SMS_MFA\"===e?t.mfaRequired(i.challengeName,i.challengeParameters):\"SOFTWARE_TOKEN_MFA\"===e?t.totpRequired(i.challengeName,i.challengeParameters):void 0)}))},t.getUserContextData=function(){return this.pool.getUserContextData(this.username)},t.associateSoftwareToken=function(e){var t=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request(\"AssociateSoftwareToken\",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e.onFailure(t):e.associateSecretCode(n.SecretCode)})):this.client.request(\"AssociateSoftwareToken\",{Session:this.Session},(function(n,r){return n?e.onFailure(n):(t.Session=r.Session,e.associateSecretCode(r.SecretCode))}))},t.verifySoftwareToken=function(e,t,n){var r=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request(\"VerifySoftwareToken\",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:e,FriendlyDeviceName:t},(function(e,t){return e?n.onFailure(e):n.onSuccess(t)})):this.client.request(\"VerifySoftwareToken\",{Session:this.Session,UserCode:e,FriendlyDeviceName:t},(function(e,t){if(e)return n.onFailure(e);r.Session=t.Session;var i={};i.USERNAME=r.username;var o={ChallengeName:\"MFA_SETUP\",ClientId:r.pool.getClientId(),ChallengeResponses:i,Session:r.Session};r.getUserContextData()&&(o.UserContextData=r.getUserContextData()),r.client.request(\"RespondToAuthChallenge\",o,(function(e,t){return e?n.onFailure(e):(r.signInUserSession=r.getCognitoUserSession(t.AuthenticationResult),r.cacheTokens(),n.onSuccess(r.signInUserSession))}))}))},e}();function Pi(){}Pi.prototype.userAgent=\"aws-amplify/0.1.x js\";var ki=Pi;function Ni(e){var t=\"function\"===typeof Map?new Map:void 0;return(Ni=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf(\"[native code]\")))return e;var n;if(\"function\"!==typeof e)throw new TypeError(\"Super expression must either be null or a function\");if(\"undefined\"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Ui(e,arguments,Di(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Ri(r,e)})(e)}function Ui(e,t,n){return(Ui=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Ri(i,n.prototype),i}).apply(null,arguments)}function Ri(e,t){return(Ri=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Di(e){return(Di=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xi,Mi=function(e){var t,n;function r(t,n,r,i){var o;return(o=e.call(this,t)||this).code=n,o.name=r,o.statusCode=i,o}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(Ni(Error)),ji=function(){function e(e,t,n){this.endpoint=t||\"https://cognito-idp.\"+e+\".amazonaws.com/\";var r=(n||{}).credentials;this.fetchOptions=r?{credentials:r}:{}}var t=e.prototype;return t.promisifyRequest=function(e,t){var n=this;return new Promise((function(r,i){n.request(e,t,(function(e,t){e?i(new Mi(e.message,e.code,e.name,e.statusCode)):r(t)}))}))},t.request=function(e,t,n){var r,i={\"Content-Type\":\"application/x-amz-json-1.1\",\"X-Amz-Target\":\"AWSCognitoIdentityProviderService.\"+e,\"X-Amz-User-Agent\":ki.prototype.userAgent},o=Object.assign({},this.fetchOptions,{headers:i,method:\"POST\",mode:\"cors\",cache:\"no-cache\",body:JSON.stringify(t)});fetch(this.endpoint,o).then((function(e){return r=e,e}),(function(e){if(e instanceof TypeError)throw new Error(\"Network error\");throw e})).then((function(e){return e.json().catch((function(){return{}}))})).then((function(e){if(r.ok)return n(null,e);e;var t=(e.__type||e.code).split(\"#\").pop(),i={code:t,name:t,message:e.message||e.Message||null};return n(i)})).catch((function(e){if(!(r&&r.headers&&r.headers.get(\"x-amzn-errortype\"))){if(e instanceof Error&&\"Network error\"===e.message){var t={code:\"NetworkError\",name:e.name,message:e.message};return n(t)}return n(e)}try{var i=r.headers.get(\"x-amzn-errortype\").split(\":\")[0],o={code:i,name:i,statusCode:r.status,message:r.status?r.status.toString():null};return n(o)}catch(s){return n(e)}}))},e}(),Fi=function(){function e(e){var t=e||{},n=t.UserPoolId,r=t.ClientId,i=t.endpoint,o=t.fetchOptions,s=t.AdvancedSecurityDataCollectionFlag;if(!n||!r)throw new Error(\"Both UserPoolId and ClientId are required.\");if(!/^[\\w-]+_.+$/.test(n))throw new Error(\"Invalid UserPoolId format.\");var a=n.split(\"_\")[0];this.userPoolId=n,this.clientId=r,this.client=new ji(a,i,o),this.advancedSecurityDataCollectionFlag=!1!==s,this.storage=e.Storage||(new Oi).getStorage()}var t=e.prototype;return t.getUserPoolId=function(){return this.userPoolId},t.getClientId=function(){return this.clientId},t.signUp=function(e,t,n,r,i,o){var s=this,a={ClientId:this.clientId,Username:e,Password:t,UserAttributes:n,ValidationData:r,ClientMetadata:o};this.getUserContextData(e)&&(a.UserContextData=this.getUserContextData(e)),this.client.request(\"SignUp\",a,(function(t,n){if(t)return i(t,null);var r={Username:e,Pool:s,Storage:s.storage},o={user:new Ci(r),userConfirmed:n.UserConfirmed,userSub:n.UserSub,codeDeliveryDetails:n.CodeDeliveryDetails};return i(null,o)}))},t.getCurrentUser=function(){var e=\"CognitoIdentityServiceProvider.\"+this.clientId+\".LastAuthUser\",t=this.storage.getItem(e);if(t){var n={Username:t,Pool:this,Storage:this.storage};return new Ci(n)}return null},t.getUserContextData=function(e){if(\"undefined\"!==typeof AmazonCognitoAdvancedSecurityData){var t=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var n=t.getData(e,this.userPoolId,this.clientId);if(n)return{EncodedData:n}}return{}}},e}(),Li=n(\"p46w\"),Bi=function(){function e(e){if(!e.domain)throw new Error(\"The domain of cookieStorage can not be undefined.\");this.domain=e.domain,e.path?this.path=e.path:this.path=\"/\",Object.prototype.hasOwnProperty.call(e,\"expires\")?this.expires=e.expires:this.expires=365,Object.prototype.hasOwnProperty.call(e,\"secure\")?this.secure=e.secure:this.secure=!0}var t=e.prototype;return t.setItem=function(e,t){return Li.set(e,t,{path:this.path,expires:this.expires,domain:this.domain,secure:this.secure}),Li.get(e)},t.getItem=function(e){return Li.get(e)},t.removeItem=function(e){return Li.remove(e,{path:this.path,domain:this.domain,secure:this.secure})},t.clear=function(){var e,t=Li.get();for(e=0;e<t.length;++e)Li.remove(t[e]);return{}},e}(),qi=function(e){var t=window.open(e,\"_self\");return t?Promise.resolve(t):Promise.reject()},Vi=function(){return(Vi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Hi=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Ki=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},zi=function(e,t){var n=\"function\"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},Gi=\"undefined\"!==typeof Symbol&&\"function\"===typeof Symbol.for?Symbol.for(\"amplify_default\"):\"@@amplify_default\",Yi=function(e,t,n){Ar.dispatch(\"auth\",{event:e,data:t,message:n},\"Auth\",Gi)},Wi=new g(\"OAuth\"),Ji=function(){function e(e){var t=e.config,n=e.cognitoClientId,r=e.scopes,i=void 0===r?[]:r;if(this._urlOpener=t.urlOpener||qi,this._config=t,this._cognitoClientId=n,!this.isValidScopes(i))throw Error(\"scopes must be a String Array\");this._scopes=i}return e.prototype.isValidScopes=function(e){return Array.isArray(e)&&e.every((function(e){return\"string\"===typeof e}))},e.prototype.oauthSignIn=function(e,t,n,r,i,o){void 0===e&&(e=\"code\"),void 0===i&&(i=Pr.Cognito);var s=this._generateState(32),a=o?s+\"-\"+o:s;!function(e){window.sessionStorage.setItem(\"oauth_state\",e)}(encodeURIComponent(a));var u,c=this._generateRandom(128);u=c,window.sessionStorage.setItem(\"ouath_pkce_key\",u);var f=this._generateChallenge(c),l=this._scopes.join(\" \"),h=\"https://\"+t+\"/oauth2/authorize?\"+Object.entries(Vi(Vi({redirect_uri:n,response_type:e,client_id:r,identity_provider:i,scope:l,state:a},\"code\"===e?{code_challenge:f}:{}),\"code\"===e?{code_challenge_method:\"S256\"}:{})).map((function(e){var t=zi(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+\"=\"+encodeURIComponent(r)})).join(\"&\");Wi.debug(\"Redirecting to \"+h),this._urlOpener(h,n)},e.prototype._handleCodeFlow=function(e){return Hi(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,u,c,f,l,h;return Ki(this,(function(d){switch(d.label){case 0:return(t=(Object(Me.parse)(e).query||\"\").split(\"&\").map((function(e){return e.split(\"=\")})).reduce((function(e,t){var n,r=zi(t,2),i=r[0],o=r[1];return Vi(Vi({},e),((n={})[i]=o,n))}),{code:void 0}).code)?(n=\"https://\"+this._config.domain+\"/oauth2/token\",Yi(\"codeFlow\",{},\"Retrieving tokens from \"+n),r=Lr(this._config)?this._cognitoClientId:this._config.clientID,i=Lr(this._config)?this._config.redirectSignIn:this._config.redirectUri,o=function(){var e=window.sessionStorage.getItem(\"ouath_pkce_key\");return window.sessionStorage.removeItem(\"ouath_pkce_key\"),e}(),s=Vi({grant_type:\"authorization_code\",code:t,client_id:r,redirect_uri:i},o?{code_verifier:o}:{}),Wi.debug(\"Calling token endpoint: \"+n+\" with\",s),a=Object.entries(s).map((function(e){var t=zi(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+\"=\"+encodeURIComponent(r)})).join(\"&\"),[4,fetch(n,{method:\"POST\",headers:{\"Content-Type\":\"application/x-www-form-urlencoded\"},body:a})]):[2];case 1:return[4,d.sent().json()];case 2:if(u=d.sent(),c=u.access_token,f=u.refresh_token,l=u.id_token,h=u.error)throw new Error(h);return[2,{accessToken:c,refreshToken:f,idToken:l}]}}))}))},e.prototype._handleImplicitFlow=function(e){return Hi(this,void 0,void 0,(function(){var t,n,r;return Ki(this,(function(i){return t=Object(Me.parse)(e).hash.substr(1).split(\"&\").map((function(e){return e.split(\"=\")})).reduce((function(e,t){var n,r=zi(t,2),i=r[0],o=r[1];return Vi(Vi({},e),((n={})[i]=o,n))}),{id_token:void 0,access_token:void 0}),n=t.id_token,r=t.access_token,Yi(\"implicitFlow\",{},\"Got tokens from \"+e),Wi.debug(\"Retrieving implicit tokens from \"+e+\" with\"),[2,{accessToken:r,idToken:n,refreshToken:null}]}))}))},e.prototype.handleAuthResponse=function(e){return Hi(this,void 0,void 0,(function(){var t,n,r,i,o,s,a;return Ki(this,(function(u){switch(u.label){case 0:if(u.trys.push([0,5,,6]),t=e?Vi(Vi({},(Object(Me.parse)(e).hash||\"#\").substr(1).split(\"&\").map((function(e){return e.split(\"=\")})).reduce((function(e,t){var n=zi(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})),(Object(Me.parse)(e).query||\"\").split(\"&\").map((function(e){return e.split(\"=\")})).reduce((function(e,t){var n=zi(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})):{},n=t.error,r=t.error_description,n)throw new Error(r);return i=this._validateState(t),Wi.debug(\"Starting \"+this._config.responseType+\" flow with \"+e),\"code\"!==this._config.responseType?[3,2]:(o=[{}],[4,this._handleCodeFlow(e)]);case 1:return[2,Vi.apply(void 0,[Vi.apply(void 0,o.concat([u.sent()])),{state:i}])];case 2:return s=[{}],[4,this._handleImplicitFlow(e)];case 3:return[2,Vi.apply(void 0,[Vi.apply(void 0,s.concat([u.sent()])),{state:i}])];case 4:return[3,6];case 5:throw a=u.sent(),Wi.error(\"Error handling auth response.\",a),a;case 6:return[2]}}))}))},e.prototype._validateState=function(e){if(e){var t=function(){var e=window.sessionStorage.getItem(\"oauth_state\");return window.sessionStorage.removeItem(\"oauth_state\"),e}(),n=e.state;if(t&&t!==n)throw new Error(\"Invalid state in OAuth flow\");return n}},e.prototype.signOut=function(){return Hi(this,void 0,void 0,(function(){var e,t,n;return Ki(this,(function(r){return e=\"https://\"+this._config.domain+\"/logout?\",t=Lr(this._config)?this._cognitoClientId:this._config.oauth.clientID,n=Lr(this._config)?this._config.redirectSignOut:this._config.returnTo,e+=Object.entries({client_id:t,logout_uri:encodeURIComponent(n)}).map((function(e){var t=zi(e,2);return t[0]+\"=\"+t[1]})).join(\"&\"),Yi(\"oAuthSignOut\",{oAuth:\"signOut\"},\"Signing out from \"+e),Wi.debug(\"Signing out from \"+e),[2,this._urlOpener(e)]}))}))},e.prototype._generateState=function(e){for(var t=\"\",n=e,r=\"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\";n>0;--n)t+=r[Math.round(Math.random()*(r.length-1))];return t},e.prototype._generateChallenge=function(e){return this._base64URL(Wr()(e))},e.prototype._base64URL=function(e){return e.toString(mi.a).replace(/=/g,\"\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\")},e.prototype._generateRandom=function(e){var t=new Uint8Array(e);if(\"undefined\"!==typeof window&&window.crypto)window.crypto.getRandomValues(t);else for(var n=0;n<e;n+=1)t[n]=Math.random()*\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~\".length|0;return this._bufferToString(t)},e.prototype._bufferToString=function(e){for(var t=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\",n=[],r=0;r<e.byteLength;r+=1){var i=e[r]%t.length;n.push(t[i])}return n.join(\"\")},e}(),Qi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xi=new g(\"AuthError\"),Zi=function(e){function t(n){var r=this,i=eo[n],o=i.message,s=i.log;return(r=e.call(this,o)||this).constructor=t,Object.setPrototypeOf(r,t.prototype),r.name=\"AuthError\",r.log=s||o,Xi.error(r.log),r}return Qi(t,e),t}(Error),$i=function(e){function t(n){var r=e.call(this,n)||this;return r.constructor=t,Object.setPrototypeOf(r,t.prototype),r.name=\"NoUserPoolError\",r}return Qi(t,e),t}(Zi),eo={noConfig:{message:\"Authentication Error\",log:\"\\n            Error: Amplify has not been configured correctly.\\n            This error is typically caused by one of the following scenarios:\\n\\n            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point\\n                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information\\n            \\n            2. There might be multiple conflicting versions of aws-amplify or amplify packages in your node_modules.\\n                Try deleting your node_modules folder and reinstalling the dependencies with `yarn install`\\n        \"},missingAuthConfig:{message:\"Authentication Error\",log:\"\\n            Error: Amplify has not been configured correctly. \\n            The configuration object is missing required auth properties. \\n            Did you run `amplify push` after adding auth via `amplify add auth`?\\n            See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information\\n        \"},emptyUsername:{message:\"Username cannot be empty\"},invalidUsername:{message:\"The username should either be a string or one of the sign in types\"},emptyPassword:{message:\"Password cannot be empty\"},emptyCode:{message:\"Confirmation code cannot be empty\"},signUpError:{message:\"Error creating account\",log:\"The first parameter should either be non-null string or object\"},noMFA:{message:\"No valid MFA method provided\"},invalidMFA:{message:\"Invalid MFA type\"},emptyChallengeResponse:{message:\"Challenge response cannot be empty\"},noUserSession:{message:\"Failed to get the session because the user is empty\"},default:{message:\"Authentication Error\"}},to=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},no=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},ro=function(e,t){var n=\"function\"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},io=new g(\"AuthClass\"),oo=\"undefined\"!==typeof Symbol&&\"function\"===typeof Symbol.for?Symbol.for(\"amplify_default\"):\"@@amplify_default\",so=function(e,t,n){Ar.dispatch(\"auth\",{event:e,data:t,message:n},\"Auth\",oo)};!function(e){e.Cognito=\"COGNITO\",e.Google=\"Google\",e.Facebook=\"Facebook\",e.Amazon=\"LoginWithAmazon\"}(xi||(xi={}));var ao,uo,co,fo=new(function(){function e(e){var t=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.configure(e),this.currentUserCredentials=this.currentUserCredentials.bind(this),Ar.listen(\"auth\",(function(e){switch(e.payload.event){case\"signIn\":t._storage.setItem(\"amplify-signin-with-hostedUI\",\"false\");break;case\"signOut\":t._storage.removeItem(\"amplify-signin-with-hostedUI\");break;case\"cognitoHostedUI\":t._storage.setItem(\"amplify-signin-with-hostedUI\",\"true\")}})),K.register(this)}return e.prototype.getModuleName=function(){return\"Auth\"},e.prototype.configure=function(e){var t=this;if(!e)return this._config||{};io.debug(\"configure Auth\");var n=Object.assign({},this._config,Hr.parseMobilehubConfig(e).Auth,e);this._config=n;var r=this._config,i=r.userPoolId,o=r.userPoolWebClientId,s=r.cookieStorage,a=r.oauth,u=r.region,c=r.identityPoolId,f=r.mandatorySignIn,l=r.refreshHandlers,h=r.identityPoolRegion,d=r.clientMetadata;if(this._config.storage){if(!this._isValidAuthStorage(this._config.storage))throw io.error(\"The storage in the Auth config is not valid!\"),new Error(\"Empty storage object\");this._storage=this._config.storage}else this._storage=s?new Bi(s):(new _).getStorage();if(this._storageSync=Promise.resolve(),\"function\"===typeof this._storage.sync&&(this._storageSync=this._storage.sync()),i){var p={UserPoolId:i,ClientId:o};p.Storage=this._storage,this.userPool=new Fi(p)}Ne.configure({mandatorySignIn:f,region:h||u,userPoolId:i,identityPoolId:c,refreshHandlers:l,storage:this._storage});var g=a?Lr(this._config.oauth)?a:a.awsCognito:void 0;if(g){var y=Object.assign({cognitoClientId:o,UserPoolId:i,domain:g.domain,scopes:g.scope,redirectSignIn:g.redirectSignIn,redirectSignOut:g.redirectSignOut,responseType:g.responseType,Storage:this._storage,urlOpener:g.urlOpener,clientMetadata:d},g.options);this._oAuthHandler=new Ji({scopes:y.scopes,config:y,cognitoClientId:y.cognitoClientId});var v={};!function(e){if(w.a.browserOrNode().isBrowser&&window.location)e({url:window.location.href});else if(!w.a.browserOrNode().isNode)throw new Error(\"Not supported\")}((function(e){var n=e.url;v[n]||(v[n]=!0,t._handleAuthResponse(n))}))}return so(\"configured\",null,\"The Auth category has been configured successfully\"),this._config},e.prototype.signUp=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!this.userPool)return this.rejectNoUserPool();var i,o=null,s=null,a=[],u=null;if(e&&\"string\"===typeof e){o=e,s=n?n[0]:null;var c=n?n[1]:null,f=n?n[2]:null;c&&a.push({Name:\"email\",Value:c}),f&&a.push({Name:\"phone_number\",Value:f})}else{if(!e||\"object\"!==typeof e)return this.rejectAuthError(kr.SignUpError);o=e.username,s=e.password,e&&e.clientMetadata?i=e.clientMetadata:this._config.clientMetadata&&(i=this._config.clientMetadata);var l=e.attributes;l&&Object.keys(l).map((function(e){var t={Name:e,Value:l[e]};a.push(t)})),u=e.validationData||null}return o?s?(io.debug(\"signUp attrs:\",a),io.debug(\"signUp validation data:\",u),new Promise((function(e,n){t.userPool.signUp(o,s,a,u,(function(t,r){t?(so(\"signUp_failure\",t,o+\" failed to signup\"),n(t)):(so(\"signUp\",r,o+\" has signed up successfully\"),e(r))}),i)}))):this.rejectAuthError(kr.EmptyPassword):this.rejectAuthError(kr.EmptyUsername)},e.prototype.confirmSignUp=function(e,t,n){if(!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(kr.EmptyUsername);if(!t)return this.rejectAuthError(kr.EmptyCode);var r,i=this.createCognitoUser(e),o=!n||\"boolean\"!==typeof n.forceAliasCreation||n.forceAliasCreation;return n&&n.clientMetadata?r=n.clientMetadata:this._config.clientMetadata&&(r=this._config.clientMetadata),new Promise((function(e,n){i.confirmRegistration(t,o,(function(t,r){t?n(t):e(r)}),r)}))},e.prototype.resendSignUp=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(kr.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(e,r){n.resendConfirmationCode((function(t,n){t?r(t):e(n)}),t)}))},e.prototype.signIn=function(e,t,n){if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var r=null,i=null,o={};if(\"string\"===typeof e)r=e,i=t;else{if(!e.username)return this.rejectAuthError(kr.InvalidUsername);\"undefined\"!==typeof t&&io.warn(\"The password should be defined under the first parameter object!\"),r=e.username,i=e.password,o=e.validationData}if(!r)return this.rejectAuthError(kr.EmptyUsername);var s=new Kr({Username:r,Password:i,ValidationData:o,ClientMetadata:n});return i?this.signInWithPassword(s):this.signInWithoutPassword(s)},e.prototype.authCallbacks=function(e,t,n){var r=this,i=this;return{onSuccess:function(o){return to(r,void 0,void 0,(function(){var r,s,a,u;return no(this,(function(c){switch(c.label){case 0:io.debug(o),delete e.challengeName,delete e.challengeParam,c.label=1;case 1:return c.trys.push([1,4,5,9]),[4,Ne.clear()];case 2:return c.sent(),[4,Ne.set(o,\"session\")];case 3:return r=c.sent(),io.debug(\"succeed to get cognito credentials\",r),[3,9];case 4:return s=c.sent(),io.debug(\"cannot get cognito credentials\",s),[3,9];case 5:return c.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return a=c.sent(),i.user=a,so(\"signIn\",a,\"A user \"+e.getUsername()+\" has been signed in\"),t(a),[3,8];case 7:return u=c.sent(),io.error(\"Failed to get the signed in user\",u),n(u),[3,8];case 8:return[7];case 9:return[2]}}))}))},onFailure:function(t){io.debug(\"signIn failure\",t),so(\"signIn_failure\",t,e.getUsername()+\" failed to signin\"),n(t)},customChallenge:function(n){io.debug(\"signIn custom challenge answer required\"),e.challengeName=\"CUSTOM_CHALLENGE\",e.challengeParam=n,t(e)},mfaRequired:function(n,r){io.debug(\"signIn MFA required\"),e.challengeName=n,e.challengeParam=r,t(e)},mfaSetup:function(n,r){io.debug(\"signIn mfa setup\",n),e.challengeName=n,e.challengeParam=r,t(e)},newPasswordRequired:function(n,r){io.debug(\"signIn new password\"),e.challengeName=\"NEW_PASSWORD_REQUIRED\",e.challengeParam={userAttributes:n,requiredAttributes:r},t(e)},totpRequired:function(n,r){io.debug(\"signIn totpRequired\"),e.challengeName=n,e.challengeParam=r,t(e)},selectMFAType:function(n,r){io.debug(\"signIn selectMFAType\",n),e.challengeName=n,e.challengeParam=r,t(e)}}},e.prototype.signInWithPassword=function(e){var t=this,n=this.createCognitoUser(e.getUsername());return new Promise((function(r,i){n.authenticateUser(e,t.authCallbacks(n,r,i))}))},e.prototype.signInWithoutPassword=function(e){var t=this,n=this.createCognitoUser(e.getUsername());return n.setAuthenticationFlowType(\"CUSTOM_AUTH\"),new Promise((function(r,i){n.initiateAuth(e,t.authCallbacks(n,r,i))}))},e.prototype.getMFAOptions=function(e){return new Promise((function(t,n){e.getMFAOptions((function(e,r){if(e)return io.debug(\"get MFA Options failed\",e),void n(e);io.debug(\"get MFA options success\",r),t(r)}))}))},e.prototype.getPreferredMFA=function(e,t){var n=this;return new Promise((function(r,i){var o=!!t&&t.bypassCache;e.getUserData((function(e,t){if(e)return io.debug(\"getting preferred mfa failed\",e),void i(e);var o=n._getMfaTypeFromUserData(t);return o?void r(o):void i(\"invalid MFA Type\")}),{bypassCache:o})}))},e.prototype._getMfaTypeFromUserData=function(e){var t=null,n=e.PreferredMfaSetting;if(n)t=n;else{var r=e.UserMFASettingList;if(r)0===r.length?t=\"NOMFA\":io.debug(\"invalid case for getPreferredMFA\",e);else t=e.MFAOptions?\"SMS_MFA\":\"NOMFA\"}return t},e.prototype._getUserData=function(e,t){return new Promise((function(n,r){e.getUserData((function(e,t){return e?(io.debug(\"getting user data failed\",e),void r(e)):void n(t)}),t)}))},e.prototype.setPreferredMFA=function(e,t){return to(this,void 0,void 0,(function(){var n,r,i,o,s;return no(this,(function(a){switch(a.label){case 0:return[4,this._getUserData(e,{bypassCache:!0})];case 1:switch(n=a.sent(),r=null,i=null,t){case\"TOTP\":return[3,2];case\"SMS\":return[3,3];case\"NOMFA\":return[3,4]}return[3,6];case 2:return i={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return r={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return o=n.UserMFASettingList,[4,this._getMfaTypeFromUserData(n)];case 5:if(\"NOMFA\"===(s=a.sent()))return[2,Promise.resolve(\"No change for mfa type\")];if(\"SMS_MFA\"===s)r={PreferredMfa:!1,Enabled:!1};else{if(\"SOFTWARE_TOKEN_MFA\"!==s)return[2,this.rejectAuthError(kr.InvalidMFA)];i={PreferredMfa:!1,Enabled:!1}}return o&&0!==o.length&&o.forEach((function(e){\"SMS_MFA\"===e?r={PreferredMfa:!1,Enabled:!1}:\"SOFTWARE_TOKEN_MFA\"===e&&(i={PreferredMfa:!1,Enabled:!1})})),[3,7];case 6:return io.debug(\"no validmfa method provided\"),[2,this.rejectAuthError(kr.NoMFA)];case 7:return this,[2,new Promise((function(t,n){e.setUserMfaPreference(r,i,(function(r,i){if(r)return io.debug(\"Set user mfa preference error\",r),n(r);io.debug(\"Set user mfa success\",i),io.debug(\"Caching the latest user data into local\"),e.getUserData((function(e,r){return e?(io.debug(\"getting user data failed\",e),n(e)):t(i)}),{bypassCache:!0})}))}))]}}))}))},e.prototype.disableSMS=function(e){return new Promise((function(t,n){e.disableMFA((function(e,r){if(e)return io.debug(\"disable mfa failed\",e),void n(e);io.debug(\"disable mfa succeed\",r),t(r)}))}))},e.prototype.enableSMS=function(e){return new Promise((function(t,n){e.enableMFA((function(e,r){if(e)return io.debug(\"enable mfa failed\",e),void n(e);io.debug(\"enable mfa succeed\",r),t(r)}))}))},e.prototype.setupTOTP=function(e){return new Promise((function(t,n){e.associateSoftwareToken({onFailure:function(e){io.debug(\"associateSoftwareToken failed\",e),n(e)},associateSecretCode:function(e){io.debug(\"associateSoftwareToken sucess\",e),t(e)}})}))},e.prototype.verifyTotpToken=function(e,t){return io.debug(\"verfication totp token\",e,t),new Promise((function(n,r){e.verifySoftwareToken(t,\"My TOTP device\",{onFailure:function(e){io.debug(\"verifyTotpToken failed\",e),r(e)},onSuccess:function(e){io.debug(\"verifyTotpToken success\",e),n(e)}})}))},e.prototype.confirmSignIn=function(e,t,n,r){var i=this;if(void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(kr.EmptyCode);var o=this;return new Promise((function(s,a){e.sendMFACode(t,{onSuccess:function(t){return to(i,void 0,void 0,(function(){var n,r;return no(this,(function(i){switch(i.label){case 0:io.debug(t),i.label=1;case 1:return i.trys.push([1,4,5,6]),[4,Ne.clear()];case 2:return i.sent(),[4,Ne.set(t,\"session\")];case 3:return n=i.sent(),io.debug(\"succeed to get cognito credentials\",n),[3,6];case 4:return r=i.sent(),io.debug(\"cannot get cognito credentials\",r),[3,6];case 5:return o.user=e,so(\"signIn\",e,e+\" has signed in\"),s(e),[7];case 6:return[2]}}))}))},onFailure:function(e){io.debug(\"confirm signIn failure\",e),a(e)}},n,r)}))},e.prototype.completeNewPassword=function(e,t,n,r){var i=this;if(void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(kr.EmptyPassword);var o=this;return new Promise((function(s,a){e.completeNewPasswordChallenge(t,n,{onSuccess:function(t){return to(i,void 0,void 0,(function(){var n,r;return no(this,(function(i){switch(i.label){case 0:io.debug(t),i.label=1;case 1:return i.trys.push([1,4,5,6]),[4,Ne.clear()];case 2:return i.sent(),[4,Ne.set(t,\"session\")];case 3:return n=i.sent(),io.debug(\"succeed to get cognito credentials\",n),[3,6];case 4:return r=i.sent(),io.debug(\"cannot get cognito credentials\",r),[3,6];case 5:return o.user=e,so(\"signIn\",e,e+\" has signed in\"),s(e),[7];case 6:return[2]}}))}))},onFailure:function(e){io.debug(\"completeNewPassword failure\",e),so(\"completeNewPassword_failure\",e,i.user+\" failed to complete the new password flow\"),a(e)},mfaRequired:function(t,n){io.debug(\"signIn MFA required\"),e.challengeName=t,e.challengeParam=n,s(e)},mfaSetup:function(t,n){io.debug(\"signIn mfa setup\",t),e.challengeName=t,e.challengeParam=n,s(e)}},r)}))},e.prototype.sendCustomChallengeAnswer=function(e,t,n){var r=this;if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!t)return this.rejectAuthError(kr.EmptyChallengeResponse);return new Promise((function(i,o){e.sendCustomChallengeAnswer(t,r.authCallbacks(e,i,o),n)}))},e.prototype.updateUserAttributes=function(e,t,n){void 0===n&&(n=this._config.clientMetadata);var r=[],i=this;return new Promise((function(o,s){i.userSession(e).then((function(i){for(var a in t)if(\"sub\"!==a&&a.indexOf(\"_verified\")<0){var u={Name:a,Value:t[a]};r.push(u)}e.updateAttributes(r,(function(e,t){return e?s(e):o(t)}),n)}))}))},e.prototype.userAttributes=function(e){var t=this;return new Promise((function(n,r){t.userSession(e).then((function(t){e.getUserAttributes((function(e,t){e?r(e):n(t)}))}))}))},e.prototype.verifiedContact=function(e){var t=this;return this.userAttributes(e).then((function(e){var n=t.attributesToObject(e),r={},i={};return n.email&&(n.email_verified?i.email=n.email:r.email=n.email),n.phone_number&&(n.phone_number_verified?i.phone_number=n.phone_number:r.phone_number=n.phone_number),{verified:i,unverified:r}}))},e.prototype.currentUserPoolUser=function(e){var t=this;return this.userPool?new Promise((function(n,r){t._storageSync.then((function(){return to(t,void 0,void 0,(function(){var t,i=this;return no(this,(function(o){switch(o.label){case 0:return this.isOAuthInProgress()?(io.debug(\"OAuth signIn in progress, waiting for resolution...\"),[4,new Promise((function(e){var t=setTimeout((function(){io.debug(\"OAuth signIn in progress timeout\"),Ar.remove(\"auth\",n),e()}),1e4);function n(r){var i=r.payload.event;\"cognitoHostedUI\"!==i&&\"cognitoHostedUI_failure\"!==i||(io.debug(\"OAuth signIn resolved: \"+i),clearTimeout(t),Ar.remove(\"auth\",n),e())}Ar.listen(\"auth\",n)}))]):[3,2];case 1:o.sent(),o.label=2;case 2:return(t=this.userPool.getCurrentUser())?(t.getSession((function(o,s){if(o)return io.debug(\"Failed to get the user session\",o),void r(o);var a=!!e&&e.bypassCache,u=s.getAccessToken().decodePayload().scope;if(!(void 0===u?\"\":u).split(\" \").includes(\"aws.cognito.signin.user.admin\"))return io.debug(\"Unable to get the user data because the aws.cognito.signin.user.admin is not in the scopes of the access token\"),n(t);t.getUserData((function(e,o){if(e)return io.debug(\"getting user data failed\",e),void(\"User is disabled.\"===e.message||\"User does not exist.\"===e.message||\"Access Token has been revoked\"===e.message?r(e):n(t));for(var s=o.PreferredMfaSetting||\"NOMFA\",a=[],u=0;u<o.UserAttributes.length;u++){var c={Name:o.UserAttributes[u].Name,Value:o.UserAttributes[u].Value},f=new Ei(c);a.push(f)}var l=i.attributesToObject(a);return Object.assign(t,{attributes:l,preferredMFA:s}),n(t)}),{bypassCache:a})})),[2]):(io.debug(\"Failed to get user from user pool\"),r(\"No current user\"),[2])}}))}))})).catch((function(e){return io.debug(\"Failed to sync cache info into memory\",e),r(e)}))})):this.rejectNoUserPool()},e.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},e.prototype.currentAuthenticatedUser=function(e){return to(this,void 0,void 0,(function(){var t,n,r,i;return no(this,(function(o){switch(o.label){case 0:io.debug(\"getting current authenticated user\"),t=null,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this._storageSync];case 2:return o.sent(),[3,4];case 3:throw n=o.sent(),io.debug(\"Failed to sync cache info into memory\",n),n;case 4:try{t=JSON.parse(this._storage.getItem(\"aws-amplify-federatedInfo\")).user}catch(s){io.debug(\"cannot load federated user from auth storage\")}return t?(this.user=t,io.debug(\"get current authenticated federated user\",this.user),[2,this.user]):[3,5];case 5:io.debug(\"get current authenticated userpool user\"),r=null,o.label=6;case 6:return o.trys.push([6,8,,9]),[4,this.currentUserPoolUser(e)];case 7:return r=o.sent(),[3,9];case 8:throw\"No userPool\"===(i=o.sent())&&io.error(\"Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID\"),io.debug(\"The user is not authenticated by the error\",i),\"not authenticated\";case 9:return this.user=r,[2,this.user]}}))}))},e.prototype.currentSession=function(){var e=this;return io.debug(\"Getting current session\"),this.userPool?new Promise((function(t,n){e.currentUserPoolUser().then((function(r){e.userSession(r).then((function(e){t(e)})).catch((function(e){io.debug(\"Failed to get the current session\",e),n(e)}))})).catch((function(e){io.debug(\"Failed to get the current user\",e),n(e)}))})):Promise.reject()},e.prototype.userSession=function(e){return e?new Promise((function(t,n){io.debug(\"Getting the session from this user:\",e),e.getSession((function(r,i){return r?(io.debug(\"Failed to get the session from user\",e),void n(r)):(io.debug(\"Succeed to get the user session\",i),void t(i))}))})):(io.debug(\"the user is null\"),this.rejectAuthError(kr.NoUserSession))},e.prototype.currentUserCredentials=function(){return to(this,void 0,void 0,(function(){var e,t;return no(this,(function(n){switch(n.label){case 0:this,io.debug(\"Getting current user credentials\"),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._storageSync];case 2:return n.sent(),[3,4];case 3:throw e=n.sent(),io.debug(\"Failed to sync cache info into memory\",e),e;case 4:t=null;try{t=JSON.parse(this._storage.getItem(\"aws-amplify-federatedInfo\"))}catch(r){io.debug(\"failed to get or parse item aws-amplify-federatedInfo\",r)}return t?[2,Ne.refreshFederatedToken(t)]:[2,this.currentSession().then((function(e){return io.debug(\"getting session success\",e),Ne.set(e,\"session\")})).catch((function(e){return io.debug(\"getting session failed\",e),Ne.set(null,\"guest\")}))]}}))}))},e.prototype.currentCredentials=function(){return io.debug(\"getting current credentials\"),Ne.get()},e.prototype.verifyUserAttribute=function(e,t,n){return void 0===n&&(n=this._config.clientMetadata),new Promise((function(r,i){e.getAttributeVerificationCode(t,{onSuccess:function(){return r()},onFailure:function(e){return i(e)},clientMetadata:n})}))},e.prototype.verifyUserAttributeSubmit=function(e,t,n){return n?new Promise((function(r,i){e.verifyAttribute(t,n,{onSuccess:function(e){r(e)},onFailure:function(e){i(e)}})})):this.rejectAuthError(kr.EmptyCode)},e.prototype.verifyCurrentUserAttribute=function(e){var t=this;return t.currentUserPoolUser().then((function(n){return t.verifyUserAttribute(n,e)}))},e.prototype.verifyCurrentUserAttributeSubmit=function(e,t){var n=this;return n.currentUserPoolUser().then((function(r){return n.verifyUserAttributeSubmit(r,e,t)}))},e.prototype.cognitoIdentitySignOut=function(e,t){return to(this,void 0,void 0,(function(){var n,r,i=this;return no(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this._storageSync];case 1:return o.sent(),[3,3];case 2:throw n=o.sent(),io.debug(\"Failed to sync cache info into memory\",n),n;case 3:return r=this._oAuthHandler&&\"true\"===this._storage.getItem(\"amplify-signin-with-hostedUI\"),[2,new Promise((function(n,o){if(!e||!e.global)return io.debug(\"user sign out\",t),t.signOut(),r?n(i._oAuthHandler.signOut()):n();io.debug(\"user global sign out\",t),t.getSession((function(e,s){if(e)return io.debug(\"failed to get the user session\",e),o(e);t.globalSignOut({onSuccess:function(e){return io.debug(\"global sign out success\"),r?n(i._oAuthHandler.signOut()):n()},onFailure:function(e){return io.debug(\"global sign out failed\",e),o(e)}})}))}))]}}))}))},e.prototype.signOut=function(e){return to(this,void 0,void 0,(function(){var t;return no(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return n.sent(),[3,3];case 2:return n.sent(),io.debug(\"failed to clear cached items\"),[3,3];case 3:return this.userPool?(t=this.userPool.getCurrentUser())?[4,this.cognitoIdentitySignOut(e,t)]:[3,5]:[3,7];case 4:return n.sent(),[3,6];case 5:io.debug(\"no current Cognito user\"),n.label=6;case 6:return[3,8];case 7:io.debug(\"no Congito User pool\"),n.label=8;case 8:return so(\"signOut\",this.user,\"A user has been signed out\"),this.user=null,[2]}}))}))},e.prototype.cleanCachedItems=function(){return to(this,void 0,void 0,(function(){return no(this,(function(e){switch(e.label){case 0:return[4,Ne.clear()];case 1:return e.sent(),[2]}}))}))},e.prototype.changePassword=function(e,t,n,r){var i=this;return void 0===r&&(r=this._config.clientMetadata),new Promise((function(o,s){i.userSession(e).then((function(i){e.changePassword(t,n,(function(e,t){return e?(io.debug(\"change password failure\",e),s(e)):o(t)}),r)}))}))},e.prototype.forgotPassword=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(kr.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(r,i){n.forgotPassword({onSuccess:function(){r()},onFailure:function(t){io.debug(\"forgot password failure\",t),so(\"forgotPassword_failure\",t,e+\" forgotPassword failed\"),i(t)},inputVerificationCode:function(t){so(\"forgotPassword\",n,e+\" has initiated forgot password flow\"),r(t)}},t)}))},e.prototype.forgotPasswordSubmit=function(e,t,n,r){if(void 0===r&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(kr.EmptyUsername);if(!t)return this.rejectAuthError(kr.EmptyCode);if(!n)return this.rejectAuthError(kr.EmptyPassword);var i=this.createCognitoUser(e);return new Promise((function(o,s){i.confirmPassword(t,n,{onSuccess:function(){so(\"forgotPasswordSubmit\",i,e+\" forgotPasswordSubmit successful\"),o()},onFailure:function(t){so(\"forgotPasswordSubmit_failure\",t,e+\" forgotPasswordSubmit failed\"),s(t)}},r)}))},e.prototype.currentUserInfo=function(){return to(this,void 0,void 0,(function(){var e,t,n,r,i,o,s;return no(this,(function(a){switch(a.label){case 0:return(e=Ne.getCredSource())&&\"aws\"!==e&&\"userPool\"!==e?[3,9]:[4,this.currentUserPoolUser().catch((function(e){return io.debug(e)}))];case 1:if(!(s=a.sent()))return[2,null];a.label=2;case 2:return a.trys.push([2,8,,9]),[4,this.userAttributes(s)];case 3:t=a.sent(),n=this.attributesToObject(t),r=null,a.label=4;case 4:return a.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return r=a.sent(),[3,7];case 6:return i=a.sent(),io.debug(\"Failed to retrieve credentials while getting current user info\",i),[3,7];case 7:return[2,{id:r?r.identityId:void 0,username:s.getUsername(),attributes:n}];case 8:return o=a.sent(),io.debug(\"currentUserInfo error\",o),[2,{}];case 9:return\"federated\"===e?[2,(s=this.user)||{}]:[2]}}))}))},e.prototype.federatedSignIn=function(e,t,n){return to(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,f,l,h,d;return no(this,(function(p){switch(p.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error(\"Federation requires either a User Pool or Identity Pool in config\");if(\"undefined\"===typeof e&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error(\"Federation with Identity Pools requires tokens passed as arguments\");return Fr(e)||(g=e)&&[\"customProvider\",\"customState\"].find((function(e){return g.hasOwnProperty(e)}))||\"undefined\"===typeof e?(r=e||{provider:xi.Cognito},a=Fr(r)?r.provider:r.customProvider,Fr(r),i=r.customState,this._config.userPoolId&&(o=Lr(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,s=Lr(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,s,o,a,i)),[3,4]):[3,1];case 1:a=e;try{(u=JSON.stringify(JSON.parse(this._storage.getItem(\"aws-amplify-federatedInfo\")).user))&&io.warn(\"There is already a signed in user: \"+u+\" in your app.\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tYou should not call Auth.federatedSignIn method again as it may cause unexpected behavior.\")}catch(y){}return c=t.token,f=t.identity_id,l=t.expires_at,[4,Ne.set({provider:a,token:c,identity_id:f,user:n,expires_at:l},\"federation\")];case 2:return h=p.sent(),[4,this.currentAuthenticatedUser()];case 3:return d=p.sent(),so(\"signIn\",d,\"A user \"+d.username+\" has been signed in\"),io.debug(\"federated sign in credentials\",h),[2,h];case 4:return[2]}var g}))}))},e.prototype._handleAuthResponse=function(e){return to(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,u,c,f,l,h,d,p;return no(this,(function(g){switch(g.label){case 0:if(this.oAuthFlowInProgress)return io.debug(\"Skipping URL \"+e+\" current flow in progress\"),[2];g.label=1;case 1:if(g.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw new Error(\"OAuth responses require a User Pool defined in config\");if(so(\"parsingCallbackUrl\",{url:e},\"The callback url is being parsed\"),t=e||(w.a.browserOrNode().isBrowser?window.location.href:\"\"),n=!!(Object(Me.parse)(t).query||\"\").split(\"&\").map((function(e){return e.split(\"=\")})).find((function(e){var t=ro(e,1)[0];return\"code\"===t||\"error\"===t})),r=!!(Object(Me.parse)(t).hash||\"#\").substr(1).split(\"&\").map((function(e){return e.split(\"=\")})).find((function(e){var t=ro(e,1)[0];return\"access_token\"===t||\"error\"===t})),!n&&!r)return[3,7];this._storage.setItem(\"amplify-redirected-from-hosted-ui\",\"true\"),g.label=2;case 2:return g.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(t)];case 3:return i=g.sent(),o=i.accessToken,s=i.idToken,a=i.refreshToken,u=i.state,c=new bi({IdToken:new gi({IdToken:s}),RefreshToken:new yi({RefreshToken:a}),AccessToken:new pi({AccessToken:o})}),f=void 0,this._config.identityPoolId?[4,Ne.set(c,\"session\")]:[3,5];case 4:f=g.sent(),io.debug(\"AWS credentials\",f),g.label=5;case 5:return l=/-/.test(u),(h=this.createCognitoUser(c.getIdToken().decodePayload()[\"cognito:username\"])).setSignInUserSession(c),window&&\"undefined\"!==typeof window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),so(\"signIn\",h,\"A user \"+h.getUsername()+\" has been signed in\"),so(\"cognitoHostedUI\",h,\"A user \"+h.getUsername()+\" has been signed in via Cognito Hosted UI\"),l&&(d=u.split(\"-\").splice(1).join(\"-\"),so(\"customOAuthState\",d,\"State for user \"+h.getUsername())),[2,f];case 6:return p=g.sent(),io.debug(\"Error in cognito hosted auth response\",p),so(\"signIn_failure\",p,\"The OAuth response flow failed\"),so(\"cognitoHostedUI_failure\",p,\"A failure occurred when returning to the Cognito Hosted UI\"),so(\"customState_failure\",p,\"A failure occurred when returning state\"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}}))}))},e.prototype.essentialCredentials=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e.prototype.attributesToObject=function(e){var t={};return e&&e.map((function(e){\"true\"===e.Value?t[e.Name]=!0:\"false\"===e.Value?t[e.Name]=!1:t[e.Name]=e.Value})),t},e.prototype.createCognitoUser=function(e){var t={Username:e,Pool:this.userPool};t.Storage=this._storage;var n=this._config.authenticationFlowType,r=new Ci(t);return n&&r.setAuthenticationFlowType(n),r},e.prototype._isValidAuthStorage=function(e){return!!e&&\"function\"===typeof e.getItem&&\"function\"===typeof e.setItem&&\"function\"===typeof e.removeItem&&\"function\"===typeof e.clear},e.prototype.noUserPoolErrorHandler=function(e){return!e||e.userPoolId&&e.identityPoolId?kr.NoConfig:kr.MissingAuthConfig},e.prototype.rejectAuthError=function(e){return Promise.reject(new Zi(e))},e.prototype.rejectNoUserPool=function(){var e=this.noUserPoolErrorHandler(this._config);return Promise.reject(new $i(e))},e}())(null),lo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ho=function(){return(ho=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},po=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},go=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},yo=function(e,t){var n=\"function\"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},vo=new g(\"AWSAppSyncRealTimeProvider\"),mo=\"undefined\"!==typeof Symbol&&\"function\"===typeof Symbol.for?Symbol.for(\"amplify_default\"):\"@@amplify_default\",bo=[400,401,403];!function(e){e.GQL_CONNECTION_INIT=\"connection_init\",e.GQL_CONNECTION_ERROR=\"connection_error\",e.GQL_CONNECTION_ACK=\"connection_ack\",e.GQL_START=\"start\",e.GQL_START_ACK=\"start_ack\",e.GQL_DATA=\"data\",e.GQL_CONNECTION_KEEP_ALIVE=\"ka\",e.GQL_STOP=\"stop\",e.GQL_COMPLETE=\"complete\",e.GQL_ERROR=\"error\"}(ao||(ao={})),function(e){e[e.PENDING=0]=\"PENDING\",e[e.CONNECTED=1]=\"CONNECTED\",e[e.FAILED=2]=\"FAILED\"}(uo||(uo={})),function(e){e[e.CLOSED=0]=\"CLOSED\",e[e.READY=1]=\"READY\",e[e.CONNECTING=2]=\"CONNECTING\"}(co||(co={}));var _o,wo={accept:\"application/json, text/javascript\",\"content-encoding\":\"amz-1.0\",\"content-type\":\"application/json; charset=UTF-8\"},So=15e3,Eo=3e5,Ao=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.socketStatus=co.CLOSED,t.keepAliveTimeout=Eo,t.subscriptionObserverMap=new Map,t.promiseArray=[],t}return lo(t,e),t.prototype.getProviderName=function(){return\"AWSAppSyncRealTimeProvider\"},t.prototype.newClient=function(){throw new Error(\"Not used here\")},t.prototype.publish=function(e,t,n){return po(this,void 0,void 0,(function(){return go(this,(function(e){throw new Error(\"Operation not supported\")}))}))},t.prototype.subscribe=function(e,t){var n=this,r=t.appSyncGraphqlEndpoint;return new Jn((function(e){if(r){var i=Object(Xn.v4)();return n._startSubscriptionWithAWSAppSyncRealTime({options:t,observer:e,subscriptionId:i}),function(){return po(n,void 0,void 0,(function(){var e,t;return go(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),[4,this._waitForSubscriptionToBeConnected(i)];case 1:if(n.sent(),!(e=(this.subscriptionObserverMap.get(i)||{}).subscriptionState))return[2];if(e!==uo.CONNECTED)throw new Error(\"Subscription never connected\");return this._sendUnsubscriptionMessage(i),[3,4];case 2:return t=n.sent(),vo.debug(\"Error while unsubscribing \"+t),[3,4];case 3:return this._removeSubscriptionObserver(i),[7];case 4:return[2]}}))}))}}e.error({errors:[ho({},new gt(\"Subscribe only available for AWS AppSync endpoint\"))]}),e.complete()}))},Object.defineProperty(t.prototype,\"isSSLEnabled\",{get:function(){return!this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing},enumerable:!0,configurable:!0}),t.prototype._startSubscriptionWithAWSAppSyncRealTime=function(e){var t=e.options,n=e.observer,r=e.subscriptionId;return po(this,void 0,void 0,(function(){var e,i,o,s,a,u,c,f,l,h,d,p,g,y,v,m,b,_,w,S,E,A,I,O,T,C,P=this;return go(this,(function(k){switch(k.label){case 0:return e=t.appSyncGraphqlEndpoint,i=t.authenticationType,o=t.query,s=t.variables,a=t.apiKey,u=t.region,c=t.graphql_headers,f=void 0===c?function(){return{}}:c,l=t.additionalHeaders,h=void 0===l?{}:l,d=uo.PENDING,p={query:o,variables:s},this.subscriptionObserverMap.set(r,{observer:n,query:o,variables:s,subscriptionState:d,startAckTimeoutId:null}),g=JSON.stringify(p),v=[{}],[4,this._awsRealTimeHeaderBasedAuth({apiKey:a,appSyncGraphqlEndpoint:e,authenticationType:i,payload:g,canonicalUri:\"\",region:u})];case 1:return m=[ho.apply(void 0,v.concat([k.sent()]))],[4,f()];case 2:y=ho.apply(void 0,[ho.apply(void 0,[ho.apply(void 0,m.concat([k.sent()])),h]),(C={},C[\"x-amz-user-agent\"]=it.userAgent,C)]),b={id:r,payload:{data:g,extensions:{authorization:ho({},y)}},type:ao.GQL_START},_=JSON.stringify(b),k.label=3;case 3:return k.trys.push([3,5,,6]),[4,this._initializeWebSocketConnection({apiKey:a,appSyncGraphqlEndpoint:e,authenticationType:i,region:u})];case 4:return k.sent(),[3,6];case 5:return w=k.sent(),vo.debug({err:w}),S=w.message,E=void 0===S?\"\":S,n.error({errors:[ho({},new gt(\"Connection failed: \"+E))]}),n.complete(),\"function\"===typeof(A=(this.subscriptionObserverMap.get(r)||{}).subscriptionFailedCallback)&&A(),[2];case 6:return I=this.subscriptionObserverMap.get(r),O=I.subscriptionFailedCallback,T=I.subscriptionReadyCallback,this.subscriptionObserverMap.set(r,{observer:n,subscriptionState:d,variables:s,query:o,subscriptionReadyCallback:T,subscriptionFailedCallback:O,startAckTimeoutId:setTimeout((function(){P._timeoutStartSubscriptionAck.call(P,r)}),15e3)}),this.awsRealTimeSocket.send(_),[2]}}))}))},t.prototype._waitForSubscriptionToBeConnected=function(e){return po(this,void 0,void 0,(function(){var t=this;return go(this,(function(n){return this.subscriptionObserverMap.get(e).subscriptionState===uo.PENDING?[2,new Promise((function(n,r){var i=t.subscriptionObserverMap.get(e),o=i.observer,s=i.subscriptionState,a=i.variables,u=i.query;t.subscriptionObserverMap.set(e,{observer:o,subscriptionState:s,variables:a,query:u,subscriptionReadyCallback:n,subscriptionFailedCallback:r})}))]:[2]}))}))},t.prototype._sendUnsubscriptionMessage=function(e){try{if(this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.socketStatus===co.READY){var t={id:e,type:ao.GQL_STOP},n=JSON.stringify(t);this.awsRealTimeSocket.send(n)}}catch(r){vo.debug({err:r})}},t.prototype._removeSubscriptionObserver=function(e){this.subscriptionObserverMap.delete(e),setTimeout(this._closeSocketIfRequired.bind(this),1e3)},t.prototype._closeSocketIfRequired=function(){if(!(this.subscriptionObserverMap.size>0))if(this.awsRealTimeSocket)if(this.awsRealTimeSocket.bufferedAmount>0)setTimeout(this._closeSocketIfRequired.bind(this),1e3);else{vo.debug(\"closing WebSocket...\"),clearTimeout(this.keepAliveTimeoutId);var e=this.awsRealTimeSocket;e.onclose=void 0,e.onerror=void 0,e.close(1e3),this.awsRealTimeSocket=null,this.socketStatus=co.CLOSED}else this.socketStatus=co.CLOSED},t.prototype._handleIncomingSubscriptionMessage=function(e){vo.debug(\"subscription message from AWS AppSync RealTime: \"+e.data);var t=JSON.parse(e.data),n=t.id,r=void 0===n?\"\":n,i=t.payload,o=t.type,s=this.subscriptionObserverMap.get(r)||{},a=s.observer,u=void 0===a?null:a,c=s.query,f=void 0===c?\"\":c,l=s.variables,h=void 0===l?{}:l,d=s.startAckTimeoutId,p=s.subscriptionReadyCallback,g=s.subscriptionFailedCallback;if(vo.debug({id:r,observer:u,query:f,variables:h}),o===ao.GQL_DATA&&i&&i.data)u?u.next(i):vo.debug(\"observer not found for id: \"+r);else if(o!==ao.GQL_START_ACK){if(o===ao.GQL_CONNECTION_KEEP_ALIVE)return clearTimeout(this.keepAliveTimeoutId),void(this.keepAliveTimeoutId=setTimeout(this._errorDisconnect.bind(this,_o.TIMEOUT_DISCONNECT),this.keepAliveTimeout));if(o===ao.GQL_ERROR){y=uo.FAILED;this.subscriptionObserverMap.set(r,{observer:u,query:f,variables:h,startAckTimeoutId:d,subscriptionReadyCallback:p,subscriptionFailedCallback:g,subscriptionState:y}),u.error({errors:[ho({},new gt(\"Connection failed: \"+JSON.stringify(i)))]}),clearTimeout(d),u.complete(),\"function\"===typeof g&&g()}}else{vo.debug(\"subscription ready for \"+JSON.stringify({query:f,variables:h})),\"function\"===typeof p&&p(),clearTimeout(d),function(e,t,n){Ar.dispatch(\"api\",{event:e,data:t,message:n},\"PubSub\",mo)}(_o.SUBSCRIPTION_ACK,{query:f,variables:h},\"Connection established for subscription\");var y=uo.CONNECTED;this.subscriptionObserverMap.set(r,{observer:u,query:f,variables:h,startAckTimeoutId:null,subscriptionState:y,subscriptionReadyCallback:p,subscriptionFailedCallback:g})}},t.prototype._errorDisconnect=function(e){vo.debug(\"Disconnect error: \"+e),this.subscriptionObserverMap.forEach((function(t){var n=t.observer;n.closed||n.error({errors:[ho({},new gt(e))]})})),this.subscriptionObserverMap.clear(),this.awsRealTimeSocket&&this.awsRealTimeSocket.close(),this.socketStatus=co.CLOSED},t.prototype._timeoutStartSubscriptionAck=function(e){var t=this.subscriptionObserverMap.get(e)||{},n=t.observer,r=t.query,i=t.variables;n&&(this.subscriptionObserverMap.set(e,{observer:n,query:r,variables:i,subscriptionState:uo.FAILED}),n&&!n.closed&&(n.error({errors:[ho({},new gt(\"Subscription timeout \"+JSON.stringify({query:r,variables:i})))]}),n.complete()),vo.debug(\"timeoutStartSubscription\",JSON.stringify({query:r,variables:i})))},t.prototype._initializeWebSocketConnection=function(e){var t=this,n=e.appSyncGraphqlEndpoint,r=e.authenticationType,i=e.apiKey,o=e.region;if(this.socketStatus!==co.READY)return new Promise((function(e,s){return po(t,void 0,void 0,(function(){var t,a,u,c,f,l,h,d,p,g;return go(this,(function(y){switch(y.label){case 0:if(this.promiseArray.push({res:e,rej:s}),this.socketStatus!==co.CLOSED)return[3,5];y.label=1;case 1:return y.trys.push([1,4,,5]),this.socketStatus=co.CONNECTING,t=this.isSSLEnabled?\"wss://\":\"ws://\",a=n.replace(\"https://\",t).replace(\"http://\",t).replace(\"appsync-api\",\"appsync-realtime-api\").replace(\"gogi-beta\",\"grt-beta\"),u=\"{}\",l=(f=JSON).stringify,[4,this._awsRealTimeHeaderBasedAuth({authenticationType:r,payload:u,canonicalUri:\"/connect\",apiKey:i,appSyncGraphqlEndpoint:n,region:o})];case 2:return c=l.apply(f,[y.sent()]),h=mr.Buffer.from(c).toString(\"base64\"),d=mr.Buffer.from(u).toString(\"base64\"),p=a+\"?header=\"+h+\"&payload=\"+d,[4,this._initializeRetryableHandshake({awsRealTimeUrl:p})];case 3:return y.sent(),this.promiseArray.forEach((function(e){var t=e.res;vo.debug(\"Notifying connection successful\"),t()})),this.socketStatus=co.READY,this.promiseArray=[],[3,5];case 4:throw g=y.sent(),this.promiseArray.forEach((function(e){return(0,e.rej)(g)})),this.promiseArray=[],this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.awsRealTimeSocket.close(3001),this.awsRealTimeSocket=null,this.socketStatus=co.CLOSED,g;case 5:return[2]}}))}))}))},t.prototype._initializeRetryableHandshake=function(e){var t=e.awsRealTimeUrl;return po(this,void 0,void 0,(function(){return go(this,(function(e){switch(e.label){case 0:return vo.debug(\"Initializaling retryable Handshake\"),[4,k(this._initializeHandshake.bind(this),[{awsRealTimeUrl:t}],5e3)];case 1:return e.sent(),[2]}}))}))},t.prototype._initializeHandshake=function(e){var t=e.awsRealTimeUrl;return po(this,void 0,void 0,(function(){var e,n,r,i=this;return go(this,(function(o){switch(o.label){case 0:vo.debug(\"Initializing handshake \"+t),o.label=1;case 1:return o.trys.push([1,4,,5]),[4,new Promise((function(e,n){var r=new WebSocket(t,\"graphql-ws\");r.onerror=function(){vo.debug(\"WebSocket connection error\")},r.onclose=function(){n(new Error(\"Connection handshake error\"))},r.onopen=function(){return i.awsRealTimeSocket=r,e()}}))];case 2:return o.sent(),[4,new Promise((function(e,t){var n=!1;i.awsRealTimeSocket.onerror=function(e){vo.debug(\"WebSocket error \"+JSON.stringify(e))},i.awsRealTimeSocket.onclose=function(e){vo.debug(\"WebSocket closed \"+e.reason),t(new Error(JSON.stringify(e)))},i.awsRealTimeSocket.onmessage=function(r){vo.debug(\"subscription message from AWS AppSyncRealTime: \"+r.data+\" \");var o=JSON.parse(r.data),s=o.type,a=o.payload,u=(void 0===a?{}:a).connectionTimeoutMs,c=void 0===u?Eo:u;if(s===ao.GQL_CONNECTION_ACK)return n=!0,i.keepAliveTimeout=c,i.awsRealTimeSocket.onmessage=i._handleIncomingSubscriptionMessage.bind(i),i.awsRealTimeSocket.onerror=function(e){vo.debug(e),i._errorDisconnect(_o.CONNECTION_CLOSED)},void e(\"Cool, connected to AWS AppSyncRealTime\");if(s===ao.GQL_CONNECTION_ERROR){var f=o.payload,l=(void 0===f?{}:f).errors,h=yo(void 0===l?[]:l,1)[0],d=void 0===h?{}:h,p=d.errorType,g=void 0===p?\"\":p,y=d.errorCode;t({errorType:g,errorCode:void 0===y?0:y})}};var r={type:ao.GQL_CONNECTION_INIT};i.awsRealTimeSocket.send(JSON.stringify(r)),setTimeout(function(){n||t(new Error(\"Connection timeout: ack from AWSRealTime was not received on \"+So+\" ms\"))}.bind(i),So)}))];case 3:return o.sent(),[3,5];case 4:throw e=o.sent(),n=e.errorType,r=e.errorCode,bo.includes(r)?new C(n):n?new Error(n):e;case 5:return[2]}}))}))},t.prototype._awsRealTimeHeaderBasedAuth=function(e){var t=e.authenticationType,n=e.payload,r=e.canonicalUri,i=e.appSyncGraphqlEndpoint,o=e.apiKey,s=e.region;return po(this,void 0,void 0,(function(){var e,a,u;return go(this,(function(c){switch(c.label){case 0:return e={API_KEY:this._awsRealTimeApiKeyHeader.bind(this),AWS_IAM:this._awsRealTimeIAMHeader.bind(this),OPENID_CONNECT:this._awsRealTimeOPENIDHeader.bind(this),AMAZON_COGNITO_USER_POOLS:this._awsRealTimeCUPHeader.bind(this)},\"function\"!==typeof(a=e[t])?(vo.debug(\"Authentication type \"+t+\" not supported\"),[2,\"\"]):(u=Me.parse(i).host,[4,a({payload:n,canonicalUri:r,appSyncGraphqlEndpoint:i,apiKey:o,region:s,host:u})]);case 1:return[2,c.sent()]}}))}))},t.prototype._awsRealTimeCUPHeader=function(e){var t=e.host;return po(this,void 0,void 0,(function(){return go(this,(function(e){switch(e.label){case 0:return[4,fo.currentSession()];case 1:return[2,{Authorization:e.sent().getAccessToken().getJwtToken(),host:t}]}}))}))},t.prototype._awsRealTimeOPENIDHeader=function(e){var t=e.host;return po(this,void 0,void 0,(function(){var e;return go(this,(function(n){switch(n.label){case 0:return[4,jr.getItem(\"federatedInfo\")];case 1:if(!(e=n.sent())||!e.token)throw new Error(\"No federated jwt\");return[2,{Authorization:e.token,host:t}]}}))}))},t.prototype._awsRealTimeApiKeyHeader=function(e){var t=e.apiKey,n=e.host;return po(this,void 0,void 0,(function(){var e,r;return go(this,(function(i){return e=new Date,r=e.toISOString().replace(/[:\\-]|\\.\\d{3}/g,\"\"),[2,{host:n,\"x-amz-date\":r,\"x-api-key\":t}]}))}))},t.prototype._awsRealTimeIAMHeader=function(e){var t=e.payload,n=e.canonicalUri,r=e.appSyncGraphqlEndpoint,i=e.region;return po(this,void 0,void 0,(function(){var e,o,s;return go(this,(function(a){switch(a.label){case 0:return e={region:i,service:\"appsync\"},[4,this._ensureCredentials()];case 1:if(!a.sent())throw new Error(\"No credentials\");return[4,Ne.get().then((function(e){return{secret_key:e.secretAccessKey,access_key:e.accessKeyId,session_token:e.sessionToken}}))];case 2:return o=a.sent(),s={url:\"\"+r+n,data:t,method:\"POST\",headers:ho({},wo)},[2,Je.sign(s,o,e).headers]}}))}))},t.prototype._ensureCredentials=function(){return Ne.get().then((function(e){if(!e)return!1;var t=Ne.shear(e);return vo.debug(\"set credentials for AWSAppSyncRealTimeProvider\",t),!0})).catch((function(e){return vo.warn(\"ensure credentials error\",e),!1}))},t}(er),Io=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Oo=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},To=new g(\"PubSub\"),Co=new(function(){function e(e){this._options=e,To.debug(\"PubSub Options\",this._options),this._pluggables=[],this.subscribe=this.subscribe.bind(this),K.register(this)}return Object.defineProperty(e.prototype,\"awsAppSyncProvider\",{get:function(){return this._awsAppSyncProvider||(this._awsAppSyncProvider=new vr(this._options)),this._awsAppSyncProvider},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"awsAppSyncRealTimeProvider\",{get:function(){return this._awsAppSyncRealTimeProvider||(this._awsAppSyncRealTimeProvider=new Ao(this._options)),this._awsAppSyncRealTimeProvider},enumerable:!0,configurable:!0}),e.prototype.getModuleName=function(){return\"PubSub\"},e.prototype.configure=function(e){var t=this,n=e?e.PubSub||e:{};return To.debug(\"configure PubSub\",{opt:n}),this._options=Object.assign({},this._options,n),this._pluggables.map((function(e){return e.configure(t._options)})),this._options},e.prototype.addPluggable=function(e){return Io(this,void 0,void 0,(function(){return Oo(this,(function(t){return e&&\"PubSub\"===e.getCategory()?(this._pluggables.push(e),[2,e.configure(this._options)]):[2]}))}))},e.prototype.getProviderByName=function(e){return e===Gn?this.awsAppSyncProvider:e===Yn?this.awsAppSyncRealTimeProvider:this._pluggables.find((function(t){return t.getProviderName()===e}))},e.prototype.getProviders=function(e){void 0===e&&(e={});var t=e.provider;if(!t)return this._pluggables;var n=this.getProviderByName(t);if(!n)throw new Error(\"Could not find provider named \"+t);return[n]},e.prototype.publish=function(e,t,n){return Io(this,void 0,void 0,(function(){return Oo(this,(function(r){return[2,Promise.all(this.getProviders(n).map((function(r){return r.publish(e,t,n)})))]}))}))},e.prototype.subscribe=function(e,t){To.debug(\"subscribe options\",t);var n=this.getProviders(t);return new Jn((function(r){var i=n.map((function(n){return{provider:n,observable:n.subscribe(e,t)}})).map((function(e){var t=e.provider;return e.observable.subscribe({start:console.error,next:function(e){return r.next({provider:t,value:e})},error:function(e){return r.error({provider:t,error:e})}})}));return function(){return i.forEach((function(e){return e.unsubscribe()}))}}))},e}())(null);!function(e){e.CONNECTION_CLOSED=\"Connection closed\",e.TIMEOUT_DISCONNECT=\"Timeout disconnect\",e.SUBSCRIPTION_ACK=\"Subscription ack\"}(_o||(_o={}));var Po=Co,ko=function(){return(ko=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},No=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Uo=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Ro=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Do=function(e,t){var n=\"function\"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},xo=new g(\"GraphQLAPI\"),Mo=function(e,t){return void 0===t&&(t={}),{query:e,variables:t}},jo=function(){function e(e){this._api=null,this._options=e,ot.register(this),xo.debug(\"API Options\",this._options)}return e.prototype.getModuleName=function(){return\"GraphQLAPI\"},e.prototype.configure=function(e){var t=e||{},n=t.API,r=void 0===n?{}:n,i=Ro(t,[\"API\"]),o=ko(ko({},i),r);return xo.debug(\"configure GraphQL API\",{opt:o}),o.aws_project_region&&(o=Object.assign({},o,{region:o.aws_project_region,header:{}})),\"undefined\"!==typeof o.graphql_headers&&\"function\"!==typeof o.graphql_headers&&(xo.warn(\"graphql_headers should be a function\"),o.graphql_headers=void 0),this._options=Object.assign({},this._options,o),this.createInstance(),this._options},e.prototype.createInstance=function(){return xo.debug(\"create Rest instance\"),this._options?(this._api=new rt(this._options),!0):Promise.reject(\"API not configured\")},e.prototype._headerBasedAuth=function(e){return No(this,void 0,void 0,(function(){var t,n,r,i,o,s;return Uo(this,(function(a){switch(a.label){case 0:switch(t=this._options,n=t.aws_appsync_authenticationType,r=t.aws_appsync_apiKey,i={},e||n||\"AWS_IAM\"){case\"API_KEY\":return[3,1];case\"AWS_IAM\":return[3,2];case\"OPENID_CONNECT\":return[3,4];case\"AMAZON_COGNITO_USER_POOLS\":return[3,6]}return[3,8];case 1:if(!r)throw new Error(\"No api-key configured\");return i={Authorization:null,\"X-Api-Key\":r},[3,9];case 2:return[4,this._ensureCredentials()];case 3:if(!a.sent())throw new Error(\"No credentials\");return[3,9];case 4:return[4,jr.getItem(\"federatedInfo\")];case 5:if(!(o=a.sent())||!o.token)throw new Error(\"No federated jwt\");return i={Authorization:o.token},[3,9];case 6:return[4,fo.currentSession()];case 7:return s=a.sent(),i={Authorization:s.getAccessToken().getJwtToken()},[3,9];case 8:return i={Authorization:null},[3,9];case 9:return[2,i]}}))}))},e.prototype.getGraphqlOperationType=function(e){var t=Xt(e);return Do(t.definitions,1)[0].operation},e.prototype.graphql=function(e,t){var n=e.query,r=e.variables,i=void 0===r?{}:r,o=e.authMode,s=Xt(\"string\"===typeof n?n:_t(n)),a=Do(s.definitions.filter((function(e){return\"OperationDefinition\"===e.kind})),1)[0],u=(void 0===a?{}:a).operation;switch(u){case\"query\":case\"mutation\":var c=this._api.getCancellableToken(),f={cancellableToken:c},l=this._graphql({query:s,variables:i,authMode:o},t,f);return this._api.updateRequestToBeCancellable(l,c),l;case\"subscription\":return this._graphqlSubscribe({query:s,variables:i,authMode:o},t)}throw new Error(\"invalid operation type: \"+u)},e.prototype._graphql=function(e,t,n){var r=e.query,i=e.variables,o=e.authMode;return void 0===t&&(t={}),void 0===n&&(n={}),No(this,void 0,void 0,(function(){var e,s,a,u,c,f,l,h,d,p,g,y,v,m,b,_,w,S,E,A,I;return Uo(this,(function(O){switch(O.label){case 0:return this._api?[3,2]:[4,this.createInstance()];case 1:O.sent(),O.label=2;case 2:return e=this._options,s=e.aws_appsync_region,a=e.aws_appsync_graphqlEndpoint,u=e.graphql_headers,c=void 0===u?function(){return{}}:u,f=e.graphql_endpoint,l=e.graphql_endpoint_iam_region,d=[{}],(p=!f)?[4,this._headerBasedAuth(o)]:[3,4];case 3:p=O.sent(),O.label=4;case 4:return g=[ko.apply(void 0,d.concat([p]))],(y=f)?l?[4,this._headerBasedAuth(o)]:[3,6]:[3,8];case 5:return v=O.sent(),[3,7];case 6:v={Authorization:null},O.label=7;case 7:y=v,O.label=8;case 8:return m=[ko.apply(void 0,g.concat([y]))],[4,c({query:r,variables:i})];case 9:if(h=ko.apply(void 0,[ko.apply(void 0,[ko.apply(void 0,m.concat([O.sent()])),t]),!f&&(I={},I[\"x-amz-user-agent\"]=it.userAgent,I)]),b={query:_t(r),variables:i},_=Object.assign({headers:h,body:b,signerServiceInfo:{service:f?\"execute-api\":\"appsync\",region:f?l:s}},n),!(w=f||a))throw{data:{},errors:[new gt(\"No graphql endpoint provided.\")]};O.label=10;case 10:return O.trys.push([10,12,,13]),[4,this._api.post(w,_)];case 11:return S=O.sent(),[3,13];case 12:if(E=O.sent(),this._api.isCancel(E))throw E;return S={data:{},errors:[new gt(E.message)]},[3,13];case 13:if((A=S.errors)&&A.length)throw S;return[2,S]}}))}))},e.prototype.isCancel=function(e){return this._api.isCancel(e)},e.prototype.cancel=function(e,t){return this._api.cancel(e,t)},e.prototype._graphqlSubscribe=function(e,t){var n=e.query,r=e.variables,i=e.authMode;void 0===t&&(t={});var o=this._options,s=o.aws_appsync_region,a=o.aws_appsync_graphqlEndpoint,u=o.aws_appsync_authenticationType,c=o.aws_appsync_apiKey,f=o.graphql_headers,l=void 0===f?function(){return{}}:f,h=i||u||\"AWS_IAM\";if(Po&&\"function\"===typeof Po.subscribe)return Po.subscribe(\"\",{provider:Yn,appSyncGraphqlEndpoint:a,authenticationType:h,apiKey:c,query:_t(n),region:s,variables:r,graphql_headers:l,additionalHeaders:t});throw xo.debug(\"No pubsub module applied for subscription\"),new Error(\"No pubsub module applied for subscription\")},e.prototype._ensureCredentials=function(){return Ne.get().then((function(e){if(!e)return!1;var t=Ne.shear(e);return xo.debug(\"set credentials for api\",t),!0})).catch((function(e){return xo.warn(\"ensure credentials error\",e),!1}))},e}(),Fo=(new jo(null),function(){return(Fo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)}),Lo=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Bo=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},qo=new g(\"API\"),Vo=new(function(){function e(e){this._options=e,this._restApi=new lt(e),this._graphqlApi=new jo(e),K.register(this),qo.debug(\"API Options\",this._options)}return e.prototype.getModuleName=function(){return\"API\"},e.prototype.configure=function(e){this._options=Object.assign({},this._options,e);var t=this._restApi.configure(this._options),n=this._graphqlApi.configure(this._options);return Fo(Fo({},t),n)},e.prototype.get=function(e,t,n){return this._restApi.get(e,t,n)},e.prototype.post=function(e,t,n){return this._restApi.post(e,t,n)},e.prototype.put=function(e,t,n){return this._restApi.put(e,t,n)},e.prototype.patch=function(e,t,n){return this._restApi.patch(e,t,n)},e.prototype.del=function(e,t,n){return this._restApi.del(e,t,n)},e.prototype.head=function(e,t,n){return this._restApi.head(e,t,n)},e.prototype.isCancel=function(e){return this._restApi.isCancel(e)},e.prototype.cancel=function(e,t){return this._restApi.cancel(e,t)},e.prototype.endpoint=function(e){return Lo(this,void 0,void 0,(function(){return Bo(this,(function(t){return[2,this._restApi.endpoint(e)]}))}))},e.prototype.getGraphqlOperationType=function(e){return this._graphqlApi.getGraphqlOperationType(e)},e.prototype.graphql=function(e,t){return this._graphqlApi.graphql(e,t)},e}())(null);!function(){var e=new Error(\"Cannot find module '../src/aws-exports'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module '../src/graphql/mutations'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module '../src/graphql/subscriptions'\");throw e.code=\"MODULE_NOT_FOUND\",e}();var Ho=c.createElement;function Ko(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ko(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ko(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Vo.configure(!function(){var e=new Error(\"Cannot find module '../src/aws-exports'\");throw e.code=\"MODULE_NOT_FOUND\",e}());l();var Go=!0;t.default=function(e){var t=e.todos,n=u(c.useReducer(f.default,{currentTodo:\"\",todos:t}),2),r=n[0],o=n[1];c.useEffect((function(){var e=Vo.graphql(Mo(!function(){var e=new Error(\"Cannot find module '../src/graphql/subscriptions'\");throw e.code=\"MODULE_NOT_FOUND\",e}())).subscribe((function(e){o({type:\"add\",payload:e.value.data.onCreateTodo})}));return function(){e.unsubscribe()}}),[]);var a=function(){var e,t=(e=i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={id:l(),name:r.currentTodo},o({type:\"add\",payload:t}),o({type:\"set-current\",payload:\"\"}),e.prev=3,e.next=6,Vo.graphql(Mo(!function(){var e=new Error(\"Cannot find module '../src/graphql/mutations'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),{input:zo({},t)}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),o({type:\"set-current\",payload:t.name});case 11:case\"end\":return e.stop()}}),e,null,[[3,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,u,\"next\",e)}function u(e){s(o,r,i,a,u,\"throw\",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();return Ho(c.Fragment,null,Ho(\"header\",null,Ho(\"h2\",null,\"To Do List\")),Ho(\"main\",null,Ho(\"form\",{onSubmit:function(e){e.preventDefault(),a(r.currentTodo)}},Ho(\"input\",{type:\"text\",value:r.currentTodo,onChange:function(e){o({type:\"set-current\",payload:e.target.value})}}),Ho(\"button\",{type:\"submit\"},\"Add\")),Ho(\"ul\",null,r.todos.map((function(e){return Ho(\"li\",{key:e.id},Ho(\"input\",{type:\"text\",value:e.name,onChange:function(t){!function(e){o({type:\"update\",payload:e})}(zo(zo({},e),{},{name:t.target.value}))}}),Ho(\"button\",{onClick:function(){!function(e){o({type:\"delete\",payload:e})}(e)}},\"Delete\"))})))))}},ETIr:function(e,t,n){!function(t,r){var i;e.exports=(i=n(\"Ib8C\"),function(){var e=i,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var s=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<n;a++)i.push(r.charAt(s>>>6*(3-a)&63));var u=r.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join(\"\")},parse:function(e){var n=e.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<r.length;o++)i[r.charCodeAt(o)]=o}var s=r.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(n=a)}return function(e,n,r){for(var i=[],o=0,s=0;s<n;s++)if(s%4){var a=r[e.charCodeAt(s-1)]<<s%4*2,u=r[e.charCodeAt(s)]>>>6-s%4*2;i[o>>>2]|=(a|u)<<24-o%4*8,o++}return t.create(i,o)}(e,n,i)},_map:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\"}}(),i.enc.Base64)}()},EcEN:function(e,t,n){var r=n(\"xDdU\"),i=n(\"xk4V\"),o=i;o.v1=r,o.v4=i,e.exports=o},\"F+F2\":function(e,t,n){!function(t,r){var i;e.exports=(i=n(\"Ib8C\"),function(){if(\"function\"==typeof ArrayBuffer){var e=i.lib.WordArray,t=e.init;(e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||\"undefined\"!==typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,r=[],i=0;i<n;i++)r[i>>>2]|=e[i]<<24-i%4*8;t.call(this,r,n)}else t.apply(this,arguments)}).prototype=e}}(),i.lib.WordArray)}()},\"F/3P\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"0nHS\");t.defaultDelayDecider=function(e,t){return Math.floor(Math.min(r.MAXIMUM_RETRY_DELAY,Math.random()*Math.pow(2,t)*e))}},H0SL:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return n(\"Dtc0\")}])},H7XF:function(e,t,n){\"use strict\";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),s=r[0],a=r[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,s,a)),f=0,l=a>0?s-4:s;for(n=0;n<l;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[f++]=t>>16&255,u[f++]=t>>8&255,u[f++]=255&t;2===a&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[f++]=255&t);1===a&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[f++]=t>>8&255,u[f++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(f(e,s,s+16383>a?a:s+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+\"==\")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+\"=\"));return o.join(\"\")};for(var r=[],i=[],o=\"undefined\"!==typeof Uint8Array?Uint8Array:Array,s=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",a=0,u=s.length;a<u;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");var n=e.indexOf(\"=\");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function f(e,t,n){for(var i,o,s=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join(\"\")}i[\"-\".charCodeAt(0)]=62,i[\"_\".charCodeAt(0)]=63},HDXh:function(e,t,n){\"use strict\";(function(e){var r=n(\"H7XF\"),i=n(\"kVK+\"),o=n(\"49sm\");function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError(\"Invalid typed array length\");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,t,n);if(\"number\"===typeof e){if(\"string\"===typeof t)throw new Error(\"If encoding is specified then the first argument must be a string\");return l(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if(\"number\"===typeof t)throw new TypeError('\"value\" argument must not be a number');return\"undefined\"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError(\"'offset' is out of bounds\");if(t.byteLength<n+(r||0))throw new RangeError(\"'length' is out of bounds\");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=h(e,t);return e}(e,t,n,r):\"string\"===typeof t?function(e,t,n){\"string\"===typeof n&&\"\"!==n||(n=\"utf8\");if(!u.isEncoding(n))throw new TypeError('\"encoding\" must be a valid string encoding');var r=0|p(t,n),i=(e=a(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|d(t.length);return 0===(e=a(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if(\"undefined\"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||\"length\"in t)return\"number\"!==typeof t.length||(r=t.length)!==r?a(e,0):h(e,t);if(\"Buffer\"===t.type&&o(t.data))return h(e,t.data)}var r;throw new TypeError(\"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\")}(e,t)}function f(e){if(\"number\"!==typeof e)throw new TypeError('\"size\" argument must be a number');if(e<0)throw new RangeError('\"size\" argument must not be negative')}function l(e,t){if(f(t),e=a(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|d(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=s())throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+s().toString(16)+\" bytes\");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if(\"undefined\"!==typeof ArrayBuffer&&\"function\"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;\"string\"!==typeof e&&(e=\"\"+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case\"ascii\":case\"latin1\":case\"binary\":return n;case\"utf8\":case\"utf-8\":case void 0:return q(e).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*n;case\"hex\":return n>>>1;case\"base64\":return V(e).length;default:if(r)return q(e).length;t=(\"\"+t).toLowerCase(),r=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return\"\";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return\"\";if((n>>>=0)<=(t>>>=0))return\"\";for(e||(e=\"utf8\");;)switch(e){case\"hex\":return k(this,t,n);case\"utf8\":case\"utf-8\":return O(this,t,n);case\"ascii\":return C(this,t,n);case\"latin1\":case\"binary\":return P(this,t,n);case\"base64\":return I(this,t,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return N(this,t,n);default:if(r)throw new TypeError(\"Unknown encoding: \"+e);e=(e+\"\").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if(\"string\"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if(\"string\"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,i);if(\"number\"===typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&\"function\"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,i);throw new TypeError(\"val must be string, number or Buffer\")}function m(e,t,n,r,i){var o,s=1,a=e.length,u=t.length;if(void 0!==r&&(\"ucs2\"===(r=String(r).toLowerCase())||\"ucs-2\"===r||\"utf16le\"===r||\"utf-16le\"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var f=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*s}else-1!==f&&(o-=o-f),f=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var l=!0,h=0;h<u;h++)if(c(e,o+h)!==c(t,h)){l=!1;break}if(l)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!==0)throw new TypeError(\"Invalid hex string\");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function _(e,t,n,r){return H(q(t,e.length-n),e,n,r)}function w(e,t,n,r){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function S(e,t,n,r){return w(e,t,n,r)}function E(e,t,n,r){return H(V(t),e,n,r)}function A(e,t,n,r){return H(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function I(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function O(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,u,c=e[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=n)switch(l){case 1:c<128&&(f=c);break;case 2:128===(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(f=u);break;case 3:o=e[i+1],s=e[i+2],128===(192&o)&&128===(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128===(192&o)&&128===(192&s)&&128===(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(f=u)}null===f?(f=65533,l=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),i+=l}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);var n=\"\",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&\"function\"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,\"undefined\"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return f(t),t<=0?a(e,t):void 0!==n?\"string\"===typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return l(null,e)},u.allocUnsafeSlow=function(e){return l(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError(\"Arguments must be Buffers\");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!u.isBuffer(s))throw new TypeError('\"list\" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?\"\":0===arguments.length?O(this,0,e):g.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e=\"\",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString(\"hex\",0,n).match(/.{2}/g).join(\" \"),this.length>n&&(e+=\" ... \")),\"<Buffer \"+e+\">\"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError(\"out of range index\");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),c=this.slice(r,i),f=e.slice(t,n),l=0;l<a;++l)if(c[l]!==f[l]){o=c[l],s=f[l];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r=\"utf8\",n=this.length,t=0;else if(void 0===n&&\"string\"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");t|=0,isFinite(n)?(n|=0,void 0===r&&(r=\"utf8\")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");r||(r=\"utf8\");for(var o=!1;;)switch(r){case\"hex\":return b(this,e,t,n);case\"utf8\":case\"utf-8\":return _(this,e,t,n);case\"ascii\":return w(this,e,t,n);case\"latin1\":case\"binary\":return S(this,e,t,n);case\"base64\":return E(this,e,t,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return A(this,e,t,n);default:if(o)throw new TypeError(\"Unknown encoding: \"+r);r=(\"\"+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function C(e,t,n){var r=\"\";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function P(e,t,n){var r=\"\";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function k(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i=\"\",o=t;o<n;++o)i+=B(e[o]);return i}function N(e,t,n){for(var r=e.slice(t,n),i=\"\",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function U(e,t,n){if(e%1!==0||e<0)throw new RangeError(\"offset is not uint\");if(e+t>n)throw new RangeError(\"Trying to access beyond buffer length\")}function R(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('\"value\" argument is out of bounds');if(n+r>e.length)throw new RangeError(\"Index out of range\")}function D(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function x(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function M(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError(\"Index out of range\");if(n<0)throw new RangeError(\"Index out of range\")}function j(e,t,n,r,o){return o||M(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,o){return o||M(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||U(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||U(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||U(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||U(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||U(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||U(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||U(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||U(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||U(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||U(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||U(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||U(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||U(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||U(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):x(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):x(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError(\"targetStart out of bounds\");if(n<0||n>=this.length)throw new RangeError(\"sourceStart out of bounds\");if(r<0)throw new RangeError(\"sourceEnd out of bounds\");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if(\"string\"===typeof e){if(\"string\"===typeof t?(r=t,t=0,n=this.length):\"string\"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&\"string\"!==typeof r)throw new TypeError(\"encoding must be a string\");if(\"string\"===typeof r&&!u.isEncoding(r))throw new TypeError(\"Unknown encoding: \"+r)}else\"number\"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError(\"Out of range index\");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),\"number\"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=u.isBuffer(e)?e:q(new u(e,r).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var L=/[^+\\/0-9A-Za-z-_]/g;function B(e){return e<16?\"0\"+e.toString(16):e.toString(16)}function q(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error(\"Invalid code point\");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function V(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\\s+|\\s+$/g,\"\")}(e).replace(L,\"\")).length<2)return\"\";for(;e.length%4!==0;)e+=\"=\";return e}(e))}function H(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(\"yLpj\"))},HSsa:function(e,t,n){\"use strict\";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},HzrR:function(e,t,n){\"use strict\";(function(e){n.d(t,\"c\",(function(){return f})),n.d(t,\"b\",(function(){return l})),n.d(t,\"a\",(function(){return g}));var r=[{type:\"text/plain\",ext:\"txt\"},{type:\"text/html\",ext:\"html\"},{type:\"text/javascript\",ext:\"js\"},{type:\"text/css\",ext:\"css\"},{type:\"text/csv\",ext:\"csv\"},{type:\"text/yaml\",ext:\"yml\"},{type:\"text/yaml\",ext:\"yaml\"},{type:\"text/calendar\",ext:\"ics\"},{type:\"text/calendar\",ext:\"ical\"},{type:\"image/png\",ext:\"png\"},{type:\"image/gif\",ext:\"gif\"},{type:\"image/jpeg\",ext:\"jpg\"},{type:\"image/jpeg\",ext:\"jpeg\"},{type:\"image/bmp\",ext:\"bmp\"},{type:\"image/x-icon\",ext:\"ico\"},{type:\"image/tiff\",ext:\"tif\"},{type:\"image/tiff\",ext:\"tiff\"},{type:\"image/svg+xml\",ext:\"svg\"},{type:\"application/json\",ext:\"json\"},{type:\"application/xml\",ext:\"xml\"},{type:\"application/x-sh\",ext:\"sh\"},{type:\"application/zip\",ext:\"zip\"},{type:\"application/x-rar-compressed\",ext:\"rar\"},{type:\"application/x-tar\",ext:\"tar\"},{type:\"application/x-bzip\",ext:\"bz\"},{type:\"application/x-bzip2\",ext:\"bz2\"},{type:\"application/pdf\",ext:\"pdf\"},{type:\"application/java-archive\",ext:\"jar\"},{type:\"application/msword\",ext:\"doc\"},{type:\"application/vnd.ms-excel\",ext:\"xls\"},{type:\"application/vnd.ms-excel\",ext:\"xlsx\"},{type:\"message/rfc822\",ext:\"eml\"}],i=function(e){return void 0===e&&(e={}),0===Object.keys(e).length},o=function(e,t,n){if(!e||!e.sort)return!1;var r=n&&\"desc\"===n?-1:1;return e.sort((function(e,n){var i=e[t],o=n[t];return\"undefined\"===typeof o?\"undefined\"===typeof i?0:1*r:\"undefined\"===typeof i?-1*r:i<o?-1*r:i>o?1*r:0})),!0},s=function(e,t){var n=Object.assign({},e);return t&&(\"string\"===typeof t?delete n[t]:t.forEach((function(e){delete n[e]}))),n},a=function(e,t){void 0===t&&(t=\"application/octet-stream\");var n=e.toLowerCase(),i=r.filter((function(e){return n.endsWith(\".\"+e.ext)}));return i.length>0?i[0].type:t},u=function(e){var t=e.toLowerCase();return!!t.startsWith(\"text/\")||(\"application/json\"===t||\"application/xml\"===t||\"application/sh\"===t)},c=function(){for(var e=\"\",t=\"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\",n=32;n>0;n-=1)e+=t[Math.floor(Math.random()*t.length)];return e},f=function(e){if(e.isResolved)return e;var t=!0,n=!1,r=!1,i=e.then((function(e){return r=!0,t=!1,e}),(function(e){throw n=!0,t=!1,e}));return i.isFullfilled=function(){return r},i.isPending=function(){return t},i.isRejected=function(){return n},i},l=function(){return{isBrowser:\"undefined\"!==typeof window&&\"undefined\"!==typeof window.document,isNode:\"undefined\"!==typeof e&&null!=e.versions&&null!=e.versions.node}},h=function(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),!p(e))return e;var r={};for(var i in e){if(e.hasOwnProperty(i))r[t.includes(i)?i:i[0].toLowerCase()+i.slice(1)]=n.includes(i)?e[i]:h(e[i],t,n)}return r},d=function(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),!p(e))return e;var r={};for(var i in e){if(e.hasOwnProperty(i))r[t.includes(i)?i:i[0].toUpperCase()+i.slice(1)]=n.includes(i)?e[i]:d(e[i],t,n)}return r},p=function(e){return e instanceof Object&&!(e instanceof Array)&&!(e instanceof Function)&&!(e instanceof Number)&&!(e instanceof String)&&!(e instanceof Boolean)},g=function(){function e(){}return e.isEmpty=i,e.sortByField=o,e.objectLessAttributes=s,e.filenameToContentType=a,e.isTextFile=u,e.generateRandomString=c,e.makeQuerablePromise=f,e.browserOrNode=l,e.transferKeyToLowerCase=h,e.transferKeyToUpperCase=d,e.isStrictObject=p,e}()}).call(this,n(\"8oxB\"))},I2ZF:function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],\"-\",i[e[r++]],i[e[r++]],\"-\",i[e[r++]],i[e[r++]],\"-\",i[e[r++]],i[e[r++]],\"-\",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join(\"\")}},Ib8C:function(e,t,n){e.exports=function(){var e=e||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},i=r.lib={},o=i.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty(\"init\")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty(\"toString\")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=s<<24-(r+o)%4*8}else for(o=0;o<i;o+=4)t[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],i=function(t){t=t;var n=987654321,r=4294967295;return function(){var i=((n=36969*(65535&n)+(n>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}},o=0;o<t;o+=4){var a=i(4294967296*(n||e.random()));n=987654071*a(),r.push(4294967296*a()|0)}return new s.init(r,t)}}),a=r.enc={},u=a.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join(\"\")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new s.init(n,t/2)}},c=a.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join(\"\")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new s.init(n,t)}},f=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(t){throw new Error(\"Malformed UTF-8 data\")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},l=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){\"string\"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,a=i/(4*o),u=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*o,c=e.min(4*u,i);if(u){for(var f=0;f<u;f+=o)this._doProcessBlock(r,f);var l=r.splice(0,u);n.sigBytes-=c}return new s.init(l,c)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),h=(i.Hasher=l.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new h.HMAC.init(e,n).finalize(t)}}}),r.algo={});return r}(Math);return e}()},JEQr:function(e,t,n){\"use strict\";(function(t){var r=n(\"xTJ+\"),i=n(\"yK9s\"),o={\"Content-Type\":\"application/x-www-form-urlencoded\"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e[\"Content-Type\"])&&(e[\"Content-Type\"]=t)}var a={adapter:function(){var e;return\"undefined\"!==typeof t&&\"[object process]\"===Object.prototype.toString.call(t)?e=n(\"tQ2B\"):\"undefined\"!==typeof XMLHttpRequest&&(e=n(\"tQ2B\")),e}(),transformRequest:[function(e,t){return i(t,\"Accept\"),i(t,\"Content-Type\"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,\"application/x-www-form-urlencoded;charset=utf-8\"),e.toString()):r.isObject(e)?(s(t,\"application/json;charset=utf-8\"),JSON.stringify(e)):e}],transformResponse:[function(e){if(\"string\"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:\"XSRF-TOKEN\",xsrfHeaderName:\"X-XSRF-TOKEN\",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:\"application/json, text/plain, */*\"}}};r.forEach([\"delete\",\"get\",\"head\"],(function(e){a.headers[e]={}})),r.forEach([\"post\",\"put\",\"patch\"],(function(e){a.headers[e]=r.merge(o)})),e.exports=a}).call(this,n(\"8oxB\"))},LYNF:function(e,t,n){\"use strict\";var r=n(\"OH9c\");e.exports=function(e,t,n,i,o){var s=new Error(e);return r(s,t,n,i,o)}},LlEt:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"mrSG\"),i=n(\"eLY0\");function o(e){return function(t){return function(n){var o=n.request;if(!i.HttpRequest.isInstance(o))return t(n);var s=o.headers,a=\"node\"===e.runtime?\"user-agent\":\"x-amz-user-agent\";return s[a]?s[a]+=\" \"+e.defaultUserAgent:s[a]=\"\"+e.defaultUserAgent,e.customUserAgent&&(s[a]+=\" \"+e.customUserAgent),t(r.__assign(r.__assign({},n),{request:o}))}}}t.userAgentMiddleware=o,t.getUserAgentMiddlewareOptions={name:\"getUserAgentMiddleware\",step:\"build\",tags:[\"SET_USER_AGENT\",\"USER_AGENT\"]},t.getUserAgentPlugin=function(e){return{applyToStack:function(n){n.add(o(e),t.getUserAgentMiddlewareOptions)}}}},Lmem:function(e,t,n){\"use strict\";e.exports=function(e){return!(!e||!e.__CANCEL__)}},M0Bz:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"mrSG\"),i=function(){function e(){this.absoluteEntries=[],this.relativeEntries=[],this.entriesNameMap={}}return e.prototype.add=function(e,t){void 0===t&&(t={});var n=t.name,r=t.step,i=void 0===r?\"initialize\":r,o=t.tags,s=t.priority,a={name:n,step:i,tags:o,priority:void 0===s?\"normal\":s,middleware:e};if(n){if(Object.prototype.hasOwnProperty.call(this.entriesNameMap,n))throw new Error(\"Duplicated middleware name '\"+n+\"'\");this.entriesNameMap[n]=a}this.absoluteEntries.push(a)},e.prototype.addRelativeTo=function(e,t){var n=t.step,r=void 0===n?\"initialize\":n,i=t.name,o=t.tags,s=t.relation,a=t.toMiddleware,u={middleware:e,step:r,name:i,tags:o,next:\"before\"===s?a:void 0,prev:\"after\"===s?a:void 0};if(i){if(Object.prototype.hasOwnProperty.call(this.entriesNameMap,i))throw new Error(\"Duplicated middleware name '\"+i+\"'\");this.entriesNameMap[i]=u}this.relativeEntries.push(u)},e.prototype.sort=function(e){return e.sort((function(e,t){return o[t.step]-o[e.step]||s[t.priority||\"normal\"]-s[e.priority||\"normal\"]}))},e.prototype.clone=function(){var t,n,i=new e;return(t=i.absoluteEntries).push.apply(t,this.absoluteEntries),(n=i.relativeEntries).push.apply(n,this.relativeEntries),i.entriesNameMap=r.__assign({},this.entriesNameMap),i},e.prototype.concat=function(t){var n,i,o=new e;o.entriesNameMap=r.__assign({},this.entriesNameMap);var s=t;for(var a in s.entriesNameMap){if(o.entriesNameMap[a])throw new Error(\"Duplicated middleware name '\"+a+\"'\");o.entriesNameMap[a]=s.entriesNameMap[a]}return(n=o.absoluteEntries).push.apply(n,r.__spreadArrays(this.absoluteEntries,s.absoluteEntries)),(i=o.relativeEntries).push.apply(i,r.__spreadArrays(this.relativeEntries,s.relativeEntries)),o},e.prototype.remove=function(e){return\"string\"===typeof e?this.removeByName(e):this.removeByReference(e)},e.prototype.removeByName=function(e){for(var t=this.absoluteEntries.length-1;t>=0;t--)if(this.absoluteEntries[t].name&&this.absoluteEntries[t].name===e)return this.absoluteEntries.splice(t,1),delete this.entriesNameMap[e],!0;for(t=this.relativeEntries.length-1;t>=0;t--)if(this.relativeEntries[t].name&&this.relativeEntries[t].name===e)return this.relativeEntries.splice(t,1),delete this.entriesNameMap[e],!0;return!1},e.prototype.removeByReference=function(e){for(var t=this.absoluteEntries.length-1;t>=0;t--){if(this.absoluteEntries[t].middleware===e)return(n=this.absoluteEntries[t].name)&&delete this.entriesNameMap[n],this.absoluteEntries.splice(t,1),!0}for(t=this.relativeEntries.length-1;t>=0;t--){var n;if(this.relativeEntries[t].middleware===e)return(n=this.relativeEntries[t].name)&&delete this.entriesNameMap[n],this.relativeEntries.splice(t,1),!0}return!1},e.prototype.removeByTag=function(e){for(var t=!1,n=this.absoluteEntries.length-1;n>=0;n--){var r=this.absoluteEntries[n],i=r.tags,o=r.name;i&&i.indexOf(e)>-1&&(this.absoluteEntries.splice(n,1),o&&delete this.entriesNameMap[o],t=!0)}for(n=this.relativeEntries.length-1;n>=0;n--){var s=this.relativeEntries[n];i=s.tags,o=s.name;i&&i.indexOf(e)>-1&&(this.relativeEntries.splice(n,1),o&&delete this.entriesNameMap[o],t=!0)}return t},e.prototype.use=function(e){e.applyToStack(this)},e.prototype.normalizeRelativeEntries=function(){for(var e=this.absoluteEntries.filter((function(e){return e.name})).reduce((function(e,t){return e[t.name]=t,e}),{}),t=this.relativeEntries.map((function(e){return r.__assign(r.__assign({},e),{priority:null,next:void 0,prev:void 0})})),n=t.filter((function(e){return e.name})).reduce((function(e,t){return e[t.name]=t,e}),{}),i={},o=0;o<this.relativeEntries.length;o++){var s=this.relativeEntries[o],a=s.prev,u=s.next,c=t[o];if(a){if(e[a]&&e[a].step===c.step)i[a]||(i[a]={}),c.next=i[a].next,i[a].next&&(i[a].next.prev=c),i[a].next=c;else if(n[a]&&n[a].step===c.step){var f=n[a];if(f.next===c)continue;c.next=f.next,f.next=c,c.next&&(c.next.prev=c),c.prev=f}}else if(u)if(e[u]&&e[u].step===c.step)i[u]||(i[u]={}),c.prev=i[u].prev,i[u].prev&&(i[u].prev.next=c),i[u].prev=c;else if(n[u]&&n[u].step===c.step){var l=n[u];if(l.prev===c)continue;c.prev=l.prev,l.prev=c,c.prev&&(c.prev.next=c),c.next=l}}for(var h=[],d=new WeakSet,p=0,g=Object.keys(i);p<g.length;p++){var y=i[g[p]];for(a=y.prev,u=y.next;a;)d.add(a),a=a.prev;for(;u;)d.add(u),u=u.next}for(o=0;o<t.length;o++){var v=t[o];if(!d.has(v))for(v.prev||h.push(v);v&&!d.has(v);)d.add(v),v=v.next}return[h,i]},e.prototype.getMiddlewareList=function(){for(var e=[],t=this.normalizeRelativeEntries(),n=t[0],i=t[1],o=r.__spreadArrays(this.absoluteEntries,n),s=0,a=o=this.sort(o);s<a.length;s++){for(var u=a[s],c={prev:void 0,next:void 0},f=u.name&&i[u.name]||c,l=f.prev,h=f.next,d=l;null===d||void 0===d?void 0:d.prev;)d=d.prev;for(;d;)e.push(d.middleware),d=d.next;e.push(u.middleware);for(var p=u;p.next;)e.push(p.next.middleware),p=p.next;for(d=h;d;)e.push(d.middleware),d=d.next}return e.reverse()},e.prototype.resolve=function(e,t){for(var n=0,r=this.getMiddlewareList();n<r.length;n++){e=(0,r[n])(e,t)}return e},e}();t.MiddlewareStack=i;var o={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},s={high:3,normal:2,low:1}},\"M9Q+\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const r=n(\"qGyK\"),i=n(\"YYqL\");t.deserializerMiddlewareOption={name:\"deserializerMiddleware\",step:\"deserialize\",tags:[\"DESERIALIZER\"]},t.serializerMiddlewareOption={name:\"serializerMiddleware\",step:\"serialize\",tags:[\"SERIALIZER\"]},t.getSerdePlugin=function(e,n,o){return{applyToStack:s=>{s.add(r.deserializerMiddleware(e,o),t.deserializerMiddlewareOption),s.add(i.serializerMiddleware(e,n),t.serializerMiddlewareOption)}}}},MLWZ:function(e,t,n){\"use strict\";var r=n(\"xTJ+\");function i(e){return encodeURIComponent(e).replace(/%40/gi,\"@\").replace(/%3A/gi,\":\").replace(/%24/g,\"$\").replace(/%2C/gi,\",\").replace(/%20/g,\"+\").replace(/%5B/gi,\"[\").replace(/%5D/gi,\"]\")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!==e&&\"undefined\"!==typeof e&&(r.isArray(e)?t+=\"[]\":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+\"=\"+i(e))})))})),o=s.join(\"&\")}if(o){var a=e.indexOf(\"#\");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf(\"?\")?\"?\":\"&\")+o}return e}},N7zt:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.fromUtf8=function(e){return(new TextEncoder).encode(e)},t.toUtf8=function(e){return new TextDecoder(\"utf-8\").decode(e)}},Nkw6:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"Qli5\"),i=function(){this.middlewareStack=new r.MiddlewareStack};t.Command=i},\"Nw+h\":function(e,t,n){e.exports=n(\"rv4x\").Observable},OH9c:function(e,t,n){\"use strict\";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},OTTw:function(e,t,n){\"use strict\";var r=n(\"xTJ+\");e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement(\"a\");function i(e){var r=e;return t&&(n.setAttribute(\"href\",r),r=n.href),n.setAttribute(\"href\",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,\"\"):\"\",host:n.host,search:n.search?n.search.replace(/^\\?/,\"\"):\"\",hash:n.hash?n.hash.replace(/^#/,\"\"):\"\",hostname:n.hostname,port:n.port,pathname:\"/\"===n.pathname.charAt(0)?n.pathname:\"/\"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},Q3eC:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"mrSG\"),i=function(){function e(e){this.method=e.method||\"GET\",this.hostname=e.hostname||\"localhost\",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?\":\"!==e.protocol.substr(-1)?e.protocol+\":\":e.protocol:\"https:\",this.path=e.path?\"/\"!==e.path.charAt(0)?\"/\"+e.path:e.path:\"/\"}return e.isInstance=function(e){if(!e)return!1;var t=e;return\"method\"in t&&\"protocol\"in t&&\"hostname\"in t&&\"path\"in t&&\"object\"===typeof t.query&&\"object\"===typeof t.headers},e.prototype.clone=function(){var t,n=new e(r.__assign(r.__assign({},this),{headers:r.__assign({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var i,o=t[n];return r.__assign(r.__assign({},e),((i={})[n]=Array.isArray(o)?r.__spread(o):o,i))}),{}))),n},e}();t.HttpRequest=i},Qli5:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),n(\"mrSG\").__exportStar(n(\"M0Bz\"),t)},Qlnm:function(e,t,n){(function(t){var n;n=function(){return function(e){var t=e.localStorage||function(){var e={};return{setItem:function(t,n){e[t]=n},getItem:function(t){return e[t]},removeItem:function(t){delete e[t]}}}(),n={CONNECT:1,CONNACK:2,PUBLISH:3,PUBACK:4,PUBREC:5,PUBREL:6,PUBCOMP:7,SUBSCRIBE:8,SUBACK:9,UNSUBSCRIBE:10,UNSUBACK:11,PINGREQ:12,PINGRESP:13,DISCONNECT:14},r=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){if(!t.hasOwnProperty(n)){var r=\"Unknown property, \"+n+\". Valid properties are:\";for(var i in t)t.hasOwnProperty(i)&&(r=r+\" \"+i);throw new Error(r)}if(typeof e[n]!==t[n])throw new Error(a(o.INVALID_TYPE,[typeof e[n],n]))}},i=function(e,t){return function(){return e.apply(t,arguments)}},o={OK:{code:0,text:\"AMQJSC0000I OK.\"},CONNECT_TIMEOUT:{code:1,text:\"AMQJSC0001E Connect timed out.\"},SUBSCRIBE_TIMEOUT:{code:2,text:\"AMQJS0002E Subscribe timed out.\"},UNSUBSCRIBE_TIMEOUT:{code:3,text:\"AMQJS0003E Unsubscribe timed out.\"},PING_TIMEOUT:{code:4,text:\"AMQJS0004E Ping timed out.\"},INTERNAL_ERROR:{code:5,text:\"AMQJS0005E Internal error. Error Message: {0}, Stack trace: {1}\"},CONNACK_RETURNCODE:{code:6,text:\"AMQJS0006E Bad Connack return code:{0} {1}.\"},SOCKET_ERROR:{code:7,text:\"AMQJS0007E Socket error:{0}.\"},SOCKET_CLOSE:{code:8,text:\"AMQJS0008I Socket closed.\"},MALFORMED_UTF:{code:9,text:\"AMQJS0009E Malformed UTF data:{0} {1} {2}.\"},UNSUPPORTED:{code:10,text:\"AMQJS0010E {0} is not supported by this browser.\"},INVALID_STATE:{code:11,text:\"AMQJS0011E Invalid state {0}.\"},INVALID_TYPE:{code:12,text:\"AMQJS0012E Invalid type {0} for {1}.\"},INVALID_ARGUMENT:{code:13,text:\"AMQJS0013E Invalid argument {0} for {1}.\"},UNSUPPORTED_OPERATION:{code:14,text:\"AMQJS0014E Unsupported operation.\"},INVALID_STORED_DATA:{code:15,text:\"AMQJS0015E Invalid data in local storage key={0} value={1}.\"},INVALID_MQTT_MESSAGE_TYPE:{code:16,text:\"AMQJS0016E Invalid MQTT message type {0}.\"},MALFORMED_UNICODE:{code:17,text:\"AMQJS0017E Malformed Unicode string:{0} {1}.\"},BUFFER_FULL:{code:18,text:\"AMQJS0018E Message buffer is full, maximum buffer size: {0}.\"}},s={0:\"Connection Accepted\",1:\"Connection Refused: unacceptable protocol version\",2:\"Connection Refused: identifier rejected\",3:\"Connection Refused: server unavailable\",4:\"Connection Refused: bad user name or password\",5:\"Connection Refused: not authorized\"},a=function(e,t){var n=e.text;if(t)for(var r,i,o=0;o<t.length;o++)if(r=\"{\"+o+\"}\",(i=n.indexOf(r))>0){var s=n.substring(0,i),a=n.substring(i+r.length);n=s+t[o]+a}return n},u=[0,6,77,81,73,115,100,112,3],c=[0,4,77,81,84,84,4],f=function(e,t){for(var n in this.type=e,t)t.hasOwnProperty(n)&&(this[n]=t[n])};function l(e,t){var r,i=t,o=e[t],s=o>>4,a=o&=15;t+=1;var u=0,c=1;do{if(t==e.length)return[null,i];u+=(127&(r=e[t++]))*c,c*=128}while(0!==(128&r));var l=t+u;if(l>e.length)return[null,i];var h=new f(s);switch(s){case n.CONNACK:1&e[t++]&&(h.sessionPresent=!0),h.returnCode=e[t++];break;case n.PUBLISH:var d=a>>1&3,g=p(e,t),y=v(e,t+=2,g);t+=g,d>0&&(h.messageIdentifier=p(e,t),t+=2);var m=new w(e.subarray(t,l));1==(1&a)&&(m.retained=!0),8==(8&a)&&(m.duplicate=!0),m.qos=d,m.destinationName=y,h.payloadMessage=m;break;case n.PUBACK:case n.PUBREC:case n.PUBREL:case n.PUBCOMP:case n.UNSUBACK:h.messageIdentifier=p(e,t);break;case n.SUBACK:h.messageIdentifier=p(e,t),t+=2,h.returnCode=e.subarray(t,l)}return[h,l]}function h(e,t,n){return t[n++]=e>>8,t[n++]=e%256,n}function d(e,t,n,r){return y(e,n,r=h(t,n,r)),r+t}function p(e,t){return 256*e[t]+e[t+1]}function g(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r>2047?(55296<=r&&r<=56319&&(n++,t++),t+=3):r>127?t+=2:t++}return t}function y(e,t,n){for(var r=n,i=0;i<e.length;i++){var s=e.charCodeAt(i);if(55296<=s&&s<=56319){var u=e.charCodeAt(++i);if(isNaN(u))throw new Error(a(o.MALFORMED_UNICODE,[s,u]));s=u-56320+(s-55296<<10)+65536}s<=127?t[r++]=s:s<=2047?(t[r++]=s>>6&31|192,t[r++]=63&s|128):s<=65535?(t[r++]=s>>12&15|224,t[r++]=s>>6&63|128,t[r++]=63&s|128):(t[r++]=s>>18&7|240,t[r++]=s>>12&63|128,t[r++]=s>>6&63|128,t[r++]=63&s|128)}return t}function v(e,t,n){for(var r,i=\"\",s=t;s<t+n;){var u=e[s++];if(u<128)r=u;else{var c=e[s++]-128;if(c<0)throw new Error(a(o.MALFORMED_UTF,[u.toString(16),c.toString(16),\"\"]));if(u<224)r=64*(u-192)+c;else{var f=e[s++]-128;if(f<0)throw new Error(a(o.MALFORMED_UTF,[u.toString(16),c.toString(16),f.toString(16)]));if(u<240)r=4096*(u-224)+64*c+f;else{var l=e[s++]-128;if(l<0)throw new Error(a(o.MALFORMED_UTF,[u.toString(16),c.toString(16),f.toString(16),l.toString(16)]));if(!(u<248))throw new Error(a(o.MALFORMED_UTF,[u.toString(16),c.toString(16),f.toString(16),l.toString(16)]));r=262144*(u-240)+4096*c+64*f+l}}}r>65535&&(r-=65536,i+=String.fromCharCode(55296+(r>>10)),r=56320+(1023&r)),i+=String.fromCharCode(r)}return i}f.prototype.encode=function(){var e,t=(15&this.type)<<4,r=0,i=[],o=0;switch(void 0!==this.messageIdentifier&&(r+=2),this.type){case n.CONNECT:switch(this.mqttVersion){case 3:r+=u.length+3;break;case 4:r+=c.length+3}r+=g(this.clientId)+2,void 0!==this.willMessage&&(r+=g(this.willMessage.destinationName)+2,(e=this.willMessage.payloadBytes)instanceof Uint8Array||(e=new Uint8Array(a)),r+=e.byteLength+2),void 0!==this.userName&&(r+=g(this.userName)+2),void 0!==this.password&&(r+=g(this.password)+2);break;case n.SUBSCRIBE:t|=2;for(var s=0;s<this.topics.length;s++)i[s]=g(this.topics[s]),r+=i[s]+2;r+=this.requestedQos.length;break;case n.UNSUBSCRIBE:for(t|=2,s=0;s<this.topics.length;s++)i[s]=g(this.topics[s]),r+=i[s]+2;break;case n.PUBREL:t|=2;break;case n.PUBLISH:this.payloadMessage.duplicate&&(t|=8),t=t|=this.payloadMessage.qos<<1,this.payloadMessage.retained&&(t|=1),r+=(o=g(this.payloadMessage.destinationName))+2;var a=this.payloadMessage.payloadBytes;r+=a.byteLength,a instanceof ArrayBuffer?a=new Uint8Array(a):a instanceof Uint8Array||(a=new Uint8Array(a.buffer));break;case n.DISCONNECT:}var f=function(e){var t=new Array(1),n=0;do{var r=e%128;(e>>=7)>0&&(r|=128),t[n++]=r}while(e>0&&n<4);return t}(r),l=f.length+1,p=new ArrayBuffer(r+l),y=new Uint8Array(p);if(y[0]=t,y.set(f,1),this.type==n.PUBLISH)l=d(this.payloadMessage.destinationName,o,y,l);else if(this.type==n.CONNECT){switch(this.mqttVersion){case 3:y.set(u,l),l+=u.length;break;case 4:y.set(c,l),l+=c.length}var v=0;this.cleanSession&&(v=2),void 0!==this.willMessage&&(v|=4,v|=this.willMessage.qos<<3,this.willMessage.retained&&(v|=32)),void 0!==this.userName&&(v|=128),void 0!==this.password&&(v|=64),y[l++]=v,l=h(this.keepAliveInterval,y,l)}switch(void 0!==this.messageIdentifier&&(l=h(this.messageIdentifier,y,l)),this.type){case n.CONNECT:l=d(this.clientId,g(this.clientId),y,l),void 0!==this.willMessage&&(l=d(this.willMessage.destinationName,g(this.willMessage.destinationName),y,l),l=h(e.byteLength,y,l),y.set(e,l),l+=e.byteLength),void 0!==this.userName&&(l=d(this.userName,g(this.userName),y,l)),void 0!==this.password&&(l=d(this.password,g(this.password),y,l));break;case n.PUBLISH:y.set(a,l);break;case n.SUBSCRIBE:for(s=0;s<this.topics.length;s++)l=d(this.topics[s],i[s],y,l),y[l++]=this.requestedQos[s];break;case n.UNSUBSCRIBE:for(s=0;s<this.topics.length;s++)l=d(this.topics[s],i[s],y,l)}return p};var m=function(e,t){this._client=e,this._keepAliveInterval=1e3*t,this.isReset=!1;var r=new f(n.PINGREQ).encode(),i=function(e){return function(){return s.apply(e)}},s=function(){this.isReset?(this.isReset=!1,this._client._trace(\"Pinger.doPing\",\"send PINGREQ\"),this._client.socket.send(r),this.timeout=setTimeout(i(this),this._keepAliveInterval)):(this._client._trace(\"Pinger.doPing\",\"Timed out\"),this._client._disconnected(o.PING_TIMEOUT.code,a(o.PING_TIMEOUT)))};this.reset=function(){this.isReset=!0,clearTimeout(this.timeout),this._keepAliveInterval>0&&(this.timeout=setTimeout(i(this),this._keepAliveInterval))},this.cancel=function(){clearTimeout(this.timeout)}},b=function(e,t,n,r){t||(t=30),this.timeout=setTimeout(function(e,t,n){return function(){return e.apply(t,n)}}(n,e,r),1e3*t),this.cancel=function(){clearTimeout(this.timeout)}},_=function(n,r,i,s,u){if(!(\"WebSocket\"in e&&null!==e.WebSocket))throw new Error(a(o.UNSUPPORTED,[\"WebSocket\"]));if(!(\"ArrayBuffer\"in e&&null!==e.ArrayBuffer))throw new Error(a(o.UNSUPPORTED,[\"ArrayBuffer\"]));for(var c in this._trace(\"Paho.Client\",n,r,i,s,u),this.host=r,this.port=i,this.path=s,this.uri=n,this.clientId=u,this._wsuri=null,this._localKey=r+\":\"+i+(\"/mqtt\"!=s?\":\"+s:\"\")+\":\"+u+\":\",this._msg_queue=[],this._buffered_msg_queue=[],this._sentMessages={},this._receivedMessages={},this._notify_msg_sent={},this._message_identifier=1,this._sequence=0,t)0!==c.indexOf(\"Sent:\"+this._localKey)&&0!==c.indexOf(\"Received:\"+this._localKey)||this.restore(c)};_.prototype.host=null,_.prototype.port=null,_.prototype.path=null,_.prototype.uri=null,_.prototype.clientId=null,_.prototype.socket=null,_.prototype.connected=!1,_.prototype.maxMessageIdentifier=65536,_.prototype.connectOptions=null,_.prototype.hostIndex=null,_.prototype.onConnected=null,_.prototype.onConnectionLost=null,_.prototype.onMessageDelivered=null,_.prototype.onMessageArrived=null,_.prototype.traceFunction=null,_.prototype._msg_queue=null,_.prototype._buffered_msg_queue=null,_.prototype._connectTimeout=null,_.prototype.sendPinger=null,_.prototype.receivePinger=null,_.prototype._reconnectInterval=1,_.prototype._reconnecting=!1,_.prototype._reconnectTimeout=null,_.prototype.disconnectedPublishing=!1,_.prototype.disconnectedBufferSize=5e3,_.prototype.receiveBuffer=null,_.prototype._traceBuffer=null,_.prototype._MAX_TRACE_ENTRIES=100,_.prototype.connect=function(e){var t=this._traceMask(e,\"password\");if(this._trace(\"Client.connect\",t,this.socket,this.connected),this.connected)throw new Error(a(o.INVALID_STATE,[\"already connected\"]));if(this.socket)throw new Error(a(o.INVALID_STATE,[\"already connected\"]));this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1),this.connectOptions=e,this._reconnectInterval=1,this._reconnecting=!1,e.uris?(this.hostIndex=0,this._doConnect(e.uris[0])):this._doConnect(this.uri)},_.prototype.subscribe=function(e,t){if(this._trace(\"Client.subscribe\",e,t),!this.connected)throw new Error(a(o.INVALID_STATE,[\"not connected\"]));var r=new f(n.SUBSCRIBE);r.topics=e.constructor===Array?e:[e],void 0===t.qos&&(t.qos=0),r.requestedQos=[];for(var i=0;i<r.topics.length;i++)r.requestedQos[i]=t.qos;t.onSuccess&&(r.onSuccess=function(e){t.onSuccess({invocationContext:t.invocationContext,grantedQos:e})}),t.onFailure&&(r.onFailure=function(e){t.onFailure({invocationContext:t.invocationContext,errorCode:e,errorMessage:a(e)})}),t.timeout&&(r.timeOut=new b(this,t.timeout,t.onFailure,[{invocationContext:t.invocationContext,errorCode:o.SUBSCRIBE_TIMEOUT.code,errorMessage:a(o.SUBSCRIBE_TIMEOUT)}])),this._requires_ack(r),this._schedule_message(r)},_.prototype.unsubscribe=function(e,t){if(this._trace(\"Client.unsubscribe\",e,t),!this.connected)throw new Error(a(o.INVALID_STATE,[\"not connected\"]));var r=new f(n.UNSUBSCRIBE);r.topics=e.constructor===Array?e:[e],t.onSuccess&&(r.callback=function(){t.onSuccess({invocationContext:t.invocationContext})}),t.timeout&&(r.timeOut=new b(this,t.timeout,t.onFailure,[{invocationContext:t.invocationContext,errorCode:o.UNSUBSCRIBE_TIMEOUT.code,errorMessage:a(o.UNSUBSCRIBE_TIMEOUT)}])),this._requires_ack(r),this._schedule_message(r)},_.prototype.send=function(e){this._trace(\"Client.send\",e);var t=new f(n.PUBLISH);if(t.payloadMessage=e,this.connected)e.qos>0?this._requires_ack(t):this.onMessageDelivered&&(this._notify_msg_sent[t]=this.onMessageDelivered(t.payloadMessage)),this._schedule_message(t);else{if(!this._reconnecting||!this.disconnectedPublishing)throw new Error(a(o.INVALID_STATE,[\"not connected\"]));if(Object.keys(this._sentMessages).length+this._buffered_msg_queue.length>this.disconnectedBufferSize)throw new Error(a(o.BUFFER_FULL,[this.disconnectedBufferSize]));e.qos>0?this._requires_ack(t):(t.sequence=++this._sequence,this._buffered_msg_queue.unshift(t))}},_.prototype.disconnect=function(){if(this._trace(\"Client.disconnect\"),this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1),!this.socket)throw new Error(a(o.INVALID_STATE,[\"not connecting or connected\"]));var e=new f(n.DISCONNECT);this._notify_msg_sent[e]=i(this._disconnected,this),this._schedule_message(e)},_.prototype.getTraceLog=function(){if(null!==this._traceBuffer){for(var e in this._trace(\"Client.getTraceLog\",new Date),this._trace(\"Client.getTraceLog in flight messages\",this._sentMessages.length),this._sentMessages)this._trace(\"_sentMessages \",e,this._sentMessages[e]);for(var e in this._receivedMessages)this._trace(\"_receivedMessages \",e,this._receivedMessages[e]);return this._traceBuffer}},_.prototype.startTrace=function(){null===this._traceBuffer&&(this._traceBuffer=[]),this._trace(\"Client.startTrace\",new Date,\"@VERSION@-@BUILDLEVEL@\")},_.prototype.stopTrace=function(){delete this._traceBuffer},_.prototype._doConnect=function(e){if(this.connectOptions.useSSL){var t=e.split(\":\");t[0]=\"wss\",e=t.join(\":\")}this._wsuri=e,this.connected=!1,this.connectOptions.mqttVersion<4?this.socket=new WebSocket(e,[\"mqttv3.1\"]):this.socket=new WebSocket(e,[\"mqtt\"]),this.socket.binaryType=\"arraybuffer\",this.socket.onopen=i(this._on_socket_open,this),this.socket.onmessage=i(this._on_socket_message,this),this.socket.onerror=i(this._on_socket_error,this),this.socket.onclose=i(this._on_socket_close,this),this.sendPinger=new m(this,this.connectOptions.keepAliveInterval),this.receivePinger=new m(this,this.connectOptions.keepAliveInterval),this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null),this._connectTimeout=new b(this,this.connectOptions.timeout,this._disconnected,[o.CONNECT_TIMEOUT.code,a(o.CONNECT_TIMEOUT)])},_.prototype._schedule_message=function(e){this._msg_queue.unshift(e),this.connected&&this._process_queue()},_.prototype.store=function(e,r){var i={type:r.type,messageIdentifier:r.messageIdentifier,version:1};switch(r.type){case n.PUBLISH:r.pubRecReceived&&(i.pubRecReceived=!0),i.payloadMessage={};for(var s=\"\",u=r.payloadMessage.payloadBytes,c=0;c<u.length;c++)u[c]<=15?s=s+\"0\"+u[c].toString(16):s+=u[c].toString(16);i.payloadMessage.payloadHex=s,i.payloadMessage.qos=r.payloadMessage.qos,i.payloadMessage.destinationName=r.payloadMessage.destinationName,r.payloadMessage.duplicate&&(i.payloadMessage.duplicate=!0),r.payloadMessage.retained&&(i.payloadMessage.retained=!0),0===e.indexOf(\"Sent:\")&&(void 0===r.sequence&&(r.sequence=++this._sequence),i.sequence=r.sequence);break;default:throw Error(a(o.INVALID_STORED_DATA,[e+this._localKey+r.messageIdentifier,i]))}t.setItem(e+this._localKey+r.messageIdentifier,JSON.stringify(i))},_.prototype.restore=function(e){var r=t.getItem(e),i=JSON.parse(r),s=new f(i.type,i);switch(i.type){case n.PUBLISH:for(var u=i.payloadMessage.payloadHex,c=new ArrayBuffer(u.length/2),l=new Uint8Array(c),h=0;u.length>=2;){var d=parseInt(u.substring(0,2),16);u=u.substring(2,u.length),l[h++]=d}var p=new w(l);p.qos=i.payloadMessage.qos,p.destinationName=i.payloadMessage.destinationName,i.payloadMessage.duplicate&&(p.duplicate=!0),i.payloadMessage.retained&&(p.retained=!0),s.payloadMessage=p;break;default:throw Error(a(o.INVALID_STORED_DATA,[e,r]))}0===e.indexOf(\"Sent:\"+this._localKey)?(s.payloadMessage.duplicate=!0,this._sentMessages[s.messageIdentifier]=s):0===e.indexOf(\"Received:\"+this._localKey)&&(this._receivedMessages[s.messageIdentifier]=s)},_.prototype._process_queue=function(){for(var e=null;e=this._msg_queue.pop();)this._socket_send(e),this._notify_msg_sent[e]&&(this._notify_msg_sent[e](),delete this._notify_msg_sent[e])},_.prototype._requires_ack=function(e){var t=Object.keys(this._sentMessages).length;if(t>this.maxMessageIdentifier)throw Error(\"Too many messages:\"+t);for(;void 0!==this._sentMessages[this._message_identifier];)this._message_identifier++;e.messageIdentifier=this._message_identifier,this._sentMessages[e.messageIdentifier]=e,e.type===n.PUBLISH&&this.store(\"Sent:\",e),this._message_identifier===this.maxMessageIdentifier&&(this._message_identifier=1)},_.prototype._on_socket_open=function(){var e=new f(n.CONNECT,this.connectOptions);e.clientId=this.clientId,this._socket_send(e)},_.prototype._on_socket_message=function(e){this._trace(\"Client._on_socket_message\",e.data);for(var t=this._deframeMessages(e.data),n=0;n<t.length;n+=1)this._handleMessage(t[n])},_.prototype._deframeMessages=function(e){var t=new Uint8Array(e),n=[];if(this.receiveBuffer){var r=new Uint8Array(this.receiveBuffer.length+t.length);r.set(this.receiveBuffer),r.set(t,this.receiveBuffer.length),t=r,delete this.receiveBuffer}try{for(var i=0;i<t.length;){var s=l(t,i),u=s[0];if(i=s[1],null===u)break;n.push(u)}i<t.length&&(this.receiveBuffer=t.subarray(i))}catch(f){var c=\"undefined\"==f.hasOwnProperty(\"stack\")?f.stack.toString():\"No Error Stack Available\";return void this._disconnected(o.INTERNAL_ERROR.code,a(o.INTERNAL_ERROR,[f.message,c]))}return n},_.prototype._handleMessage=function(e){this._trace(\"Client._handleMessage\",e);try{switch(e.type){case n.CONNACK:if(this._connectTimeout.cancel(),this._reconnectTimeout&&this._reconnectTimeout.cancel(),this.connectOptions.cleanSession){for(var r in this._sentMessages){var i=this._sentMessages[r];t.removeItem(\"Sent:\"+this._localKey+i.messageIdentifier)}for(var r in this._sentMessages={},this._receivedMessages){var u=this._receivedMessages[r];t.removeItem(\"Received:\"+this._localKey+u.messageIdentifier)}this._receivedMessages={}}if(0!==e.returnCode){this._disconnected(o.CONNACK_RETURNCODE.code,a(o.CONNACK_RETURNCODE,[e.returnCode,s[e.returnCode]]));break}this.connected=!0,this.connectOptions.uris&&(this.hostIndex=this.connectOptions.uris.length);var c=[];for(var l in this._sentMessages)this._sentMessages.hasOwnProperty(l)&&c.push(this._sentMessages[l]);if(this._buffered_msg_queue.length>0)for(var h=null;h=this._buffered_msg_queue.pop();)c.push(h),this.onMessageDelivered&&(this._notify_msg_sent[h]=this.onMessageDelivered(h.payloadMessage));c=c.sort((function(e,t){return e.sequence-t.sequence}));for(var d=0,p=c.length;d<p;d++)if((i=c[d]).type==n.PUBLISH&&i.pubRecReceived){var g=new f(n.PUBREL,{messageIdentifier:i.messageIdentifier});this._schedule_message(g)}else this._schedule_message(i);this.connectOptions.onSuccess&&this.connectOptions.onSuccess({invocationContext:this.connectOptions.invocationContext});var y=!1;this._reconnecting&&(y=!0,this._reconnectInterval=1,this._reconnecting=!1),this._connected(y,this._wsuri),this._process_queue();break;case n.PUBLISH:this._receivePublish(e);break;case n.PUBACK:(i=this._sentMessages[e.messageIdentifier])&&(delete this._sentMessages[e.messageIdentifier],t.removeItem(\"Sent:\"+this._localKey+e.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(i.payloadMessage));break;case n.PUBREC:(i=this._sentMessages[e.messageIdentifier])&&(i.pubRecReceived=!0,g=new f(n.PUBREL,{messageIdentifier:e.messageIdentifier}),this.store(\"Sent:\",i),this._schedule_message(g));break;case n.PUBREL:u=this._receivedMessages[e.messageIdentifier],t.removeItem(\"Received:\"+this._localKey+e.messageIdentifier),u&&(this._receiveMessage(u),delete this._receivedMessages[e.messageIdentifier]);var v=new f(n.PUBCOMP,{messageIdentifier:e.messageIdentifier});this._schedule_message(v);break;case n.PUBCOMP:i=this._sentMessages[e.messageIdentifier],delete this._sentMessages[e.messageIdentifier],t.removeItem(\"Sent:\"+this._localKey+e.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(i.payloadMessage);break;case n.SUBACK:(i=this._sentMessages[e.messageIdentifier])&&(i.timeOut&&i.timeOut.cancel(),128===e.returnCode[0]?i.onFailure&&i.onFailure(e.returnCode):i.onSuccess&&i.onSuccess(e.returnCode),delete this._sentMessages[e.messageIdentifier]);break;case n.UNSUBACK:(i=this._sentMessages[e.messageIdentifier])&&(i.timeOut&&i.timeOut.cancel(),i.callback&&i.callback(),delete this._sentMessages[e.messageIdentifier]);break;case n.PINGRESP:this.sendPinger.reset();break;case n.DISCONNECT:this._disconnected(o.INVALID_MQTT_MESSAGE_TYPE.code,a(o.INVALID_MQTT_MESSAGE_TYPE,[e.type]));break;default:this._disconnected(o.INVALID_MQTT_MESSAGE_TYPE.code,a(o.INVALID_MQTT_MESSAGE_TYPE,[e.type]))}}catch(b){var m=\"undefined\"==b.hasOwnProperty(\"stack\")?b.stack.toString():\"No Error Stack Available\";return void this._disconnected(o.INTERNAL_ERROR.code,a(o.INTERNAL_ERROR,[b.message,m]))}},_.prototype._on_socket_error=function(e){this._reconnecting||this._disconnected(o.SOCKET_ERROR.code,a(o.SOCKET_ERROR,[e.data]))},_.prototype._on_socket_close=function(){this._reconnecting||this._disconnected(o.SOCKET_CLOSE.code,a(o.SOCKET_CLOSE))},_.prototype._socket_send=function(e){if(1==e.type){var t=this._traceMask(e,\"password\");this._trace(\"Client._socket_send\",t)}else this._trace(\"Client._socket_send\",e);this.socket.send(e.encode()),this.sendPinger.reset()},_.prototype._receivePublish=function(e){switch(e.payloadMessage.qos){case\"undefined\":case 0:this._receiveMessage(e);break;case 1:var t=new f(n.PUBACK,{messageIdentifier:e.messageIdentifier});this._schedule_message(t),this._receiveMessage(e);break;case 2:this._receivedMessages[e.messageIdentifier]=e,this.store(\"Received:\",e);var r=new f(n.PUBREC,{messageIdentifier:e.messageIdentifier});this._schedule_message(r);break;default:throw Error(\"Invaild qos=\"+e.payloadMessage.qos)}},_.prototype._receiveMessage=function(e){this.onMessageArrived&&this.onMessageArrived(e.payloadMessage)},_.prototype._connected=function(e,t){this.onConnected&&this.onConnected(e,t)},_.prototype._reconnect=function(){this._trace(\"Client._reconnect\"),this.connected||(this._reconnecting=!0,this.sendPinger.cancel(),this.receivePinger.cancel(),this._reconnectInterval<128&&(this._reconnectInterval=2*this._reconnectInterval),this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri))},_.prototype._disconnected=function(e,t){if(this._trace(\"Client._disconnected\",e,t),void 0!==e&&this._reconnecting)this._reconnectTimeout=new b(this,this._reconnectInterval,this._reconnect);else if(this.sendPinger.cancel(),this.receivePinger.cancel(),this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null),this._msg_queue=[],this._buffered_msg_queue=[],this._notify_msg_sent={},this.socket&&(this.socket.onopen=null,this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null,1===this.socket.readyState&&this.socket.close(),delete this.socket),this.connectOptions.uris&&this.hostIndex<this.connectOptions.uris.length-1)this.hostIndex++,this._doConnect(this.connectOptions.uris[this.hostIndex]);else if(void 0===e&&(e=o.OK.code,t=a(o.OK)),this.connected){if(this.connected=!1,this.onConnectionLost&&this.onConnectionLost({errorCode:e,errorMessage:t,reconnect:this.connectOptions.reconnect,uri:this._wsuri}),e!==o.OK.code&&this.connectOptions.reconnect)return this._reconnectInterval=1,void this._reconnect()}else 4===this.connectOptions.mqttVersion&&!1===this.connectOptions.mqttVersionExplicit?(this._trace(\"Failed to connect V4, dropping back to V3\"),this.connectOptions.mqttVersion=3,this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri)):this.connectOptions.onFailure&&this.connectOptions.onFailure({invocationContext:this.connectOptions.invocationContext,errorCode:e,errorMessage:t})},_.prototype._trace=function(){if(this.traceFunction){var e=Array.prototype.slice.call(arguments);for(var t in e)\"undefined\"!==typeof e[t]&&e.splice(t,1,JSON.stringify(e[t]));var n=e.join(\"\");this.traceFunction({severity:\"Debug\",message:n})}if(null!==this._traceBuffer){t=0;for(var r=arguments.length;t<r;t++)this._traceBuffer.length==this._MAX_TRACE_ENTRIES&&this._traceBuffer.shift(),0===t?this._traceBuffer.push(arguments[t]):\"undefined\"===typeof arguments[t]?this._traceBuffer.push(arguments[t]):this._traceBuffer.push(\"  \"+JSON.stringify(arguments[t]))}},_.prototype._traceMask=function(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=r==t?\"******\":e[r]);return n};var w=function(e){var t,n;if(!(\"string\"===typeof e||e instanceof ArrayBuffer||ArrayBuffer.isView(e)&&!(e instanceof DataView)))throw a(o.INVALID_ARGUMENT,[e,\"newPayload\"]);t=e;var r=0,i=!1,s=!1;Object.defineProperties(this,{payloadString:{enumerable:!0,get:function(){return\"string\"===typeof t?t:v(t,0,t.length)}},payloadBytes:{enumerable:!0,get:function(){if(\"string\"===typeof t){var e=new ArrayBuffer(g(t)),n=new Uint8Array(e);return y(t,n,0),n}return t}},destinationName:{enumerable:!0,get:function(){return n},set:function(e){if(\"string\"!==typeof e)throw new Error(a(o.INVALID_ARGUMENT,[e,\"newDestinationName\"]));n=e}},qos:{enumerable:!0,get:function(){return r},set:function(e){if(0!==e&&1!==e&&2!==e)throw new Error(\"Invalid argument:\"+e);r=e}},retained:{enumerable:!0,get:function(){return i},set:function(e){if(\"boolean\"!==typeof e)throw new Error(a(o.INVALID_ARGUMENT,[e,\"newRetained\"]));i=e}},topic:{enumerable:!0,get:function(){return n},set:function(e){n=e}},duplicate:{enumerable:!0,get:function(){return s},set:function(e){s=e}}})};return{Client:function(e,t,n,i){var s;if(\"string\"!==typeof e)throw new Error(a(o.INVALID_TYPE,[typeof e,\"host\"]));if(2==arguments.length){i=t;var u=(s=e).match(/^(wss?):\\/\\/((\\[(.+)\\])|([^\\/]+?))(:(\\d+))?(\\/.*)$/);if(!u)throw new Error(a(o.INVALID_ARGUMENT,[e,\"host\"]));e=u[4]||u[2],t=parseInt(u[7]),n=u[8]}else{if(3==arguments.length&&(i=n,n=\"/mqtt\"),\"number\"!==typeof t||t<0)throw new Error(a(o.INVALID_TYPE,[typeof t,\"port\"]));if(\"string\"!==typeof n)throw new Error(a(o.INVALID_TYPE,[typeof n,\"path\"]));var c=-1!==e.indexOf(\":\")&&\"[\"!==e.slice(0,1)&&\"]\"!==e.slice(-1);s=\"ws://\"+(c?\"[\"+e+\"]\":e)+\":\"+t+n}for(var f=0,l=0;l<i.length;l++){var h=i.charCodeAt(l);55296<=h&&h<=56319&&l++,f++}if(\"string\"!==typeof i||f>65535)throw new Error(a(o.INVALID_ARGUMENT,[i,\"clientId\"]));var d=new _(s,e,t,n,i);Object.defineProperties(this,{host:{get:function(){return e},set:function(){throw new Error(a(o.UNSUPPORTED_OPERATION))}},port:{get:function(){return t},set:function(){throw new Error(a(o.UNSUPPORTED_OPERATION))}},path:{get:function(){return n},set:function(){throw new Error(a(o.UNSUPPORTED_OPERATION))}},uri:{get:function(){return s},set:function(){throw new Error(a(o.UNSUPPORTED_OPERATION))}},clientId:{get:function(){return d.clientId},set:function(){throw new Error(a(o.UNSUPPORTED_OPERATION))}},onConnected:{get:function(){return d.onConnected},set:function(e){if(\"function\"!==typeof e)throw new Error(a(o.INVALID_TYPE,[typeof e,\"onConnected\"]));d.onConnected=e}},disconnectedPublishing:{get:function(){return d.disconnectedPublishing},set:function(e){d.disconnectedPublishing=e}},disconnectedBufferSize:{get:function(){return d.disconnectedBufferSize},set:function(e){d.disconnectedBufferSize=e}},onConnectionLost:{get:function(){return d.onConnectionLost},set:function(e){if(\"function\"!==typeof e)throw new Error(a(o.INVALID_TYPE,[typeof e,\"onConnectionLost\"]));d.onConnectionLost=e}},onMessageDelivered:{get:function(){return d.onMessageDelivered},set:function(e){if(\"function\"!==typeof e)throw new Error(a(o.INVALID_TYPE,[typeof e,\"onMessageDelivered\"]));d.onMessageDelivered=e}},onMessageArrived:{get:function(){return d.onMessageArrived},set:function(e){if(\"function\"!==typeof e)throw new Error(a(o.INVALID_TYPE,[typeof e,\"onMessageArrived\"]));d.onMessageArrived=e}},trace:{get:function(){return d.traceFunction},set:function(e){if(\"function\"!==typeof e)throw new Error(a(o.INVALID_TYPE,[typeof e,\"onTrace\"]));d.traceFunction=e}}}),this.connect=function(e){if(r(e=e||{},{timeout:\"number\",userName:\"string\",password:\"string\",willMessage:\"object\",keepAliveInterval:\"number\",cleanSession:\"boolean\",useSSL:\"boolean\",invocationContext:\"object\",onSuccess:\"function\",onFailure:\"function\",hosts:\"object\",ports:\"object\",reconnect:\"boolean\",mqttVersion:\"number\",mqttVersionExplicit:\"boolean\",uris:\"object\"}),void 0===e.keepAliveInterval&&(e.keepAliveInterval=60),e.mqttVersion>4||e.mqttVersion<3)throw new Error(a(o.INVALID_ARGUMENT,[e.mqttVersion,\"connectOptions.mqttVersion\"]));if(void 0===e.mqttVersion?(e.mqttVersionExplicit=!1,e.mqttVersion=4):e.mqttVersionExplicit=!0,void 0!==e.password&&void 0===e.userName)throw new Error(a(o.INVALID_ARGUMENT,[e.password,\"connectOptions.password\"]));if(e.willMessage){if(!(e.willMessage instanceof w))throw new Error(a(o.INVALID_TYPE,[e.willMessage,\"connectOptions.willMessage\"]));if(e.willMessage.stringPayload=null,\"undefined\"===typeof e.willMessage.destinationName)throw new Error(a(o.INVALID_TYPE,[typeof e.willMessage.destinationName,\"connectOptions.willMessage.destinationName\"]))}if(\"undefined\"===typeof e.cleanSession&&(e.cleanSession=!0),e.hosts){if(!(e.hosts instanceof Array))throw new Error(a(o.INVALID_ARGUMENT,[e.hosts,\"connectOptions.hosts\"]));if(e.hosts.length<1)throw new Error(a(o.INVALID_ARGUMENT,[e.hosts,\"connectOptions.hosts\"]));for(var t=!1,i=0;i<e.hosts.length;i++){if(\"string\"!==typeof e.hosts[i])throw new Error(a(o.INVALID_TYPE,[typeof e.hosts[i],\"connectOptions.hosts[\"+i+\"]\"]));if(/^(wss?):\\/\\/((\\[(.+)\\])|([^\\/]+?))(:(\\d+))?(\\/.*)$/.test(e.hosts[i])){if(0===i)t=!0;else if(!t)throw new Error(a(o.INVALID_ARGUMENT,[e.hosts[i],\"connectOptions.hosts[\"+i+\"]\"]))}else if(t)throw new Error(a(o.INVALID_ARGUMENT,[e.hosts[i],\"connectOptions.hosts[\"+i+\"]\"]))}if(t)e.uris=e.hosts;else{if(!e.ports)throw new Error(a(o.INVALID_ARGUMENT,[e.ports,\"connectOptions.ports\"]));if(!(e.ports instanceof Array))throw new Error(a(o.INVALID_ARGUMENT,[e.ports,\"connectOptions.ports\"]));if(e.hosts.length!==e.ports.length)throw new Error(a(o.INVALID_ARGUMENT,[e.ports,\"connectOptions.ports\"]));for(e.uris=[],i=0;i<e.hosts.length;i++){if(\"number\"!==typeof e.ports[i]||e.ports[i]<0)throw new Error(a(o.INVALID_TYPE,[typeof e.ports[i],\"connectOptions.ports[\"+i+\"]\"]));var u=e.hosts[i],c=e.ports[i],f=-1!==u.indexOf(\":\");s=\"ws://\"+(f?\"[\"+u+\"]\":u)+\":\"+c+n,e.uris.push(s)}}}d.connect(e)},this.subscribe=function(e,t){if(\"string\"!==typeof e&&e.constructor!==Array)throw new Error(\"Invalid argument:\"+e);if(r(t=t||{},{qos:\"number\",invocationContext:\"object\",onSuccess:\"function\",onFailure:\"function\",timeout:\"number\"}),t.timeout&&!t.onFailure)throw new Error(\"subscribeOptions.timeout specified with no onFailure callback.\");if(\"undefined\"!==typeof t.qos&&0!==t.qos&&1!==t.qos&&2!==t.qos)throw new Error(a(o.INVALID_ARGUMENT,[t.qos,\"subscribeOptions.qos\"]));d.subscribe(e,t)},this.unsubscribe=function(e,t){if(\"string\"!==typeof e&&e.constructor!==Array)throw new Error(\"Invalid argument:\"+e);if(r(t=t||{},{invocationContext:\"object\",onSuccess:\"function\",onFailure:\"function\",timeout:\"number\"}),t.timeout&&!t.onFailure)throw new Error(\"unsubscribeOptions.timeout specified with no onFailure callback.\");d.unsubscribe(e,t)},this.send=function(e,t,n,r){var i;if(0===arguments.length)throw new Error(\"Invalid argument.length\");if(1==arguments.length){if(!(e instanceof w)&&\"string\"!==typeof e)throw new Error(\"Invalid argument:\"+typeof e);if(\"undefined\"===typeof(i=e).destinationName)throw new Error(a(o.INVALID_ARGUMENT,[i.destinationName,\"Message.destinationName\"]));d.send(i)}else(i=new w(t)).destinationName=e,arguments.length>=3&&(i.qos=n),arguments.length>=4&&(i.retained=r),d.send(i)},this.publish=function(e,t,n,r){var i;if(0===arguments.length)throw new Error(\"Invalid argument.length\");if(1==arguments.length){if(!(e instanceof w)&&\"string\"!==typeof e)throw new Error(\"Invalid argument:\"+typeof e);if(\"undefined\"===typeof(i=e).destinationName)throw new Error(a(o.INVALID_ARGUMENT,[i.destinationName,\"Message.destinationName\"]));d.send(i)}else(i=new w(t)).destinationName=e,arguments.length>=3&&(i.qos=n),arguments.length>=4&&(i.retained=r),d.send(i)},this.disconnect=function(){d.disconnect()},this.getTraceLog=function(){return d.getTraceLog()},this.startTrace=function(){d.startTrace()},this.stopTrace=function(){d.stopTrace()},this.isConnected=function(){return d.connected}},Message:w}}(\"undefined\"!==typeof t?t:\"undefined\"!==typeof self?self:\"undefined\"!==typeof window?window:{})},e.exports=n()}).call(this,n(\"yLpj\"))},\"Rn+g\":function(e,t,n){\"use strict\";var r=n(\"LYNF\");e.exports=function(e,t,n){var i=n.config.validateStatus;!i||i(n.status)?e(n):t(r(\"Request failed with status code \"+n.status,n.config,null,n.request,n))}},SRIO:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.fromUtf8=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296===(64512&i)&&56320===(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)},t.toUtf8=function(e){for(var t=\"\",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var s=\"%\"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join(\"%\");t+=decodeURIComponent(s)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}},SntB:function(e,t,n){\"use strict\";var r=n(\"xTJ+\");e.exports=function(e,t){t=t||{};var n={};return r.forEach([\"url\",\"method\",\"params\",\"data\"],(function(e){\"undefined\"!==typeof t[e]&&(n[e]=t[e])})),r.forEach([\"headers\",\"auth\",\"proxy\"],(function(i){r.isObject(t[i])?n[i]=r.deepMerge(e[i],t[i]):\"undefined\"!==typeof t[i]?n[i]=t[i]:r.isObject(e[i])?n[i]=r.deepMerge(e[i]):\"undefined\"!==typeof e[i]&&(n[i]=e[i])})),r.forEach([\"baseURL\",\"transformRequest\",\"transformResponse\",\"paramsSerializer\",\"timeout\",\"withCredentials\",\"adapter\",\"responseType\",\"xsrfCookieName\",\"xsrfHeaderName\",\"onUploadProgress\",\"onDownloadProgress\",\"maxContentLength\",\"validateStatus\",\"maxRedirects\",\"httpAgent\",\"httpsAgent\",\"cancelToken\",\"socketPath\"],(function(r){\"undefined\"!==typeof t[r]?n[r]=t[r]:\"undefined\"!==typeof e[r]&&(n[r]=e[r])})),n}},UnBK:function(e,t,n){\"use strict\";var r=n(\"xTJ+\"),i=n(\"xAGQ\"),o=n(\"Lmem\"),s=n(\"JEQr\"),a=n(\"2SVd\"),u=n(\"5oMp\");function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!a(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach([\"delete\",\"get\",\"head\",\"post\",\"put\",\"patch\",\"common\"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return c(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(c(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},\"V+gA\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"mrSG\"),i=function(e){function t(t,n){void 0===n&&(n=!0);var r=e.call(this,t)||this;return r.tryNextLink=n,r}return r.__extends(t,e),t}(Error);t.ProviderError=i},WYAk:function(e,t,n){!function(t,r){var i;e.exports=(i=n(\"Ib8C\"),void function(){var e=i,t=e.lib.Base,n=e.enc.Utf8;e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,\"string\"==typeof t&&(t=n.parse(t));var r=e.blockSize,i=4*r;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),s=this._iKey=t.clone(),a=o.words,u=s.words,c=0;c<r;c++)a[c]^=1549556828,u[c]^=909522486;o.sigBytes=s.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})}())}()},YNd0:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"mrSG\");r.__exportStar(n(\"dHXu\"),t),r.__exportStar(n(\"nhFR\"),t)},YVrH:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"mrSG\");function i(e,t){if(\"string\"===typeof e){var n=Promise.resolve(t(e));return function(){return n}}if(\"object\"===typeof e){var r=Promise.resolve(e);return function(){return r}}return e}t.normalizeEndpoint=i,t.resolveEndpointsConfig=function(e){var t=this,n=void 0===e.tls||e.tls,o=e.endpoint?i(e.endpoint,e.urlParser):function(){return e.region().then((function(i){return r.__awaiter(t,void 0,void 0,(function(){var t;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,e.regionInfoProvider(i)];case 1:if(!(t=(r.sent()||{}).hostname))throw new Error(\"Cannot resolve hostname from client config\");return[2,e.urlParser((n?\"https:\":\"http:\")+\"//\"+t)]}}))}))}))};return r.__assign(r.__assign({},e),{endpoint:o,tls:n})}},YX4P:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),n(\"mrSG\").__exportStar(n(\"duQQ\"),t)},YYqL:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const r=n(\"mrSG\");t.serializerMiddleware=function(e,t){return n=>i=>r.__awaiter(this,void 0,void 0,(function*(){const r=yield t(i.input,e);return n(Object.assign(Object.assign({},i),{request:r}))}))}},Z6Ly:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});for(var r={},i=new Array(64),o=0,s=\"A\".charCodeAt(0),a=\"Z\".charCodeAt(0);o+s<=a;o++){var u=String.fromCharCode(o+s);r[u]=o,i[o]=u}for(o=0,s=\"a\".charCodeAt(0),a=\"z\".charCodeAt(0);o+s<=a;o++){u=String.fromCharCode(o+s);var c=o+26;r[u]=c,i[c]=u}for(o=0;o<10;o++){r[o.toString(10)]=o+52;u=o.toString(10),c=o+52;r[u]=c,i[c]=u}r[\"+\"]=62,i[62]=\"+\",r[\"/\"]=63,i[63]=\"/\";var f=6,l=8,h=63;t.fromBase64=function(e){var t=e.length/4*3;\"==\"===e.substr(-2)?t-=2:\"=\"===e.substr(-1)&&t--;for(var n=new ArrayBuffer(t),i=new DataView(n),o=0;o<e.length;o+=4){for(var s=0,a=0,u=o,c=o+3;u<=c;u++)\"=\"!==e[u]?(s|=r[e[u]]<<(c-u)*f,a+=f):s>>=f;var h=o/4*3;s>>=a%l;for(var d=Math.floor(a/l),p=0;p<d;p++){var g=(d-p-1)*l;i.setUint8(h+p,(s&255<<g)>>g)}}return new Uint8Array(n)},t.toBase64=function(e){for(var t=\"\",n=0;n<e.length;n+=3){for(var r=0,o=0,s=n,a=Math.min(n+3,e.length);s<a;s++)r|=e[s]<<(a-s-1)*l,o+=l;var u=Math.ceil(o/f);r<<=u*f-o;for(var c=1;c<=u;c++){var d=(u-c)*f;t+=i[(r&h<<d)>>d]}t+=\"==\".slice(0,4-u)}return t}},ZIxo:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"dFEU\"),i=n(\"b4Ml\"),o=n(\"xxdO\"),s=n(\"bVud\"),a=n(\"YX4P\"),u=n(\"4usX\"),c=function(){function e(e){s.supportsWebCrypto(u.locateWindow())?this.hash=new i.Sha256(e):a.isMsWindow(u.locateWindow())?this.hash=new r.Sha256(e):this.hash=new o.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=c},acqe:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"mrSG\");function i(e){var t=this;return function(n){return function(i){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,e.retryStrategy.retry(n,i)]}))}))}}}t.retryMiddleware=i,t.retryMiddlewareOptions={name:\"retryMiddleware\",tags:[\"RETRY\"],step:\"finalizeRequest\",priority:\"high\"},t.getRetryPlugin=function(e){return{applyToStack:function(n){e.maxRetries>0&&n.add(i(e),t.retryMiddlewareOptions)}}}},b4Ml:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"C70v\"),i=n(\"kQNw\"),o=n(\"p72H\"),s=n(\"4usX\"),a=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){s.locateWindow().crypto.subtle.importKey(\"raw\",u(e),o.SHA_256_HMAC_ALGO,!1,[\"sign\"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!i.isEmptyData(e)){var t=u(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return s.locateWindow().crypto.subtle.sign(o.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):i.isEmptyData(this.toHash)?Promise.resolve(o.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return s.locateWindow().crypto.subtle.digest(o.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();function u(e){return\"string\"===typeof e?r.fromUtf8(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=a},bVud:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),n(\"mrSG\").__exportStar(n(\"ntEb\"),t)},\"c+1v\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.extendedEncodeURIComponent=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return\"%\"+e.charCodeAt(0).toString(16)}))}},cZ61:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"vdHl\"),i=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error(\"Attempted to update an already finished hash.\");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error(\"Cannot hash more than 2^53 - 1 bits\");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var i=this.bufferLength;i<r.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<r.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(r.DIGEST_LENGTH);for(i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],u=t[5],c=t[6],f=t[7],l=0;l<r.BLOCK_SIZE;l++){if(l<16)this.temp[l]=(255&e[4*l])<<24|(255&e[4*l+1])<<16|(255&e[4*l+2])<<8|255&e[4*l+3];else{var h=this.temp[l-2],d=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10,p=((h=this.temp[l-15])>>>7|h<<25)^(h>>>18|h<<14)^h>>>3;this.temp[l]=(d+this.temp[l-7]|0)+(p+this.temp[l-16]|0)}var g=(((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(a&u^~a&c)|0)+(f+(r.KEY[l]+this.temp[l]|0)|0)|0,y=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;f=c,c=u,u=a,a=s+g|0,s=o,o=i,i=n,n=g+y|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=s,t[4]+=a,t[5]+=u,t[6]+=c,t[7]+=f},e}();t.RawSha256=i},cndw:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"9s+c\");t.isClockSkewError=function(e){return e.name in r.CLOCK_SKEW_ERROR_CODES},t.isStillProcessingError=function(e){return e.name in r.STILL_PROCESSING_ERROR_CODES},t.isThrottlingError=function(e){return e.name in r.THROTTLING_ERROR_CODES}},d8aE:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"mrSG\");r.__exportStar(n(\"i44i\"),t),r.__exportStar(n(\"LlEt\"),t)},dFEU:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"kQNw\"),i=n(\"p72H\"),o=n(\"C70v\"),s=n(\"4usX\"),a=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=s.locateWindow().msCrypto.subtle.importKey(\"raw\",u(e),i.SHA_256_HMAC_ALGO,!1,[\"sign\"]);r.oncomplete=function(){r.result&&t(r.result),n(\"ImportKey completed without importing key.\")},r.onerror=function(){n(\"ImportKey failed to import key.\")}}))}(e).then((function(e){return s.locateWindow().msCrypto.subtle.sign(i.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve(s.locateWindow().msCrypto.subtle.digest(\"SHA-256\"))}return e.prototype.update=function(e){var t=this;r.isEmptyData(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error(\"Error encountered updating hash\"))},n.process(u(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(\"Error encountered finalizing hash\")},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(\"Error encountered finalizing hash\")},e.finish()}))}))},e}();function u(e){return\"string\"===typeof e?o.fromUtf8(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=a},dHXu:function(e,t,n){\"use strict\";function r(e){return\"%\"+e.charCodeAt(0).toString(16).toUpperCase()}Object.defineProperty(t,\"__esModule\",{value:!0}),t.escapeUri=function(e){var t=encodeURIComponent(e);return t=t.replace(/[!'()*]/g,r)}},daIz:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"mrSG\");t.parseQueryString=function(e){var t,n,i={};if(e=e.replace(/^\\?/,\"\"))try{for(var o=r.__values(e.split(\"&\")),s=o.next();!s.done;s=o.next()){var a=s.value,u=r.__read(a.split(\"=\"),2),c=u[0],f=u[1],l=void 0===f?null:f;c=decodeURIComponent(c),l&&(l=decodeURIComponent(l)),c in i?Array.isArray(i[c])?i[c].push(l):i[c]=[i[c],l]:i[c]=l}}catch(h){t={error:h}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}},duQQ:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=[\"decrypt\",\"digest\",\"encrypt\",\"exportKey\",\"generateKey\",\"importKey\",\"sign\",\"verify\"];t.isMsWindow=function(e){if(function(e){return\"MSInputMethodContext\"in e&&\"msCrypto\"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,n=t.getRandomValues,i=t.subtle;return r.map((function(e){return i[e]})).concat(n).every((function(e){return\"function\"===typeof e}))}return!1}},eLY0:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"mrSG\");r.__exportStar(n(\"ARfR\"),t),r.__exportStar(n(\"Q3eC\"),t),r.__exportStar(n(\"9uRL\"),t)},endd:function(e,t,n){\"use strict\";function r(e){this.message=e}r.prototype.toString=function(){return\"Cancel\"+(this.message?\": \"+this.message:\"\")},r.prototype.__CANCEL__=!0,e.exports=r},eqyj:function(e,t,n){\"use strict\";var r=n(\"xTJ+\");e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,s){var a=[];a.push(e+\"=\"+encodeURIComponent(t)),r.isNumber(n)&&a.push(\"expires=\"+new Date(n).toGMTString()),r.isString(i)&&a.push(\"path=\"+i),r.isString(o)&&a.push(\"domain=\"+o),!0===s&&a.push(\"secure\"),document.cookie=a.join(\"; \")},read:function(e){var t=document.cookie.match(new RegExp(\"(^|;\\\\s*)(\"+e+\")=([^;]*)\"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,\"\",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},fHsK:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"mrSG\"),i=n(\"0nHS\"),o=n(\"F/3P\"),s=n(\"0f27\"),a=n(\"cndw\"),u=function(){function e(e,t,n){void 0===t&&(t=s.defaultRetryDecider),void 0===n&&(n=o.defaultDelayDecider),this.maxRetries=e,this.retryDecider=t,this.delayDecider=n}return e.prototype.shouldRetry=function(e,t){return t<this.maxRetries&&this.retryDecider(e)},e.prototype.retry=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,o,s,u,c;return r.__generator(this,(function(f){switch(f.label){case 0:n=0,o=0,s=function(){var s,c,f,l,h;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,5]),[4,e(t)];case 1:return s=r.sent(),c=s.response,(f=s.output).$metadata.retries=n,f.$metadata.totalRetryDelay=o,[2,{value:{response:c,output:f}}];case 2:return l=r.sent(),u.shouldRetry(l,n)?(h=u.delayDecider(a.isThrottlingError(l)?i.THROTTLING_RETRY_DELAY_BASE:i.DEFAULT_RETRY_DELAY_BASE,n++),o+=h,[4,new Promise((function(e){return setTimeout(e,h)}))]):[3,4];case 3:return r.sent(),[2,\"continue\"];case 4:throw l.$metadata||(l.$metadata={}),l.$metadata.retries=n,l.$metadata.totalRetryDelay=o,l;case 5:return[2]}}))},u=this,f.label=1;case 1:return[5,s()];case 2:return\"object\"===typeof(c=f.sent())?[2,c.value]:[3,1];case 3:return[2]}}))}))},e}();t.ExponentialBackOffStrategy=u},fauL:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});for(var r={},i={},o=0;o<256;o++){var s=o.toString(16).toLowerCase();1===s.length&&(s=\"0\"+s),r[o]=s,i[s]=o}t.fromHex=function(e){if(e.length%2!==0)throw new Error(\"Hex encoded strings must have an even number length\");for(var t=new Uint8Array(e.length/2),n=0;n<e.length;n+=2){var r=e.substr(n,2).toLowerCase();if(!(r in i))throw new Error(\"Cannot decode unrecognized sequence \"+r+\" as hexadecimal\");t[n/2]=i[r]}return t},t.toHex=function(e){for(var t=\"\",n=0;n<e.byteLength;n++)t+=r[e[n]];return t}},\"gpF+\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"mrSG\"),i=n(\"YNd0\");t.buildQueryString=function(e){var t,n,o=[];try{for(var s=r.__values(Object.keys(e).sort()),a=s.next();!a.done;a=s.next()){var u=a.value,c=e[u];if(u=i.escapeUri(u),Array.isArray(c))for(var f=0,l=c.length;f<l;f++)o.push(u+\"=\"+i.escapeUri(c[f]));else{var h=u;(c||\"string\"===typeof c)&&(h+=\"=\"+i.escapeUri(c)),o.push(h)}}}catch(d){t={error:d}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o.join(\"&\")}},i44i:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.resolveUserAgentConfig=function(e){return e}},isqH:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.calculateBodyLength=function(e){return\"string\"===typeof e?new Blob([e]).size:\"number\"===typeof e.byteLength?e.byteLength:\"number\"===typeof e.size?e.size:void 0}},je3o:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"mrSG\"),i=n(\"vdHl\"),o=n(\"cZ61\"),s=n(\"C70v\"),a=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=u(e);if(t.byteLength>i.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(i.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(i.BLOCK_SIZE);n.set(t);for(var r=0;r<i.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;this.hash.update(t),this.outer.update(n);for(r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!function(e){if(\"string\"===typeof e)return 0===e.length;return 0===e.byteLength}(e)&&!this.error)try{this.hash.update(u(e))}catch(t){this.error=t}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.digestSync()]}))}))},e}();function u(e){return\"string\"===typeof e?s.fromUtf8(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=a},\"jfS+\":function(e,t,n){\"use strict\";var r=n(\"endd\");function i(e){if(\"function\"!==typeof e)throw new TypeError(\"executor must be a function.\");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},kQNw:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.isEmptyData=function(e){return\"string\"===typeof e?0===e.length:0===e.byteLength}},\"kVK+\":function(e,t){t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,f=-7,l=n?i-1:0,h=n?-1:1,d=e[t+l];for(l+=h,o=d&(1<<-f)-1,d>>=-f,f+=a;f>0;o=256*o+e[t+l],l+=h,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=r;f>0;s=256*s+e[t+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=c}return(d?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+l>=1?h/u:h*Math.pow(2,1-l))*u>=2&&(s++,u/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(t*u-1)*Math.pow(2,i),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;e[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+d]=255&s,d+=p,s/=256,c-=8);e[n+d-p]|=128*g}},kiFo:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"mrSG\"),i=n(\"eLY0\"),o=function(e,t){return Math.abs(s(t).getTime()-e)>=3e5},s=function(e){return new Date(Date.now()+e)};function a(e){return function(t){return function(n){return r.__awaiter(this,void 0,void 0,(function(){var s,a,u,c,f,l,h,d,p;return r.__generator(this,(function(g){switch(g.label){case 0:return i.HttpRequest.isInstance(n.request)?\"function\"!==typeof e.signer?[3,2]:[4,e.signer()]:[2,t(n)];case 1:return a=g.sent(),[3,3];case 2:a=e.signer,g.label=3;case 3:return s=a,c=t,f=[r.__assign({},n)],l={},[4,s.sign(n.request,{signingDate:new Date(Date.now()+e.systemClockOffset)})];case 4:return[4,c.apply(void 0,[r.__assign.apply(void 0,f.concat([(l.request=g.sent(),l)]))])];case 5:return u=g.sent(),h=u.response.headers,(d=h&&(h.date||h.Date))&&(p=Date.parse(d),o(p,e.systemClockOffset)&&(e.systemClockOffset=p-Date.now())),[2,u]}}))}))}}}t.awsAuthMiddleware=a,t.awsAuthMiddlewareOptions={name:\"awsAuthMiddleware\",step:\"finalizeRequest\",tags:[\"SIGNATURE\",\"AWSAUTH\"],relation:\"after\",toMiddleware:\"retryMiddleware\"},t.getAwsAuthPlugin=function(e){return{applyToStack:function(n){n.addRelativeTo(a(e),t.awsAuthMiddlewareOptions)}}}},\"ko+D\":function(e,t,n){\"use strict\";n.r(t),n.d(t,\"createScope\",(function(){return v})),n.d(t,\"getSigningKey\",(function(){return m})),n.d(t,\"clearCredentialCache\",(function(){return b})),n.d(t,\"SignatureV4\",(function(){return k}));var r=\"X-Amz-Date\".toLowerCase(),i=[\"authorization\",r,\"date\"],o=\"X-Amz-Signature\".toLowerCase(),s=\"x-amz-content-sha256\",a=\"X-Amz-Security-Token\".toLowerCase(),u={authorization:!0,\"cache-control\":!0,connection:!0,expect:!0,from:!0,\"keep-alive\":!0,\"max-forwards\":!0,pragma:!0,referer:!0,te:!0,trailer:!0,\"transfer-encoding\":!0,upgrade:!0,\"user-agent\":!0,\"x-amzn-trace-id\":!0},c=/^proxy-/,f=/^sec-/,l=\"AWS4-HMAC-SHA256-PAYLOAD\",h=\"UNSIGNED-PAYLOAD\",d=50,p=\"aws4_request\",g={},y=[];function v(e,t,n){return e+\"/\"+t+\"/\"+n+\"/\"+p}function m(e,t,n,r,i){var o=n+\":\"+r+\":\"+i+\":\"+t.accessKeyId+\":\"+t.sessionToken;if(o in g)return g[o];for(y.push(o);y.length>d;)delete g[y.shift()];return g[o]=new Promise((function(s,a){for(var u=Promise.resolve(\"AWS4\"+t.secretAccessKey),c=function(t){(u=u.then((function(n){return function(e,t,n){var r=new e(t);return r.update(n),r.digest()}(e,n,t)}))).catch((function(){}))},f=0,l=[n,r,i,p];f<l.length;f++){c(l[f])}u.then(s,(function(e){delete g[o],a(e)}))}))}function b(){y.length=0,Object.keys(g).forEach((function(e){delete g[e]}))}var _=n(\"mrSG\");function w(e,t,n){for(var r=e.headers,i={},o=0,s=Object.keys(r).sort();o<s.length;o++){var a=s[o],l=a.toLowerCase();(l in u||(null===t||void 0===t?void 0:t.has(l))||c.test(l)||f.test(l))&&(!n||n&&!n.has(l))||(i[l]=r[a].trim().replace(/\\s+/g,\" \"))}return i}var S=n(\"YNd0\");var E=n(\"sqMB\"),A=n(\"fauL\");function I(e,t){var n=e.headers,r=e.body;return Object(_.__awaiter)(this,void 0,void 0,(function(){var e,i,o,a,u;return Object(_.__generator)(this,(function(c){switch(c.label){case 0:for(e=0,i=Object.keys(n);e<i.length;e++)if((o=i[e]).toLowerCase()===s)return[2,n[o]];return void 0!=r?[3,1]:[2,\"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\"];case 1:return\"string\"===typeof r||ArrayBuffer.isView(r)||Object(E.isArrayBuffer)(r)?((a=new t).update(r),u=A.toHex,[4,a.digest()]):[3,3];case 2:return[2,u.apply(void 0,[c.sent()])];case 3:return[2,h]}}))}))}function O(e){var t=e.headers,n=e.query,r=Object(_.__rest)(e,[\"headers\",\"query\"]);return Object(_.__assign)(Object(_.__assign)({},r),{headers:Object(_.__assign)({},t),query:n?T(n):void 0})}function T(e){return Object.keys(e).reduce((function(t,n){var r,i=e[n];return Object(_.__assign)(Object(_.__assign)({},t),((r={})[n]=Array.isArray(i)?Object(_.__spreadArrays)(i):i,r))}),{})}function C(e){e=\"function\"===typeof e.clone?e.clone():O(e);for(var t=0,n=Object.keys(e.headers);t<n.length;t++){var r=n[t];i.indexOf(r.toLowerCase())>-1&&delete e.headers[r]}return e}function P(e){return function(e){if(\"number\"===typeof e)return new Date(1e3*e);if(\"string\"===typeof e)return Number(e)?new Date(1e3*Number(e)):new Date(e);return e}(e).toISOString().replace(/\\.\\d{3}Z$/,\"Z\")}var k=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,i=e.service,o=e.sha256,s=e.uriEscapePath,a=void 0===s||s;if(this.service=i,this.sha256=o,this.uriEscapePath=a,this.applyChecksum=\"boolean\"!==typeof t||t,\"string\"===typeof r){var u=Promise.resolve(r);this.regionProvider=function(){return u}}else this.regionProvider=r;if(\"object\"===typeof n){var c=Promise.resolve(n);this.credentialProvider=function(){return c}}else this.credentialProvider=n}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),Object(_.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,f,l,h,d,p,g,y,m,b,S,E,A,T;return Object(_.__generator)(this,(function(P){switch(P.label){case 0:return[4,Promise.all([this.regionProvider(),this.credentialProvider()])];case 1:return n=P.sent(),r=n[0],i=n[1],o=t.signingDate,s=void 0===o?new Date:o,a=t.expiresIn,u=void 0===a?3600:a,c=t.unsignableHeaders,f=t.signableHeaders,l=N(s),h=l.longDate,d=l.shortDate,u>604800?[2,Promise.reject(\"Signature version 4 presigned URLs must have an expiration date less than one week in the future\")]:(p=v(d,r,this.service),g=function(e){for(var t=\"function\"===typeof e.clone?e.clone():O(e),n=t.headers,r=t.query,i=void 0===r?{}:r,o=0,s=Object.keys(n);o<s.length;o++){var a=s[o];\"x-amz-\"===a.toLowerCase().substr(0,6)&&(i[a]=n[a],delete n[a])}return Object(_.__assign)(Object(_.__assign)({},e),{headers:n,query:i})}(C(e)),i.sessionToken&&(g.query[\"X-Amz-Security-Token\"]=i.sessionToken),g.query[\"X-Amz-Algorithm\"]=\"AWS4-HMAC-SHA256\",g.query[\"X-Amz-Credential\"]=i.accessKeyId+\"/\"+p,g.query[\"X-Amz-Date\"]=h,g.query[\"X-Amz-Expires\"]=u.toString(10),y=w(g,c,f),g.query[\"X-Amz-SignedHeaders\"]=U(y),m=g.query,b=\"X-Amz-Signature\",S=this.getSignature,E=[h,p,this.getSigningKey(i,r,d)],A=this.createCanonicalRequest,T=[g,y],[4,I(e,this.sha256)]);case 2:return[4,S.apply(this,E.concat([A.apply(this,T.concat([P.sent()]))]))];case 3:return m[b]=P.sent(),[2,g]}}))}))},e.prototype.sign=function(e,t){return Object(_.__awaiter)(this,void 0,void 0,(function(){return Object(_.__generator)(this,(function(n){return\"string\"===typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,i=t.signingDate,o=void 0===i?new Date:i,s=t.priorSignature;return Object(_.__awaiter)(this,void 0,void 0,(function(){var e,t,i,a,u,c,f,h,d,p;return Object(_.__generator)(this,(function(g){switch(g.label){case 0:return[4,Promise.all([this.regionProvider(),this.credentialProvider()])];case 1:return e=g.sent()[0],t=N(o),i=t.shortDate,a=t.longDate,u=v(i,e,this.service),[4,I({headers:{},body:r},this.sha256)];case 2:return c=g.sent(),(f=new this.sha256).update(n),d=A.toHex,[4,f.digest()];case 3:return h=d.apply(void 0,[g.sent()]),p=[l,a,u,s,h,c].join(\"\\n\"),[2,this.signString(p,{signingDate:o})]}}))}))},e.prototype.signString=function(e,t){var n=(void 0===t?{}:t).signingDate,r=void 0===n?new Date:n;return Object(_.__awaiter)(this,void 0,void 0,(function(){var t,n,i,o,s,a,u,c;return Object(_.__generator)(this,(function(f){switch(f.label){case 0:return[4,Promise.all([this.regionProvider(),this.credentialProvider()])];case 1:return t=f.sent(),n=t[0],i=t[1],o=N(r).shortDate,u=(a=this.sha256).bind,[4,this.getSigningKey(i,n,o)];case 2:return(s=new(u.apply(a,[void 0,f.sent()]))).update(e),c=A.toHex,[4,s.digest()];case 3:return[2,c.apply(void 0,[f.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,i=n.signingDate,o=void 0===i?new Date:i,u=n.signableHeaders,c=n.unsignableHeaders;return Object(_.__awaiter)(this,void 0,void 0,(function(){var t,n,i,f,l,h,d,p,g,y,m;return Object(_.__generator)(this,(function(b){switch(b.label){case 0:return[4,Promise.all([this.regionProvider(),this.credentialProvider()])];case 1:return t=b.sent(),n=t[0],i=t[1],f=C(e),l=N(o),h=l.longDate,d=l.shortDate,p=v(d,n,this.service),f.headers[r]=h,i.sessionToken&&(f.headers[a]=i.sessionToken),[4,I(f,this.sha256)];case 2:return g=b.sent(),!function(e,t){e=e.toLowerCase();for(var n=0,r=Object.keys(t);n<r.length;n++){if(e===r[n].toLowerCase())return!0}return!1}(s,f.headers)&&this.applyChecksum&&(f.headers[s]=g),y=w(f,c,u),[4,this.getSignature(h,p,this.getSigningKey(i,n,d),this.createCanonicalRequest(f,y,g))];case 3:return m=b.sent(),f.headers.authorization=\"AWS4-HMAC-SHA256 Credential=\"+i.accessKeyId+\"/\"+p+\", SignedHeaders=\"+U(y)+\", Signature=\"+m,[2,f]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+\"\\n\"+this.getCanonicalPath(e)+\"\\n\"+function(e){for(var t=e.query,n=void 0===t?{}:t,r=[],i={},s=function(e){if(e.toLowerCase()===o)return\"continue\";r.push(e);var t=n[e];\"string\"===typeof t?i[e]=Object(S.escapeUri)(e)+\"=\"+Object(S.escapeUri)(t):Array.isArray(t)&&(i[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([Object(S.escapeUri)(e)+\"=\"+Object(S.escapeUri)(n)])}),[]).join(\"&\"))},a=0,u=Object.keys(n).sort();a<u.length;a++){s(u[a])}return r.map((function(e){return i[e]})).filter((function(e){return e})).join(\"&\")}(e)+\"\\n\"+r.map((function(e){return e+\":\"+t[e]})).join(\"\\n\")+\"\\n\\n\"+r.join(\";\")+\"\\n\"+n},e.prototype.createStringToSign=function(e,t,n){return Object(_.__awaiter)(this,void 0,void 0,(function(){var r,i;return Object(_.__generator)(this,(function(o){switch(o.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return i=o.sent(),[2,\"AWS4-HMAC-SHA256\\n\"+e+\"\\n\"+t+\"\\n\"+Object(A.toHex)(i)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?\"/\"+encodeURIComponent(t.replace(/^\\//,\"\")).replace(/%2F/g,\"/\"):t},e.prototype.getSignature=function(e,t,n,r){return Object(_.__awaiter)(this,void 0,void 0,(function(){var i,o,s,a,u;return Object(_.__generator)(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return i=c.sent(),a=(s=this.sha256).bind,[4,n];case 2:return(o=new(a.apply(s,[void 0,c.sent()]))).update(i),u=A.toHex,[4,o.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n){return m(this.sha256,e,n,t,this.service)},e}();function N(e){var t=P(e).replace(/[\\-:]/g,\"\");return{longDate:t,shortDate:t.substr(0,8)}}function U(e){return Object.keys(e).sort().join(\";\")}},\"ko+S\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"mrSG\"),i=n(\"eLY0\"),o=\"content-length\";function s(e){var t=this;return function(n){return function(s){return r.__awaiter(t,void 0,void 0,(function(){var t,a,u,c,f;return r.__generator(this,(function(l){return t=s.request,i.HttpRequest.isInstance(t)&&(a=t.body,u=t.headers,a&&-1===Object.keys(u).map((function(e){return e.toLowerCase()})).indexOf(o)&&void 0!==(c=e(a))&&(t.headers=r.__assign(r.__assign({},t.headers),((f={})[o]=String(c),f)))),[2,n(r.__assign(r.__assign({},s),{request:t}))]}))}))}}}t.contentLengthMiddleware=s,t.contentLengthMiddlewareOptions={step:\"build\",tags:[\"SET_CONTENT_LENGTH\",\"CONTENT_LENGTH\"],name:\"contentLengthMiddleware\"},t.getContentLengthPlugin=function(e){return{applyToStack:function(n){n.add(s(e.bodyLengthChecker),t.contentLengthMiddlewareOptions)}}}},lPiR:function(e,t,n){!function(t,r){var i;e.exports=(i=n(\"Ib8C\"),function(e){var t=i,n=t.lib,r=n.WordArray,o=n.Hasher,s=t.algo,a=[],u=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(a[i]=n(e.pow(r,.5))),u[i]=n(e.pow(r,1/3)),i++),r++}();var c=[],f=s.SHA256=o.extend({_doReset:function(){this._hash=new r.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],f=n[5],l=n[6],h=n[7],d=0;d<64;d++){if(d<16)c[d]=0|e[t+d];else{var p=c[d-15],g=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,y=c[d-2],v=(y<<15|y>>>17)^(y<<13|y>>>19)^y>>>10;c[d]=g+c[d-7]+v+c[d-16]}var m=r&i^r&o^i&o,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),_=h+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&f^~a&l)+u[d]+c[d];h=l,l=f,f=a,a=s+_|0,s=o,o=i,i=r,r=_+(b+m)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+f|0,n[6]=n[6]+l|0,n[7]=n[7]+h|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(f),t.HmacSHA256=o._createHmacHelper(f)}(Math),i.SHA256)}()},lSir:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"mrSG\"),i=n(\"fHsK\");t.resolveRetryConfig=function(e){var t=void 0===e.maxRetries?3:e.maxRetries;return r.__assign(r.__assign({},e),{maxRetries:t,retryStrategy:e.retryStrategy||new i.ExponentialBackOffStrategy(t)})}},movi:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"mrSG\");r.__exportStar(n(\"uaAZ\"),t),r.__exportStar(n(\"Nkw6\"),t),r.__exportStar(n(\"c+1v\"),t),r.__exportStar(n(\"zeXR\"),t),r.__exportStar(n(\"CrD2\"),t),r.__exportStar(n(\"8qbq\"),t),r.__exportStar(n(\"xEyH\"),t),r.__exportStar(n(\"y691\"),t),r.__exportStar(n(\"CG9Y\"),t)},mrSG:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"__extends\",(function(){return i})),n.d(t,\"__assign\",(function(){return o})),n.d(t,\"__rest\",(function(){return s})),n.d(t,\"__decorate\",(function(){return a})),n.d(t,\"__param\",(function(){return u})),n.d(t,\"__metadata\",(function(){return c})),n.d(t,\"__awaiter\",(function(){return f})),n.d(t,\"__generator\",(function(){return l})),n.d(t,\"__createBinding\",(function(){return h})),n.d(t,\"__exportStar\",(function(){return d})),n.d(t,\"__values\",(function(){return p})),n.d(t,\"__read\",(function(){return g})),n.d(t,\"__spread\",(function(){return y})),n.d(t,\"__spreadArrays\",(function(){return v})),n.d(t,\"__await\",(function(){return m})),n.d(t,\"__asyncGenerator\",(function(){return b})),n.d(t,\"__asyncDelegator\",(function(){return _})),n.d(t,\"__asyncValues\",(function(){return w})),n.d(t,\"__makeTemplateObject\",(function(){return S})),n.d(t,\"__importStar\",(function(){return E})),n.d(t,\"__importDefault\",(function(){return A})),n.d(t,\"__classPrivateFieldGet\",(function(){return I})),n.d(t,\"__classPrivateFieldSet\",(function(){return O}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if(\"object\"===typeof Reflect&&\"function\"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if(\"object\"===typeof Reflect&&\"function\"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function h(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function d(e,t){for(var n in e)\"default\"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t=\"function\"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&\"number\"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}function g(e,t){var n=\"function\"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var r,i=n.apply(e,t||[]),o=[];return r={},s(\"next\"),s(\"throw\"),s(\"return\"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):f(o[0][2],n)}catch(r){f(o[0][3],r)}var n}function u(e){a(\"next\",e)}function c(e){a(\"throw\",e)}function f(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _(e){var t,n;return t={},r(\"next\"),r(\"throw\",(function(e){throw e})),r(\"return\"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:\"return\"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r(\"next\"),r(\"throw\"),r(\"return\"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function S(e,t){return Object.defineProperty?Object.defineProperty(e,\"raw\",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return t.get(e)}function O(e,t,n){if(!t.has(e))throw new TypeError(\"attempted to set private field on non-instance\");return t.set(e,n),n}},nbHn:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"mrSG\"),i=n(\"Z6Ly\");function o(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error(\"Reader aborted too early\"));var i=null!==(e=r.result)&&void 0!==e?e:\"\",o=i.indexOf(\",\"),s=o>-1?o+1:i.length;t(i.substring(s))},r.onabort=function(){return n(new Error(\"Read aborted\"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}t.streamCollector=function(e){return e instanceof Blob?function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,o(e)];case 1:return t=r.sent(),n=i.fromBase64(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n,i,o,s,a,u;return r.__generator(this,(function(r){switch(r.label){case 0:t=new Uint8Array(0),n=e.getReader(),i=!1,r.label=1;case 1:return i?[3,3]:[4,n.read()];case 2:return o=r.sent(),s=o.done,(a=o.value)&&(u=t,(t=new Uint8Array(u.length+a.length)).set(u),t.set(a,u.length)),i=s,[3,1];case 3:return[2,t]}}))}))}(e)}},nbmR:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.fromStatic=function(e){var t=Promise.resolve(e);return function(){return t}}},nhFR:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"mrSG\"),i=n(\"dHXu\");t.escapeUriPath=function(e){var t,n,o=[];try{for(var s=r.__values(e.split(\"/\")),a=s.next();!a.done;a=s.next()){var u=a.value;o.push(i.escapeUri(u))}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o.join(\"/\")}},ntEb:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"mrSG\"),i=[\"decrypt\",\"digest\",\"encrypt\",\"exportKey\",\"generateKey\",\"importKey\",\"sign\",\"verify\"];function o(e){return\"object\"===typeof e&&\"object\"===typeof e.crypto&&\"function\"===typeof e.crypto.getRandomValues}function s(e){return e&&i.every((function(t){return\"function\"===typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!o(e)||\"object\"!==typeof e.crypto.subtle)&&s(e.crypto.subtle)},t.supportsSecureRandom=o,t.supportsSubtleCrypto=s,t.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:if(!s(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:\"AES-GCM\",length:128},!1,[\"encrypt\"])];case 2:return t=n.sent(),[4,e.encrypt({name:\"AES-GCM\",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},nxS6:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.memoize=function(e,t,n){if(void 0===t){var r=e();return function(){return r}}var i=e(),o=!1;return function(){return o?i:i.then((function(r){return n&&!n(r)?(o=!0,r):t(r)?i=e():r}))}}},p46w:function(e,t,n){var r,i;!function(o){if(void 0===(i=\"function\"===typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i),!0,e.exports=o(),!!0){var s=window.Cookies,a=window.Cookies=o();a.noConflict=function(){return window.Cookies=s,a}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(t,n,o){if(\"undefined\"!==typeof document){\"number\"===typeof(o=e({path:\"/\"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():\"\";try{var s=JSON.stringify(n);/^[\\{\\[]/.test(s)&&(n=s)}catch(c){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\\(\\)]/g,escape);var a=\"\";for(var u in o)o[u]&&(a+=\"; \"+u,!0!==o[u]&&(a+=\"=\"+o[u].split(\";\")[0]));return document.cookie=t+\"=\"+n+a}}function s(e,n){if(\"undefined\"!==typeof document){for(var i={},o=document.cookie?document.cookie.split(\"; \"):[],s=0;s<o.length;s++){var a=o[s].split(\"=\"),u=a.slice(1).join(\"=\");n||'\"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=t(a[0]);if(u=(r.read||r)(u,c)||t(u),n)try{u=JSON.parse(u)}catch(f){}if(i[c]=u,e===c)break}catch(f){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return s(e,!1)},i.getJSON=function(e){return s(e,!0)},i.remove=function(t,n){o(t,\"\",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))}))},p72H:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.SHA_256_HASH={name:\"SHA-256\"},t.SHA_256_HMAC_ALGO={name:\"HMAC\",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},qGyK:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const r=n(\"mrSG\");t.deserializerMiddleware=function(e,t){return n=>i=>r.__awaiter(this,void 0,void 0,(function*(){const{response:r}=yield n(i);return{response:r,output:yield t(r,e)}}))}},\"qPl/\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"mrSG\");function i(e){if(\"string\"===typeof e){var t=Promise.resolve(e);return function(){return t}}return e}t.resolveRegionConfig=function(e){var t=e.region||e.regionDefaultProvider(e);return r.__assign(r.__assign({},e),{region:i(t)})}},qunn:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"mrSG\");r.__exportStar(n(\"YVrH\"),t),r.__exportStar(n(\"qPl/\"),t)},\"rb/8\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"mrSG\"),i=n(\"eLY0\");t.resolveHostHeaderConfig=function(e){return e},t.hostHeaderMiddleware=function(e){return function(t){return function(n){return r.__awaiter(void 0,void 0,void 0,(function(){var o,s;return r.__generator(this,(function(r){return i.HttpRequest.isInstance(n.request)?(o=n.request,s=(e.requestHandler.metadata||{}).handlerProtocol,(void 0===s?\"\":s).indexOf(\"h2\")>=0&&!o.headers[\":authority\"]?(delete o.headers.host,o.headers[\":authority\"]=\"\"):o.headers.host||(o.headers.host=o.hostname),[2,t(n)]):[2,t(n)]}))}))}}},t.hostHeaderMiddlewareOptions={name:\"hostHeaderMiddleware\",step:\"build\",tags:[\"HOST\"]},t.getHostHeaderPlugin=function(e){return{applyToStack:function(n){n.add(t.hostHeaderMiddleware(e),t.hostHeaderMiddlewareOptions)}}}},rbd8:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"mrSG\");r.__exportStar(n(\"acqe\"),t),r.__exportStar(n(\"fHsK\"),t),r.__exportStar(n(\"lSir\"),t),r.__exportStar(n(\"F/3P\"),t),r.__exportStar(n(\"0f27\"),t)},rePB:function(e,t,n){\"use strict\";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,\"a\",(function(){return r}))},rv4x:function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}Object.defineProperty(t,\"__esModule\",{value:!0}),t.Observable=void 0;var s=function(){return\"function\"===typeof Symbol},a=function(e){return s()&&Boolean(Symbol[e])},u=function(e){return a(e)?Symbol[e]:\"@@\"+e};s()&&!a(\"observable\")&&(Symbol.observable=Symbol(\"observable\"));var c=u(\"iterator\"),f=u(\"observable\"),l=u(\"species\");function h(e,t){var n=e[t];if(null!=n){if(\"function\"!==typeof n)throw new TypeError(n+\" is not a function\");return n}}function d(e){var t=e.constructor;return void 0!==t&&null===(t=t[l])&&(t=void 0),void 0!==t?t:E}function p(e){return e instanceof E}function g(e){g.log?g.log(e):setTimeout((function(){throw e}))}function y(e){Promise.resolve().then((function(){try{e()}catch(t){g(t)}}))}function v(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if(\"function\"===typeof t)t();else{var n=h(t,\"unsubscribe\");n&&n.call(t)}}catch(r){g(r)}}function m(e){e._observer=void 0,e._queue=void 0,e._state=\"closed\"}function b(e,t,n){e._state=\"running\";var r=e._observer;try{var i=h(r,t);switch(t){case\"next\":i&&i.call(r,n);break;case\"error\":if(m(e),!i)throw n;i.call(r,n);break;case\"complete\":m(e),i&&i.call(r)}}catch(o){g(o)}\"closed\"===e._state?v(e):\"running\"===e._state&&(e._state=\"ready\")}function _(e,t,n){if(\"closed\"!==e._state){if(\"buffering\"!==e._state)return\"ready\"!==e._state?(e._state=\"buffering\",e._queue=[{type:t,value:n}],void y((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state=\"ready\";for(var n=0;n<t.length&&(b(e,t[n].type,t[n].value),\"closed\"!==e._state);++n);}}(e)}))):void b(e,t,n);e._queue.push({type:t,value:n})}}var w=function(){function e(t,n){r(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state=\"initializing\";var i=new S(this);try{this._cleanup=n.call(void 0,i)}catch(o){i.error(o)}\"initializing\"===this._state&&(this._state=\"ready\")}return o(e,[{key:\"unsubscribe\",value:function(){\"closed\"!==this._state&&(m(this),v(this))}},{key:\"closed\",get:function(){return\"closed\"===this._state}}]),e}(),S=function(){function e(t){r(this,e),this._subscription=t}return o(e,[{key:\"next\",value:function(e){_(this._subscription,\"next\",e)}},{key:\"error\",value:function(e){_(this._subscription,\"error\",e)}},{key:\"complete\",value:function(){_(this._subscription,\"complete\")}},{key:\"closed\",get:function(){return\"closed\"===this._subscription._state}}]),e}(),E=function(){function e(t){if(r(this,e),!(this instanceof e))throw new TypeError(\"Observable cannot be called as a function\");if(\"function\"!==typeof t)throw new TypeError(\"Observable initializer must be a function\");this._subscriber=t}return o(e,[{key:\"subscribe\",value:function(e){return\"object\"===typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new w(e,this._subscriber)}},{key:\"forEach\",value:function(e){var t=this;return new Promise((function(n,r){if(\"function\"===typeof e)var i=t.subscribe({next:function(t){try{e(t,o)}catch(n){r(n),i.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+\" is not a function\"));function o(){i.unsubscribe(),n()}}))}},{key:\"map\",value:function(e){var t=this;if(\"function\"!==typeof e)throw new TypeError(e+\" is not a function\");return new(d(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(r){return n.error(r)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:\"filter\",value:function(e){var t=this;if(\"function\"!==typeof e)throw new TypeError(e+\" is not a function\");return new(d(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(r){return n.error(r)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:\"reduce\",value:function(e){var t=this;if(\"function\"!==typeof e)throw new TypeError(e+\" is not a function\");var n=d(this),r=arguments.length>1,i=!1,o=arguments[1],s=o;return new n((function(n){return t.subscribe({next:function(t){var o=!i;if(i=!0,!o||r)try{s=e(s,t)}catch(a){return n.error(a)}else s=t},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError(\"Cannot reduce an empty sequence\"));n.next(s),n.complete()}})}))}},{key:\"concat\",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=d(this);return new i((function(t){var r,o=0;return function e(s){r=s.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){o===n.length?(r=void 0,t.complete()):e(i.from(n[o++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))}},{key:\"flatMap\",value:function(e){var t=this;if(\"function\"!==typeof e)throw new TypeError(e+\" is not a function\");var n=d(this);return new n((function(r){var i=[],o=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(a){return r.error(a)}var o=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=i.indexOf(o);e>=0&&i.splice(e,1),s()}});i.push(o)},error:function(e){r.error(e)},complete:function(){s()}});function s(){o.closed&&0===i.length&&r.complete()}return function(){i.forEach((function(e){return e.unsubscribe()})),o.unsubscribe()}}))}},{key:f,value:function(){return this}}],[{key:\"from\",value:function(t){var n=\"function\"===typeof this?this:e;if(null==t)throw new TypeError(t+\" is not an object\");var r=h(t,f);if(r){var i=r.call(t);if(Object(i)!==i)throw new TypeError(i+\" is not an object\");return p(i)&&i.constructor===n?i:new n((function(e){return i.subscribe(e)}))}if(a(\"iterator\")&&(r=h(t,c)))return new n((function(e){y((function(){if(!e.closed){var n=!0,i=!1,o=void 0;try{for(var s,a=r.call(t)[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var u=s.value;if(e.next(u),e.closed)return}}catch(c){i=!0,o=c}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){y((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+\" is not observable\")}},{key:\"of\",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=\"function\"===typeof this?this:e;return new i((function(e){y((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))}},{key:l,get:function(){return this}}]),e}();t.Observable=E,s()&&Object.defineProperty(E,Symbol(\"extensions\"),{value:{symbol:f,hostReportError:g},configurable:!0})},s2vz:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.invalidFunction=function(e){return function(){throw new Error(e)}}},sqMB:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.isArrayBuffer=function(e){return\"function\"===typeof ArrayBuffer&&e instanceof ArrayBuffer||\"[object ArrayBuffer]\"===Object.prototype.toString.call(e)}},tQ2B:function(e,t,n){\"use strict\";var r=n(\"xTJ+\"),i=n(\"Rn+g\"),o=n(\"MLWZ\"),s=n(\"w0Vi\"),a=n(\"OTTw\"),u=n(\"LYNF\");e.exports=function(e){return new Promise((function(t,c){var f=e.data,l=e.headers;r.isFormData(f)&&delete l[\"Content-Type\"];var h=new XMLHttpRequest;if(e.auth){var d=e.auth.username||\"\",p=e.auth.password||\"\";l.Authorization=\"Basic \"+btoa(d+\":\"+p)}if(h.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf(\"file:\"))){var n=\"getAllResponseHeaders\"in h?s(h.getAllResponseHeaders()):null,r={data:e.responseType&&\"text\"!==e.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:n,config:e,request:h};i(t,c,r),h=null}},h.onabort=function(){h&&(c(u(\"Request aborted\",e,\"ECONNABORTED\",h)),h=null)},h.onerror=function(){c(u(\"Network Error\",e,null,h)),h=null},h.ontimeout=function(){c(u(\"timeout of \"+e.timeout+\"ms exceeded\",e,\"ECONNABORTED\",h)),h=null},r.isStandardBrowserEnv()){var g=n(\"eqyj\"),y=(e.withCredentials||a(e.url))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;y&&(l[e.xsrfHeaderName]=y)}if(\"setRequestHeader\"in h&&r.forEach(l,(function(e,t){\"undefined\"===typeof f&&\"content-type\"===t.toLowerCase()?delete l[t]:h.setRequestHeader(t,e)})),e.withCredentials&&(h.withCredentials=!0),e.responseType)try{h.responseType=e.responseType}catch(v){if(\"json\"!==e.responseType)throw v}\"function\"===typeof e.onDownloadProgress&&h.addEventListener(\"progress\",e.onDownloadProgress),\"function\"===typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener(\"progress\",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),c(e),h=null)})),void 0===f&&(f=null),h.send(f)}))}},uaAZ:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"Qli5\"),i=function(){function e(e){this.middlewareStack=new r.MiddlewareStack,this.config=e}return e.prototype.send=function(e,t,n){var r=\"function\"!==typeof t?t:void 0,i=\"function\"===typeof t?t:n,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!i)return o(e).then((function(e){return e.output}));o(e).then((function(e){return i(null,e.output)}),(function(e){return i(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}();t.Client=i},usVy:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"daIz\");t.parseUrl=function(e){var t,n=new URL(e),i=n.hostname,o=n.pathname,s=n.port,a=n.protocol,u=n.search;return u&&(t=r.parseQueryString(u)),{hostname:i,port:s?parseInt(s):void 0,protocol:a,path:o,query:t}}},vDqi:function(e,t,n){e.exports=n(\"zuR4\")},vdHl:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},viNG:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),n(\"mrSG\").__exportStar(n(\"ZIxo\"),t);var r=n(\"dFEU\");t.Ie11Sha256=r.Sha256;var i=n(\"b4Ml\");t.WebCryptoSha256=i.Sha256},w0Vi:function(e,t,n){\"use strict\";var r=n(\"xTJ+\"),i=[\"age\",\"authorization\",\"content-length\",\"content-type\",\"etag\",\"expires\",\"from\",\"host\",\"if-modified-since\",\"if-unmodified-since\",\"last-modified\",\"location\",\"max-forwards\",\"proxy-authorization\",\"referer\",\"retry-after\",\"user-agent\"];e.exports=function(e){var t,n,o,s={};return e?(r.forEach(e.split(\"\\n\"),(function(e){if(o=e.indexOf(\":\"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]=\"set-cookie\"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+\", \"+n:n}})),s):s}},x86X:function(e,t){e.exports=function(e){return null!=e&&null!=e.constructor&&\"function\"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},xAGQ:function(e,t,n){\"use strict\";var r=n(\"xTJ+\");e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},xDdU:function(e,t,n){var r,i,o=n(\"4fRq\"),s=n(\"I2ZF\"),a=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,f=t||[],l=(e=e||{}).node||r,h=void 0!==e.clockseq?e.clockseq:i;if(null==l||null==h){var d=o();null==l&&(l=r=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==h&&(h=i=16383&(d[6]<<8|d[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:u+1,y=p-a+(g-u)/1e4;if(y<0&&void 0===e.clockseq&&(h=h+1&16383),(y<0||p>a)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");a=p,u=g,i=h;var v=(1e4*(268435455&(p+=122192928e5))+g)%4294967296;f[c++]=v>>>24&255,f[c++]=v>>>16&255,f[c++]=v>>>8&255,f[c++]=255&v;var m=p/4294967296*1e4&268435455;f[c++]=m>>>8&255,f[c++]=255&m,f[c++]=m>>>24&15|16,f[c++]=m>>>16&255,f[c++]=h>>>8|128,f[c++]=255&h;for(var b=0;b<6;++b)f[c+b]=l[b];return t||s(f)}},xEyH:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"mrSG\");t.StringWrapper=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,r.__spread([null],arguments)),n=new t;return Object.setPrototypeOf(n,e.prototype),n},t.StringWrapper.prototype=Object.create(String.prototype,{constructor:{value:t.StringWrapper,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(t.StringWrapper,String);var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||\"string\"===typeof e?e:JSON.stringify(e))},t}(t.StringWrapper);t.LazyJsonString=i},\"xTJ+\":function(e,t,n){\"use strict\";var r=n(\"HSsa\"),i=n(\"x86X\"),o=Object.prototype.toString;function s(e){return\"[object Array]\"===o.call(e)}function a(e){return null!==e&&\"object\"===typeof e}function u(e){return\"[object Function]\"===o.call(e)}function c(e,t){if(null!==e&&\"undefined\"!==typeof e)if(\"object\"!==typeof e&&(e=[e]),s(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:s,isArrayBuffer:function(e){return\"[object ArrayBuffer]\"===o.call(e)},isBuffer:i,isFormData:function(e){return\"undefined\"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return\"undefined\"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return\"string\"===typeof e},isNumber:function(e){return\"number\"===typeof e},isObject:a,isUndefined:function(e){return\"undefined\"===typeof e},isDate:function(e){return\"[object Date]\"===o.call(e)},isFile:function(e){return\"[object File]\"===o.call(e)},isBlob:function(e){return\"[object Blob]\"===o.call(e)},isFunction:u,isStream:function(e){return a(e)&&u(e.pipe)},isURLSearchParams:function(e){return\"undefined\"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return(\"undefined\"===typeof navigator||\"ReactNative\"!==navigator.product&&\"NativeScript\"!==navigator.product&&\"NS\"!==navigator.product)&&(\"undefined\"!==typeof window&&\"undefined\"!==typeof document)},forEach:c,merge:function e(){var t={};function n(n,r){\"object\"===typeof t[r]&&\"object\"===typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){\"object\"===typeof t[r]&&\"object\"===typeof n?t[r]=e(t[r],n):t[r]=\"object\"===typeof n?e({},n):n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return t},extend:function(e,t,n){return c(t,(function(t,i){e[i]=n&&\"function\"===typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\\s*/,\"\").replace(/\\s*$/,\"\")}}},xk4V:function(e,t,n){var r=n(\"4fRq\"),i=n(\"I2ZF\");e.exports=function(e,t,n){var o=t&&n||0;\"string\"==typeof e&&(t=\"binary\"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||i(s)}},xxdO:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),n(\"mrSG\").__exportStar(n(\"je3o\"),t)},y691:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],i=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];t.dateToUtcString=function(e){var t=e.getUTCFullYear(),n=e.getUTCMonth(),o=e.getUTCDay(),s=e.getUTCDate(),a=e.getUTCHours(),u=e.getUTCMinutes(),c=e.getUTCSeconds(),f=s<10?\"0\"+s:\"\"+s,l=a<10?\"0\"+a:\"\"+a,h=u<10?\"0\"+u:\"\"+u,d=c<10?\"0\"+c:\"\"+c;return r[o]+\", \"+f+\" \"+i[n]+\" \"+t+\" \"+l+\":\"+h+\":\"+d+\" GMT\"}},yK9s:function(e,t,n){\"use strict\";var r=n(\"xTJ+\");e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},yLpj:function(e,t){var n;n=function(){return this}();try{n=n||new Function(\"return this\")()}catch(r){\"object\"===typeof window&&(n=window)}e.exports=n},zZqu:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(\"mrSG\");r.__exportStar(n(\"3sDZ\"),t),r.__exportStar(n(\"nbmR\"),t),r.__exportStar(n(\"nxS6\"),t),r.__exportStar(n(\"V+gA\"),t)},zeXR:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getArrayIfSingleItem=function(e){return Array.isArray(e)?e:[e]}},zuR4:function(e,t,n){\"use strict\";var r=n(\"xTJ+\"),i=n(\"HSsa\"),o=n(\"CgaS\"),s=n(\"SntB\");function a(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var u=a(n(\"JEQr\"));u.Axios=o,u.create=function(e){return a(s(u.defaults,e))},u.Cancel=n(\"endd\"),u.CancelToken=n(\"jfS+\"),u.isCancel=n(\"Lmem\"),u.all=function(e){return Promise.all(e)},u.spread=n(\"DfZB\"),e.exports=u,e.exports.default=u}},[[\"H0SL\",0,1,4,2]]]);","extractedComments":[]}